var e,t;"function"==typeof(e=globalThis.define)&&(t=e,e=null),function(t,r,n,s,i){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o="function"==typeof a[s]&&a[s],c=o.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(e,r){if(!c[e]){if(!t[e]){var n="function"==typeof a[s]&&a[s];if(!r&&n)return n(e,!0);if(o)return o(e,!0);if(l&&"string"==typeof e)return l(e);var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}d.resolve=function(r){var n=t[e][1][r];return null!=n?n:r},d.cache={};var p=c[e]=new u.Module(e);t[e][0].call(p.exports,d,p,p.exports,this)}return c[e].exports;function d(e){var t=d.resolve(e);return!1===t?{}:u(t)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=t,u.cache=c,u.parent=o,u.register=function(e,r){t[e]=[function(e,t){t.exports=r},{}]},Object.defineProperty(u,"root",{get:function(){return a[s]}}),a[s]=u;for(var p=0;p<r.length;p++)u(r[p]);if(n){var d=u(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=d:"function"==typeof e&&e.amd?e(function(){return d}):i&&(this[i]=d)}}({"5Vz1N":[function(e,t,r){e("../../../src/background/index")},{"../../../src/background/index":"4HpfL"}],"4HpfL":[function(e,t,r){var n=e("@/core/backend/services/auth"),s=e("@/core/backend/services/mlb"),i=e("@/core/either"),a=e("@trpc/server"),o=e("trpc-chrome/adapter"),c=e("zod"),l=e("@plasmohq/storage"),u=e("./usecases/get-product-data"),p=e("@/core/backend"),d=e("@/core/backend/services/login-with-cookie"),h=e("@/utils/scrape-catalog");let m=(0,a.initTRPC).create({isServer:!1,allowOutsideOfServer:!0});chrome.tabs.onUpdated.addListener(async(e,t)=>{t.url?.includes("mercadolivre")}),chrome.cookies.onChanged.addListener(async e=>{let t=e.cookie,r="__session"===t.name&&(t.domain.includes("hunterhub")||"localhost"===t.domain);if(r)try{e.removed?(console.log("Hunter Hub cookie removed - logging out extension"),await (0,n.authService).logout()):(console.log("Hunter Hub cookie changed - attempting auto-login"),await (0,d.loginWithCookie)())}catch(e){console.error("Cookie sync failed:",e)}}),chrome.runtime.onInstalled.addListener(async e=>{console.log("Extension installed/updated - attempting auto-login"),await (0,d.loginWithCookie)(),"install"===e.reason&&chrome.tabs.create({url:"https://app.hunterhub.com.br/login?from=extension&welcome=true"})}),chrome.runtime.onMessage.addListener((e,t,r)=>{let s=t?.tab?.id;if("open-login"===e.type){chrome.tabs.create({url:"https://app.hunterhub.com.br/login?from=extension",active:!0}),r({success:!0});return}return"check-auth"===e.type?((0,n.authService).verifyAccess().then(e=>{r({authenticated:!!e})}).catch(e=>{console.error("Auth check failed:",e),r({authenticated:!1})}),!0):s?void("new-route"===e.type&&(console.log("New route in background"),chrome.tabs.sendMessage(s,e))):(console.log("Sem tab id"),null)});let f=m.router({getProductData:m.procedure.input((0,c.z).object({productId:(0,c.z).string()})).query(async({input:e})=>{let t=new u.GetItemDetailsUseCase(e.productId),r=await t.execute();if((0,i.isLeft)(r))throw Error(r.left);return r.right}),openNewTab:m.procedure.input((0,c.z).object({url:(0,c.z).string()})).mutation(async({input:e})=>(chrome.tabs.create({url:e.url,active:!0,index:0}),{success:!0})),getSellerData:m.procedure.input((0,c.z).object({sellerId:(0,c.z).string()})).query(async({input:{sellerId:e}})=>(0,s.mlbService).getSellerData(e)),getProductCatalog:m.procedure.input((0,c.z).object({catalogId:(0,c.z).string()})).query(async({input:{catalogId:e}})=>(0,s.mlbService).getItemCatalog(e)),getCatalogItens:m.procedure.input((0,c.z).object({catalogId:(0,c.z).string()})).query(async({input:{catalogId:e}})=>(0,p.hunterSDK).catalog.getProducts(e)),getProductItens:m.procedure.input((0,c.z).object({catalogId:(0,c.z).string()})).query(async({input:{catalogId:e}})=>(0,p.hunterSDK).catalog.getProducts(e)),getProductPosition:m.procedure.input((0,c.z).object({catalogId:(0,c.z).string()})).query(async({input:{catalogId:e}})=>(0,p.hunterSDK).catalog.getPosition(e)),getCatalogWinnerItem:m.procedure.input((0,c.z).object({catalogId:(0,c.z).string()})).query(async({input:{catalogId:e}})=>(0,p.hunterSDK).catalog.getItemById(e)),getItemVisits:m.procedure.input((0,c.z).object({itemIds:(0,c.z).array((0,c.z).string())})).query(async({input:{itemIds:e}})=>{let t=e.map(e=>(0,p.hunterSDK).visits.getItemVisitsMetrics(e));return Promise.all(t)}),getItemVisit:m.procedure.input((0,c.z).object({itemId:(0,c.z).string()})).query(async({input:{itemId:e}})=>{let t=await (0,p.hunterSDK).visits.getItemVisits(e);return t}),getItemFornecedores:m.procedure.input((0,c.z).object({ean:(0,c.z).string().nullable(),name:(0,c.z).array((0,c.z).string()),model:(0,c.z).string().nullable()})).query(async({input:{ean:e,name:t,model:r}})=>e?(0,p.hunterSDK).fornecedor.findItem({ean:e,name:t,model:r}):[]),getProductCostNew:m.procedure.input((0,c.z).object({categoryId:(0,c.z).string(),sellerId:(0,c.z).string(),freeShipping:(0,c.z).boolean(),itemId:(0,c.z).string(),listingTypeId:(0,c.z).enum(["gold_pro","gold_premium","gold_special","gold","silver","bronze","free"]),price:(0,c.z).number()})).query(async({input:{categoryId:e,freeShipping:t,itemId:r,listingTypeId:n,price:s,sellerId:i}})=>{let a=new l.Storage,o=await a.get("user-premium");return(0,p.hunterSDK).itens.getCosts({categoryId:e,freeShipping:t,itemId:r,listingType:n,price:s,sellerId:i,isPremium:o||void 0})}),getFormattedItem:m.procedure.input((0,c.z).object({itemId:(0,c.z).string()})).query(async({input:{itemId:e}})=>(0,p.hunterSDK).itens.getById(e)),getProductCatalogDataNew:m.procedure.input((0,c.z).object({isPremium:(0,c.z).boolean(),vendas:(0,c.z).number().nullable(),catalogId:(0,c.z).string(),itemId:(0,c.z).string(),item:h.newFormattedItemSchema})).query(async({input:{isPremium:e,vendas:t,catalogId:r,itemId:n,item:s}})=>(0,p.hunterSDK).itens.getCatalogData({isPremium:e,vendas:t,itemId:n,catalogId:r,item:s})),getTrendProducts:m.procedure.query(async()=>await (0,s.mlbService).getTrendProducts()),getMultiItems:m.procedure.input((0,c.z).object({items:(0,c.z).array((0,c.z).string())})).query(async({input:e})=>(0,p.hunterSDK).itens.getMany(e.items)),getMultiCatalogs:m.procedure.input((0,c.z).object({catalogIds:(0,c.z).array((0,c.z).string())})).query(async({input:e})=>(0,p.hunterSDK).catalog.getMany(e.catalogIds)),getMultiSellers:m.procedure.input((0,c.z).object({sellerIds:(0,c.z).array((0,c.z).string())})).query(async({input:e})=>{let t=await (0,s.mlbService).getMultiSellers(e.sellerIds);return t}),login:m.procedure.input((0,c.z).object({key:(0,c.z).string()})).mutation(({input:e})=>(0,n.authService).login(e.key)),logout:m.procedure.mutation(async()=>{await (0,n.authService).logout()}),loginWithCookie:m.procedure.mutation(async()=>await (0,d.loginWithCookie)()),getListingTypesCost:m.procedure.input((0,c.z).object({categoryId:(0,c.z).string(),price:(0,c.z).number()})).query(async({input:{categoryId:e,price:t}})=>(0,p.hunterSDK).itens.getListingTypesCost({categoryId:e,price:t})),getOrderByMarketplaceId:m.procedure.input((0,c.z).object({marketplaceOrderId:(0,c.z).string()})).query(async({input:{marketplaceOrderId:e}})=>(0,p.hunterSDK).orders.getOrderByMarketplaceId(e)),checkMLAccounts:m.procedure.query(async()=>{try{let e=await (0,p.hunterSDK).accounts.list();return{hasAccounts:e.length>0,hasActiveAccounts:e.some(e=>e.isActive),totalAccounts:e.length,accounts:e.map(e=>({id:e.id,accountName:e.accountName,isActive:e.isActive}))}}catch(e){return console.error("Error checking ML accounts:",e),{hasAccounts:!1,hasActiveAccounts:!1,totalAccounts:0,accounts:[]}}})});(0,o.createChromeHandler)({router:f}),console.log("Init background service");let g=async()=>{console.log("Init main function"),setInterval(async()=>{console.log("Verificando usu\xe1rio..."),await (0,n.authService).verifyAccess()},18e4)};g()},{"@/core/backend/services/auth":"euhny","@/core/backend/services/mlb":"aQYcn","@/core/either":"2prkh","@trpc/server":"SlSHh","trpc-chrome/adapter":"d1qY2",zod:"lSpxi","@plasmohq/storage":"coO0M","./usecases/get-product-data":"bit6N","@/core/backend":"51CuV","@/core/backend/services/login-with-cookie":"iqkXx","@/utils/scrape-catalog":"hgNyl"}],euhny:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"AuthService",()=>o),n.export(r,"authService",()=>c);var s=e("@plasmohq/storage"),i=e(".."),a=e("@hunter/sdk");class o{constructor(){this.storage=new s.Storage}async login(e){let t=await (0,i.hunterSDK).auth.loginExtension({key:e}),r=t.user.subscriptions.find(e=>"active"===e.status||"trialing"===e.status);return await this.storage.set("session-cookie",t.accessToken),await this.storage.set("user",t.user),await this.storage.set("user-premium",!!r),t.user}async logout(){console.log("Logout"),await this.storage.set("user",null),await this.storage.set("user-premium",null),await this.storage.set("session-cookie",null)}async verifyAccess(){try{let e=await (0,i.hunterSDK).user.me();if(!e)return await this.storage.set("user-premium",null),await this.storage.set("session-cookie",null),await this.storage.set("user",null),!1;await this.storage.set("user",e);let t=e.subscriptions.find(e=>"active"===e.status||"trialing"===e.status);return await this.storage.set("user-premium",!!t),e}catch(e){if(e instanceof a.HttpError&&401===e.response.status)return await this.storage.set("session-cookie",null),await this.storage.set("user",null),await this.storage.set("user-premium",null),!1;console.error(e)}}async getUser(){let e=await this.storage.get("user");return e||await this.verifyAccess(),await this.storage.get("user")||null}async openLoginPage(){await chrome.tabs.create({url:"https://app.hunterhub.com.br/login?from=extension",active:!0})}}let c=new o},{"@plasmohq/storage":"coO0M","..":"51CuV","@hunter/sdk":"4cxqd","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],coO0M:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"BaseStorage",()=>o),n.export(r,"Storage",()=>c);var s=e("pify"),i=n.interopDefault(s),a=()=>{try{let e=globalThis.navigator?.userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if("Chrome"===e[1])return 100>parseInt(e[2])||globalThis.chrome.runtime?.getManifest()?.manifest_version===2}catch{}return!1},o=class{#e;#t;get primaryClient(){return this.#t}#r;get secondaryClient(){return this.#r}#n;get area(){return this.#n}get hasWebApi(){try{return"u">typeof window&&!!window.localStorage}catch(e){return console.error(e),!1}}#s=new Map;#i;get copiedKeySet(){return this.#i}isCopied=e=>this.hasWebApi&&(this.allCopied||this.copiedKeySet.has(e));#a=!1;get allCopied(){return this.#a}getExtStorageApi=()=>globalThis.browser?.storage||globalThis.chrome?.storage;get hasExtensionApi(){try{return!!this.getExtStorageApi()}catch(e){return console.error(e),!1}}isWatchSupported=()=>this.hasExtensionApi;keyNamespace="";isValidKey=e=>e.startsWith(this.keyNamespace);getNamespacedKey=e=>`${this.keyNamespace}${e}`;getUnnamespacedKey=e=>e.slice(this.keyNamespace.length);serde={serializer:JSON.stringify,deserializer:JSON.parse};constructor({area:e="sync",allCopied:t=!1,copiedKeyList:r=[],serde:n={}}={}){this.setCopiedKeySet(r),this.#n=e,this.#a=t,this.serde={...this.serde,...n};try{this.hasWebApi&&(t||r.length>0)&&(this.#r=window.localStorage)}catch{}try{this.hasExtensionApi&&(this.#e=this.getExtStorageApi(),a()?this.#t=(0,i.default)(this.#e[this.area],{exclude:["getBytesInUse"],errorFirst:!1}):this.#t=this.#e[this.area])}catch{}}setCopiedKeySet(e){this.#i=new Set(e)}rawGetAll=()=>this.#t?.get();getAll=async()=>Object.entries(await this.rawGetAll()).filter(([e])=>this.isValidKey(e)).reduce((e,[t,r])=>(e[this.getUnnamespacedKey(t)]=r,e),{});copy=async e=>{let t=void 0===e;if(!t&&!this.copiedKeySet.has(e)||!this.allCopied||!this.hasExtensionApi)return!1;let r=this.allCopied?await this.rawGetAll():await this.#t.get((t?[...this.copiedKeySet]:[e]).map(this.getNamespacedKey));if(!r)return!1;let n=!1;for(let e in r){let t=r[e],s=this.#r?.getItem(e);this.#r?.setItem(e,t),n||=t!==s}return n};rawGet=async e=>(await this.rawGetMany([e]))[e];rawGetMany=async e=>this.hasExtensionApi?await this.#t.get(e):e.filter(this.isCopied).reduce((e,t)=>(e[t]=this.#r?.getItem(t),e),{});rawSet=async(e,t)=>await this.rawSetMany({[e]:t});rawSetMany=async e=>(this.#r&&Object.entries(e).filter(([e])=>this.isCopied(e)).forEach(([e,t])=>this.#r.setItem(e,t)),this.hasExtensionApi&&await this.#t.set(e),null);clear=async(e=!1)=>{e&&this.#r?.clear(),await this.#t.clear()};rawRemove=async e=>{await this.rawRemoveMany([e])};rawRemoveMany=async e=>{this.#r&&e.filter(this.isCopied).forEach(e=>this.#r.removeItem(e)),this.hasExtensionApi&&await this.#t.remove(e)};removeAll=async()=>{let e=Object.keys(await this.getAll());await this.removeMany(e)};watch=e=>{let t=this.isWatchSupported();return t&&this.#o(e),t};#o=e=>{for(let t in e){let r=this.getNamespacedKey(t),n=this.#s.get(r)?.callbackSet||new Set;if(n.add(e[t]),n.size>1)continue;let s=(e,t)=>{if(t!==this.area||!e[r])return;let n=this.#s.get(r);if(!n)throw Error(`Storage comms does not exist for nsKey: ${r}`);Promise.all([this.parseValue(e[r].newValue),this.parseValue(e[r].oldValue)]).then(([e,r])=>{for(let s of n.callbackSet)s({newValue:e,oldValue:r},t)})};this.#e.onChanged.addListener(s),this.#s.set(r,{callbackSet:n,listener:s})}};unwatch=e=>{let t=this.isWatchSupported();return t&&this.#c(e),t};#c(e){for(let t in e){let r=this.getNamespacedKey(t),n=e[t],s=this.#s.get(r);s&&(s.callbackSet.delete(n),0===s.callbackSet.size&&(this.#s.delete(r),this.#e.onChanged.removeListener(s.listener)))}}unwatchAll=()=>this.#l();#l(){this.#s.forEach(({listener:e})=>this.#e.onChanged.removeListener(e)),this.#s.clear()}async getItem(e){return this.get(e)}async getItems(e){return await this.getMany(e)}async setItem(e,t){await this.set(e,t)}async setItems(e){await await this.setMany(e)}async removeItem(e){return this.remove(e)}async removeItems(e){return await this.removeMany(e)}},c=class extends o{get=async e=>{let t=this.getNamespacedKey(e),r=await this.rawGet(t);return this.parseValue(r)};getMany=async e=>{let t=e.map(this.getNamespacedKey),r=await this.rawGetMany(t),n=await Promise.all(Object.values(r).map(this.parseValue));return Object.keys(r).reduce((e,t,r)=>(e[this.getUnnamespacedKey(t)]=n[r],e),{})};set=async(e,t)=>{let r=this.getNamespacedKey(e),n=this.serde.serializer(t);return this.rawSet(r,n)};setMany=async e=>{let t=Object.entries(e).reduce((e,[t,r])=>(e[this.getNamespacedKey(t)]=this.serde.serializer(r),e),{});return await this.rawSetMany(t)};remove=async e=>{let t=this.getNamespacedKey(e);return this.rawRemove(t)};removeMany=async e=>{let t=e.map(this.getNamespacedKey);return await this.rawRemoveMany(t)};setNamespace=e=>{this.keyNamespace=e};parseValue=async e=>{try{if(void 0!==e)return this.serde.deserializer(e)}catch(e){console.error(e)}}}},{pify:"9arDK","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"9arDK":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"default",()=>a);let s=(e,t,r,n)=>function(...s){let i=t.promiseModule;return new i((i,a)=>{t.multiArgs?s.push((...e)=>{t.errorFirst?e[0]?a(e):(e.shift(),i(e)):i(e)}):t.errorFirst?s.push((e,t)=>{e?a(e):i(t)}):s.push(i),Reflect.apply(e,this===r?n:this,s)})},i=new WeakMap;function a(e,t){t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};let r=typeof e;if(!(null!==e&&("object"===r||"function"===r)))throw TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":r}\``);let n=(e,r)=>{let n=i.get(e);if(n||(n={},i.set(e,n)),r in n)return n[r];let s=e=>"string"==typeof e||"symbol"==typeof r?r===e:e.test(r),a=Reflect.getOwnPropertyDescriptor(e,r),o=void 0===a||a.writable||a.configurable,c=t.include?t.include.some(e=>s(e)):!t.exclude.some(e=>s(e)),l=c&&o;return n[r]=l,l},a=new WeakMap,o=new Proxy(e,{apply(e,r,n){let i=a.get(e);if(i)return Reflect.apply(i,r,n);let c=t.excludeMain?e:s(e,t,o,e);return a.set(e,c),Reflect.apply(c,r,n)},get(e,r){let i=e[r];if(!n(e,r)||i===Function.prototype[r])return i;let c=a.get(i);if(c)return c;if("function"==typeof i){let r=s(i,t,o,e);return a.set(i,r),r}return i}});return o}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],hbR2Q:[function(e,t,r){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach(function(r){"default"===r||"__esModule"===r||t.hasOwnProperty(r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}],"51CuV":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"simpleFetch",()=>a),n.export(r,"hunterSDK",()=>o);var s=e("@plasmohq/storage"),i=e("@hunter/sdk");async function a(e,t={}){let r=new s.Storage,n=await r.get("session-cookie"),a={...t,headers:{"Content-Type":"application/json","X-Extension":"mlb","x-session":n||""},credentials:"omit",keepalive:!0,signal:AbortSignal.timeout(4e4)},o=await fetch(e,a),c=o.headers.get("content-type")||"";if(!o.ok){if(console.log(`Result not OK ${o.status} : ${o.statusText} : ${e}`),!c.includes("application/json"))throw new i.HttpError({data:null,status:o.status,statusText:o.statusText});if(500===o.status)throw new i.HttpError({data:"Erro interno do servidor",status:o.status,statusText:o.statusText});if(400===o.status||404===o.status||409===o.status||401===o.status){let e=await o.json();throw new i.HttpError({data:e.message||e.error||o.statusText,status:o.status,statusText:o.statusText})}throw console.log(`STATUS ${o.status} : ${o.statusText} : ${e} `),new i.HttpError({data:o.body,status:o.status,statusText:o.statusText})}return t.blob?await o.blob():(console.log(`STATUS ${o.status} : ${o.statusText} : ${e} `),c.includes("application/json"))?await o.json():null}let o=new i.SDK(new class{async getBlob(e,t){let r=`https://api.hunterhub.com.br${e}`;if(t&&t.query){let e=new URLSearchParams;for(let[r,n]of Object.entries(t.query))Array.isArray(n)?e.append(r,n.join(",")):e.append(r,n);r=`${r}?${e.toString()}`}return a(r,{blob:!0,method:"GET"})}get(e,t,r){let n=`https://api.hunterhub.com.br${e}`;if(t){let e=new URLSearchParams;for(let[r,n]of Object.entries(t.query))Array.isArray(n)?e.append(r,n.join(",")):e.append(r,n);n=`${n}?${e.toString()}`}return a(n,{method:"GET",...r})}getRaw(e,t){let r=`${e}`;if(t){let e=new URLSearchParams;for(let[r,n]of Object.entries(t.query))Array.isArray(n)?e.append(r,n.join(",")):e.append(r,n);r=`${r}?${e.toString()}`}return a(r,{method:"GET"})}post(e,t){return a(`https://api.hunterhub.com.br${e}`,{method:"POST",body:JSON.stringify(t)})}put(e,t){return a(`https://api.hunterhub.com.br${e}`,{method:"PUT",body:JSON.stringify(t)})}patch(e,t){return a(`https://api.hunterhub.com.br${e}`,{method:"PATCH",body:JSON.stringify(t)})}delete(e,t){return a(`https://api.hunterhub.com.br${e}`,{method:"DELETE",body:JSON.stringify(t)})}})},{"@plasmohq/storage":"coO0M","@hunter/sdk":"4cxqd","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"4cxqd":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"SkuType",()=>v.SkuType);var s=e("./SDK");n.exportAll(s,r);var i=e("./services/ManagedSkuService");n.exportAll(i,r);var a=e("./services/MarketplaceListingService");n.exportAll(a,r);var o=e("./services/MLBApiService");n.exportAll(o,r);var c=e("./services/AdsService");n.exportAll(c,r);var l=e("./services/DashboardService");n.exportAll(l,r);var u=e("./services/WebhookAdminService");n.exportAll(u,r);var p=e("./services/PlansAdminService");n.exportAll(p,r);var d=e("./services/AdminUsersService");n.exportAll(d,r);var h=e("./services/FinanceMovementsService");n.exportAll(h,r);var m=e("./services/AnalyticsService");n.exportAll(m,r);var f=e("./services/CalculationHistoryService");n.exportAll(f,r);var g=e("./utils/cost-calculator");n.exportAll(g,r);var v=e("@hunter/types"),y=e("./services/types/webhook-admin.types");n.exportAll(y,r);var _=e("./services/types/plans-admin.types");n.exportAll(_,r);var b=e("./services/types/admin-users.types");n.exportAll(b,r);var x=e("./services/types/finance-movements.types");n.exportAll(x,r);var S=e("./services/types/mlb-claims.types");n.exportAll(S,r)},{"./SDK":"f2h7O","./services/ManagedSkuService":"1B9aA","./services/MarketplaceListingService":"gLXzH","./services/MLBApiService":"kg9Bq","./services/AdsService":"5nleC","./services/DashboardService":"5T34D","./services/WebhookAdminService":"5XxqF","./services/PlansAdminService":"kzi1x","./services/AdminUsersService":"estYN","./services/FinanceMovementsService":"lUxBl","./services/AnalyticsService":"2fYVZ","./services/CalculationHistoryService":"1Yuor","./utils/cost-calculator":"3FM5u","@hunter/types":"8p9b1","./services/types/webhook-admin.types":"270Hv","./services/types/plans-admin.types":"eCNeO","./services/types/admin-users.types":"kqBgn","./services/types/finance-movements.types":"eGlTP","./services/types/mlb-claims.types":"jGPmo","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],f2h7O:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"HttpError",()=>k),n.export(r,"NotFoundError",()=>O),n.export(r,"MLBAccountNotFound",()=>C),n.export(r,"SDK",()=>N);var s=e("./services/AuthService"),i=e("./services/CatalogService"),a=e("./services/FavoriteService"),o=e("./services/FornecedorService"),c=e("./services/HistoryService"),l=e("./services/ItemService"),u=e("./services/VisitasService"),p=e("./services/SellerService"),d=e("./services/UserService"),h=e("./services/AccountsService"),m=e("./services/OrdersService"),f=e("./services/ManagedSkuService"),g=e("./services/MarketplaceListingService"),v=e("./services/MLBApiService"),y=e("./services/AdsService"),_=e("./services/DashboardService"),b=e("./services/WebhookAdminService"),x=e("./services/PlansAdminService"),S=e("./services/AdminUsersService"),E=e("./services/FinanceMovementsService"),T=e("./services/ExtensionService"),I=e("./services/AnalyticsService"),w=e("./services/SubscriptionPlansService"),j=e("./services/ProxyHealthService"),R=e("./services/CalculationHistoryService");class k extends Error{constructor(e){super(`Http Error ${e.url||""} ${e.status}: ${e.data}`),this.response=e}}class O extends Error{constructor(){super("Not Found")}}class C extends Error{constructor(){super("Conta do Mercado Livre n\xe3o encontrada, fa\xe7a login na Dashboard!")}}class N{constructor(e){this.api=e}get itens(){return this._itemService||(this._itemService=new l.ItemService(this.api,this.catalog)),this._itemService}get items(){return this.itens}get accounts(){return this._accountsService||(this._accountsService=new h.AccountsService(this.api)),this._accountsService}get catalog(){return this._catalogService||(this._catalogService=new i.CatalogService(this.api)),this._catalogService}get visits(){return this._visitsService||(this._visitsService=new u.VisitasService(this.api)),this._visitsService}get fornecedor(){return this._fornecedorService||(this._fornecedorService=new o.FornecedorService(this.api)),this._fornecedorService}get auth(){return this._authService||(this._authService=new s.AuthService(this.api)),this._authService}get favorites(){return this._favoriteService||(this._favoriteService=new a.FavoriteService(this.api)),this._favoriteService}get historic(){return this._historyService||(this._historyService=new c.HistoryService(this.api)),this._historyService}get sellers(){return this._sellerService||(this._sellerService=new p.SellerService(this.api)),this._sellerService}get user(){return this.__userService||(this.__userService=new d.UserService(this.api)),this.__userService}get orders(){return this._ordersService||(this._ordersService=new m.OrdersService(this.api)),this._ordersService}get managedSkus(){return this._managedSkuService||(this._managedSkuService=new f.ManagedSkuService(this.api)),this._managedSkuService}get marketplaceListings(){return this._marketplaceListingService||(this._marketplaceListingService=new g.MarketplaceListingService(this.api)),this._marketplaceListingService}get mlbApi(){return this._mlbApiService||(this._mlbApiService=new v.MLBApiService(this.api)),this._mlbApiService}get ads(){return this._adsService||(this._adsService=new y.AdsService(this.api)),this._adsService}get dashboardMetrics(){return this._dashboardService||(this._dashboardService=new _.DashboardService(this.api)),this._dashboardService}get webhookAdmin(){return this._webhookAdminService||(this._webhookAdminService=new b.WebhookAdminService(this.api)),this._webhookAdminService}get plansAdmin(){return this._plansAdminService||(this._plansAdminService=new x.PlansAdminService(this.api)),this._plansAdminService}get adminUsers(){return this._adminUsersService||(this._adminUsersService=new S.AdminUsersService(this.api)),this._adminUsersService}get financeMovements(){return this._financeMovementsService||(this._financeMovementsService=new E.FinanceMovementsService(this.api)),this._financeMovementsService}get extension(){return this._extensionService||(this._extensionService=new T.ExtensionService(this.api)),this._extensionService}get proxyHealth(){return this._proxyHealthService||(this._proxyHealthService=new j.ProxyHealthService(this.api)),this._proxyHealthService}get analytics(){return this._analyticsService||(this._analyticsService=new I.AnalyticsService(this.api)),this._analyticsService}get subscriptionPlans(){return this._subscriptionPlansService||(this._subscriptionPlansService=new w.SubscriptionPlansService(this.api)),this._subscriptionPlansService}get calculationHistory(){return this._calculationHistoryService||(this._calculationHistoryService=new R.CalculationHistoryService(this.api)),this._calculationHistoryService}}},{"./services/AuthService":"cst1F","./services/CatalogService":"kYxiD","./services/FavoriteService":"fProx","./services/FornecedorService":"403XJ","./services/HistoryService":"6JGEn","./services/ItemService":"2p2hK","./services/VisitasService":"iMb6F","./services/SellerService":"fLZ4r","./services/UserService":"cmWal","./services/AccountsService":"tI7Tc","./services/OrdersService":"jA64P","./services/ManagedSkuService":"1B9aA","./services/MarketplaceListingService":"gLXzH","./services/MLBApiService":"kg9Bq","./services/AdsService":"5nleC","./services/DashboardService":"5T34D","./services/WebhookAdminService":"5XxqF","./services/PlansAdminService":"kzi1x","./services/AdminUsersService":"estYN","./services/FinanceMovementsService":"lUxBl","./services/ExtensionService":"bsjS7","./services/AnalyticsService":"2fYVZ","./services/SubscriptionPlansService":"e9vGA","./services/ProxyHealthService":"fIUoJ","./services/CalculationHistoryService":"1Yuor","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],cst1F:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"UnauthorizedError",()=>i),n.export(r,"EmailInvalidError",()=>a),n.export(r,"OtherBrowserLogged",()=>o),n.export(r,"AuthService",()=>c);var s=e("../SDK");class i extends Error{constructor(){super("Credenciais inv\xe1lidas")}}class a extends Error{constructor(){super("Email inv\xe1lido, utilize o mesmo usado na compra")}}class o extends Error{constructor(){super("Outro navegador est\xe1 logado nesta conta, remova os perfis pela dashboard")}}class c{constructor(e){this.api=e}async login(e){try{let t=await this.api.post("/auth/login",{email:e});return t}catch(e){if(e instanceof s.HttpError){if(401===e.response.status||404===e.response.status)throw new i;if(400===e.response.status)throw new a}throw e}}async verifyToken(e){try{let t=await this.api.post("/auth/verify-token",{...e});return t}catch(e){if(e instanceof s.HttpError&&(401===e.response.status||404===e.response.status))throw new i;throw e}}async logout(){await this.api.post("/auth/logout",{})}async loginMLB(){let e=await this.api.get("/auth/mlb/connect");return e}async loginExtension(e){try{let t=await this.api.post("/auth/login-extension",e);return t}catch(e){if(e instanceof s.HttpError)throw Error(e.response.data);throw e}}async verifyExtension(){return this.api.get("/auth/verify-extension")}async logoutExtension(){return this.api.post("/auth/logout-extension",{})}async requestPasswordCode(e){try{let t=await this.api.post("/auth/request-password-code",{email:e});return t}catch(e){if(e instanceof s.HttpError&&400===e.response.status)throw new a;throw e}}async verifyPasswordCode(e,t){try{let r=await this.api.post("/auth/verify-password-code",{email:e,code:t});return r}catch(e){if(e instanceof s.HttpError&&400===e.response.status)throw Error(e.response.data?.message||"C\xf3digo inv\xe1lido ou expirado");throw e}}async setPassword(e,t,r){try{let n=await this.api.post("/auth/set-password",{email:e,code:t,password:r});return n}catch(e){if(e instanceof s.HttpError&&400===e.response.status)throw Error(e.response.data?.message||"Erro ao definir senha");throw e}}async loginWithPassword(e,t){try{let r=await this.api.post("/auth/login-password",{email:e,password:t});return r}catch(e){if(e instanceof s.HttpError){if(401===e.response.status)throw new i;if(400===e.response.status)throw Error(e.response.data?.message||"Credenciais inv\xe1lidas")}throw e}}}},{"../SDK":"f2h7O","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],kYxiD:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"CatalogService",()=>i);var s=e("../SDK");class i{constructor(e){this.api=e}async getById(e){try{let t=await this.api.get(`/mlb/public/catalog/${e}`);return t}catch(e){if(e instanceof s.HttpError&&404===e.response.status)return null;throw e}}async getMany(e){return this.api.get("/mlb/public/catalog/multiget",{query:{ids:String(e)}})}async getItemById(e,t=!1){try{let r={};t&&(r.revalidate="true");let n=await this.api.get(`/mlb/public/catalog/${e}/item`,{query:r});return n}catch(e){if(e instanceof s.HttpError&&404===e.response.status)return null;throw e}}async getProducts(e){let t=await this.api.get(`/mlb/public/catalog/${e}/items`);return t}async getPosition(e){try{console.log(`Getting product position ${e}`);let t=await this.api.get(`/mlb/item-position/${e}`);return t}catch(t){if(t instanceof s.HttpError&&404===t.response.status)return console.log("returning null in 404 get item position"),null;throw console.log(`Error in get position ${e} ${t}`),t}}}},{"../SDK":"f2h7O","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],fProx:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"FavoriteService",()=>i);var s=e("../SDK");class i{constructor(e){this.api=e}async getById(e){try{return this.api.get(`/favorite/${e}`)}catch(e){if(e instanceof s.HttpError&&404===e.response.status)return null;throw e}}async getProducts(e){return this.api.get("/favorite",{query:{...e}})}async add(e){return this.api.post("/favorite",e)}async remove(e){return this.api.delete(`/favorite/${e}`,{})}}},{"../SDK":"f2h7O","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"403XJ":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"FornecedorService",()=>i);var s=e("../SDK");class i{constructor(e){this.api=e}async findItem(e){if(!e.ean)return[];let t=e.name.join(", ");try{let r=await this.api.get("/mlb/fornecedor/search",{query:{ean:e.ean,name:t,model:e.model||""}});return r}catch(e){if(console.log(`Error finding item in fornecedor ${e}`),e instanceof s.HttpError){if(404===e.response.status)return[];e.response.status}return[]}}}},{"../SDK":"f2h7O","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"6JGEn":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"HistoryService",()=>s);class s{constructor(e){this.api=e}async getById(e){return this.api.get(`/history/${e}`)}async getProducts(e){return this.api.get("/history",{query:{...e}})}async add(e){return this.api.post("/history",e)}async remove(e){return this.api.delete(`/history/${e}`,{})}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"2p2hK":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"ItemService",()=>a);var s=e("@hunter/metrics"),i=e("../SDK");class a{constructor(e,t){this.api=e,this.catalogService=t}async getMany(e){return this.api.get("/mlb/public/items",{query:{ids:String(e)}})}async getById(e){try{let t=await this.api.get(`/mlb/public/item/${e}`);return t}catch(e){if(console.log("Erro: ",e),e instanceof i.NotFoundError||e instanceof i.HttpError&&404===e.response.status)return null;throw e}}async getCosts(e){let[t,r]=await Promise.all([this.getShippingCost(e),this.getListingTypesCost(e)]);return{shippingCost:t,listingTypesCost:r}}async getShippingCost(e){let t={itemId:e.itemId};return e.sellerId&&(t={itemId:e.itemId,sellerId:e.sellerId}),this.api.get("/mlb/public/shipping-cost",{query:t})}async getListingTypesCost(e){return this.api.get("/mlb/public/categorie-fee",{query:{price:String(e.price),categoryId:e.categoryId}})}async description(e){try{let t=await this.api.get(`/mlb/public/item/${e.replace("-","")}/description`);return t}catch(e){if(e instanceof i.HttpError&&404===e.response.status)return null}}async getTrend(e){return this.api.get("/mlb/trend-products",e?{query:{categoryId:e}}:void 0)}async getHighlights(e){return this.api.get(`/mlb/highlight-products/${e}`)}async getItemVisitsMetrics(e,t){try{let r=await this.api.get(`/mlb/visits/items/metrics/${e}`,{query:{...t}});return{itemId:e,visits:r.total_visits||0}}catch(t){if(t instanceof i.HttpError&&404===t.response.status)return{itemId:e,visits:0};throw t}}async getItemsVisitsMetrics(e,t){try{let r=await this.api.get("/mlb/visits/items/metrics/multiget",{query:{ids:e.join(","),unit:t?.unit||"day",last:String(t?.last||30)}});return r.map(e=>({itemId:e.itemId,visits:e.totalVisits}))}catch(s){console.warn("[getItemsVisitsMetrics] Multiget failed, falling back to individual requests:",s);let r=e.map(e=>this.getItemVisitsMetrics(e,t)),n=await Promise.all(r);return n}}async getCatalogData({isPremium:e,vendas:t,catalogId:r,item:n}){let i=await this.catalogService.getById(r);if(!i)throw Error("Cat\xe1logo n\xe3o encontrado");let a=await this.catalogService.getProducts(i.id),o=a.results,c=await this.getCosts({categoryId:n.categoryId,price:n.price,freeShipping:n.isFreeShipping,itemId:n.itemId,listingType:n.listingTypeId,sellerId:String(n.sellerId),isPremium:e});if(!i)throw Error("Cat\xe1logo n\xe3o encontrado");let l=c.listingTypesCost.find(e=>e.listing_type_id===n.listingTypeId);if(!l)throw Error("Tipo de an\xfancio n\xe3o encontrado");let u=(0,s.ProductPayoutCalculator).Execute({isFreeShipping:n.isFreeShipping,listingType:l,price:n.price,shippingCost:c.shippingCost.cost,imposto:0}),p={catalogCreatedAt:i.date_created,catalogItens:o.length,itemCreatedAt:i.date_created,listingType:{id:n.listingTypeId,name:l.listing_type_name},img:i.pictures[0].url,pictures:i.pictures,name:i.name,price:n.price,sellerId:n.sellerId,url:i.permalink,catalogUrl:`https://www.mercadolivre.com.br/hunter/p/${i.id}`,catalogId:r,itemId:n.itemId,winnerItemId:n.itemId,sales:t||null,values:{comissionFee:l.sale_fee_details.gross_amount,payout:u.payoutFull,shippingCost:n.isFreeShipping?c.shippingCost.cost:0}},d=new Set(o.map(e=>e.item_id));d.add(n.itemId);let h=Array.from(d);if(e){let[e,a]=await Promise.all([this.catalogService.getPosition(r),this.getItemsVisitsMetrics(h,{last:"30",unit:"day"})]),c=a.find(e=>e.itemId===n.itemId)?.visits||0,l=a.reduce((e,t)=>e+t.visits,0),u=new s.ProductScoreEvaluator({daysSinceCreation:function(e){let t=new Date,r=Math.abs(t.getTime()-e.getTime());return Math.ceil(r/864e5)}(new Date(i.date_created)),numberOfCompetingAds:o.length,productValue:n.price,totalSales:t||0,totalVisits:l,visitsWinner:c}),d=u.calculateFinalScoreReport(),m={visits:l,catalogPosition:e?.position||null,visitsWinner:c,visitsWinnerPercentage:Math.round(c/l*100),isPremium:!0,termometro:{color:d.color,text:d.text,value:d.score}};return{...p,...m}}return{...p,isPremium:!1}}}},{"@hunter/metrics":"aShi0","../SDK":"f2h7O","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],aShi0:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./calculator/ProductScoreEvaluator");n.exportAll(s,r);var i=e("./calculator/payout");n.exportAll(i,r);var a=e("./calculator/profit");n.exportAll(a,r)},{"./calculator/ProductScoreEvaluator":"jlMwB","./calculator/payout":"14wEq","./calculator/profit":"fjxSB","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],jlMwB:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"ProductScoreEvaluator",()=>i);var s=e("./metrics");class i{constructor(e){this.weights=[.1,.2,.2,.2,.3],this.config=e;let t=this.weights.reduce((e,t)=>e+t,0);if(Math.abs(t-1)>1e-6)throw Error(`Sum of weights must be 1. Current sum: ${t}`)}createMetrics(){return[new s.FCV(this.config.visitsWinner,this.config.totalVisits,this.config.numberOfCompetingAds),new s.MVVM(this.config.totalSales,this.config.daysSinceCreation),new s.MDP(this.config.totalSales,this.config.totalVisits),new s.ICBV(this.config.visitsWinner,this.config.totalVisits),new s.ICBP(this.config.productValue,this.config.totalVisits)]}getSummary(e){return e>75?"Bom":e>50?"M\xe9dio":"Baixo"}generateReport(){let e=this.createMetrics(),t=[];for(let r=0;r<e.length;r++){let n=e[r].calculateScore(),s=this.getSummary(n);t.push({name:e[r].getName(),value:n,summary:s})}return t}calculateFinalScore(){let e=this.createMetrics(),t=0,r=Number.MAX_VALUE,n="";for(let s=0;s<e.length;s++){let i=e[s].calculateScore();t+=i*this.weights[s],i<r&&(r=i,n=e[s].getName())}return console.log(`Metric with the worst score: ${n}`),Math.round(t)}calculateFinalScoreReport(){let e=this.calculateFinalScore();return e>75?{text:"Bom",score:e,color:"green"}:e>50?{text:"M\xe9dio",score:e,color:"yellow"}:{text:"Baixo",score:e,color:"red"}}}},{"./metrics":"bETiw","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],bETiw:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"normalize",()=>s),n.export(r,"FCV",()=>a),n.export(r,"MVVM",()=>o),n.export(r,"MDP",()=>c),n.export(r,"ICBV",()=>l),n.export(r,"ICBP",()=>u),n.export(r,"MVV",()=>p);let s=(e,t,r)=>Math.min(Math.max((e-t)/(r-t)*100,0),100),i=e=>Math.round(100*e)/100;class a{constructor(e,t,r){this.name="FCV",this.visitsWinner=e,this.totalVisits=t,this.numberOfCompetingAds=r}calculateScore(){if(0===this.totalVisits||0===this.numberOfCompetingAds)return 0;let e=this.visitsWinner/this.totalVisits,t=(1-e)*(1/Math.sqrt(this.numberOfCompetingAds));return i(Math.min(500*t+15,100))}getName(){return this.name}}class o{constructor(e,t){this.name="MVVM",this.totalSales=e,this.daysSinceCreation=t}calculateScore(){let e=0!==this.daysSinceCreation?this.totalSales/this.daysSinceCreation:0;return i(Math.min(s(e,0,5),100))}getName(){return this.name}}class c{constructor(e,t){this.name="MDP",this.totalSales=e,this.totalRecentVisits=t}calculateScore(){let e=0!==this.totalRecentVisits?this.totalSales/this.totalRecentVisits:0;return i(Math.min(e/1.2*100,100))}getName(){return this.name}}class l{constructor(e,t){this.name="ICBV",this.visitsWinner=e,this.totalVisits=t}calculateScore(){if(0===this.totalVisits)return 0;let e=this.visitsWinner/this.totalVisits;return i(Math.min((1-e)*100,100))}getName(){return this.name}}class u{constructor(e,t){this.name="ICBP",this.maxExpectedVisitsPerPrice=5,this.price=e,this.visits=t}calculateScore(){if(this.price<=0)return 0;let e=this.visits/this.price,t=e/this.maxExpectedVisitsPerPrice;return i(Math.max(Math.min(100*t,100),0))}getName(){return this.name}}class p{constructor(e,t){this.name="MVV",this.totalSales=e,this.daysActive=t}calculateScore(){let e=0!==this.daysActive?this.totalSales/this.daysActive:0;return i(Math.min(s(e,0,5),100))}getName(){return this.name}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"14wEq":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"ProductPayoutCalculator",()=>s);class s{static Execute(e){let{price:t,listingType:r,shippingCost:n,isFreeShipping:s,imposto:i}=e,a=r.sale_fee_details.gross_amount,o=t-a-(s?n:0);return{payoutFull:o,payoutWithTax:o-(i||0)}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],fjxSB:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"ProfitCalculator",()=>s);class s{static Calculate(e){let{cost:t,payout:r,salePrice:n}=e,s=r-t;return{profit:s,contributionMargin:s/r*100,saleMargin:s/n*100,grossProfitMargin:s/t*100,roi:s/t*100}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],iMb6F:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"VisitasService",()=>s);class s{constructor(e){this.api=e}summary(){return this.api.get("/mlb/visits")}metrics(e){return this.api.get("/mlb/visits/metrics",{query:e})}async getItemVisits(e){let t=await this.api.get("/mlb/visits/items",{query:{ids:e}}),r=t[e]||0;return r}async getItemVisitsMetrics(e,t){let r=await this.api.get(`/mlb/visits/items/metrics/${e}`,{query:t||{unit:"day",last:"30"}});return{...r,itemId:e}}async getItemsVisitsMetrics(e,t){let r=e.map(e=>this.getItemVisitsMetrics(e,t));return Promise.all(r)}async getItemsVisitsMetricsBatch(e,t){let r=e.join(",");return this.api.get("/mlb/visits/items/metrics/multiget",{query:{ids:r,...t||{unit:"day",last:"30"}}})}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],fLZ4r:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"SellerService",()=>s);class s{constructor(e){this.api=e}async getById(e){return this.api.get(`/mlb/public/seller/${e}`)}async getMany(e){let t={ids:e.join(",")};return this.api.get("/mlb/public/sellers",{query:t})}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],cmWal:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"UserService",()=>i);var s=e("../SDK");class i{constructor(e){this.api=e}async me(){try{let e=await this.api.get("/user");return e}catch(e){if(e instanceof s.HttpError&&401===e.response.status)return null}}async profile(){return this.api.get("/user/profile")}async updateProfile(e){return this.api.post("/user/profile",e)}async stripeUrl(e){let t=new URLSearchParams;e&&t.append("returnPath",e);let r=await this.api.get("/stripe/portal?"+t.toString());return r}async resetSubscription(e){return await this.api.post(`/subscriptions/${e}/reset`,{}),{success:!0}}async updateMe(e){try{let t=await this.api.patch("/user/me",e);return t}catch(e){if(e instanceof s.HttpError){if(401===e.response.status)throw Error("N\xe3o autorizado");if(400===e.response.status)throw Error(e.response.data?.message||"Dados inv\xe1lidos")}throw e}}}},{"../SDK":"f2h7O","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],tI7Tc:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"AccountsService",()=>i);var s=e("../SDK");class i{constructor(e){this.api=e}async list(){let e=await this.api.get("/user/accounts");return e}async getById(e){try{let t=await this.api.get(`/user/accounts/${e}`);return t}catch(e){if(e instanceof s.HttpError&&404===e.response.status)return null;throw e}}async sync(e){let t=await this.api.post(`/mlb/accounts/${e}/sync`,{});return t}async syncOrders(e){let t=await this.api.post(`/mlb/accounts/${e}/sync/orders`,{});return t}async syncListings(e){let t=await this.api.post(`/mlb/accounts/${e}/sync/listings`,{});return t}async getSyncStatus(e,t){let r=await this.api.get(`/mlb/accounts/${e}/sync/${t}/status`);return r}async enable(e){let t=await this.api.patch(`/user/accounts/${e}/enable`,{});return t}async disable(e){let t=await this.api.patch(`/user/accounts/${e}/disable`,{});return t}async toggleStatus(e){let t=await this.api.patch(`/user/accounts/${e}/toggle-status`,{});return t}async updateName(e,t){let r=await this.api.patch(`/user/accounts/${e}/update-name`,{accountName:t});return r}async delete(e){let t=await this.api.delete(`/user/accounts/${e}`,{});return t}}},{"../SDK":"f2h7O","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],jA64P:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"OrdersService",()=>s);class s{constructor(e){this.api=e}async getOrdersSummary(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,r])=>{null!=r&&t.append(e,r.toString())}),this.api.get("/orders/summary",{query:Object.fromEntries(t)})}async searchOrders(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,r])=>{null!=r&&t.append(e,r.toString())}),this.api.get("/orders/search",{query:Object.fromEntries(t)})}async getOrderDetails(e){return this.api.get(`/orders/${e}`)}async getOrderByMarketplaceId(e){return this.api.get(`/orders/marketplace/${e}`)}async getOrderShipping(e){return this.api.get(`/orders/${e.orderId}/shipping`)}async getFinancialMetrics(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,r])=>{null!=r&&(Array.isArray(r)?r.forEach(r=>t.append(e,r)):t.append(e,r.toString()))}),this.api.get("/orders/financial-metrics",{query:Object.fromEntries(t)})}async getCostBreakdown(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,r])=>{null!=r&&(Array.isArray(r)?r.forEach(r=>t.append(e,r)):t.append(e,r.toString()))}),this.api.get("/orders/cost-breakdown",{query:Object.fromEntries(t)})}async getSalesEvolution(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,r])=>{null!=r&&(Array.isArray(r)?r.forEach(r=>t.append(e,r)):t.append(e,r.toString()))}),this.api.get("/orders/sales-evolution",{query:Object.fromEntries(t)})}async getProductRanking(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,r])=>{null!=r&&(Array.isArray(r)?r.forEach(r=>t.append(e,r)):t.append(e,r.toString()))}),this.api.get("/orders/product-ranking",{query:Object.fromEntries(t)})}async getAbcAnalysis(e){let t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,r])=>{null!=r&&(Array.isArray(r)?r.forEach(r=>t.append(e,r)):t.append(e,r.toString()))}),this.api.get("/orders/abc-analysis",{query:Object.fromEntries(t)})}async generateReceipt(e){return this.api.getBlob(`/orders/${e}/receipt`)}async printLabel(e){return this.api.getBlob(`/orders/${e}/print-label`)}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"1B9aA":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"ManagedSkuService",()=>s);class s{constructor(e){this.api=e}async create(e){return this.api.post("/managed-skus",e)}async search(e={}){return this.api.get("/managed-skus",{query:e})}async findById(e){return this.api.get(`/managed-skus/${e}`)}async findBySkuCode(e){return this.api.get(`/managed-skus/search-by-code/${e}`)}async update(e,t){return this.api.patch(`/managed-skus/${e}`,t)}async delete(e){await this.api.delete(`/managed-skus/${e}`,{})}async getKitComponents(e){return this.api.get(`/managed-skus/${e}/components`)}async getStockSummary(e){return this.api.get(`/managed-skus/${e}/stock-summary`)}async getLowStock(e){return this.api.get(`/managed-skus/low-stock/${e}`)}async addStockMovement(e){return this.api.post("/managed-skus/stock-movements",e)}async getLinkedListings(e){return this.api.get(`/managed-skus/${e}/listings`)}async checkIntegrations(e){return this.api.get(`/managed-skus/check-integrations/${e}`)}async getSkuOrders(e,t=1,r=10){return this.api.get(`/managed-skus/${e}/orders`,{query:{page:t.toString(),limit:r.toString()}})}async getStockMovements(e,t=1,r=20){return this.api.get(`/managed-skus/${e}/movements`,{query:{page:t.toString(),limit:r.toString()}})}async bulkUpdateTax(e){return this.api.patch("/managed-skus/bulk-update-tax",e)}async bulkUpdatePackaging(e){return this.api.patch("/managed-skus/bulk-update-packaging",e)}async getInventoryStats(){return this.api.get("/managed-skus/inventory/stats")}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],gLXzH:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"MarketplaceListingService",()=>s);class s{constructor(e){this.api=e}async search(e={}){let t={};return Object.entries(e).forEach(([e,r])=>{null!=r&&("accountIds"===e&&Array.isArray(r)?t[e]=r:t[e]=String(r))}),this.api.get("/marketplace-listings",{query:t})}async findById(e){return this.api.get(`/marketplace-listings/${e}`)}async syncListing(e){return this.api.post(`/marketplace-listings/${e}/sync`,{})}async activateListing(e){return this.api.patch(`/marketplace-listings/${e}/activate`,{})}async pauseListing(e){return this.api.patch(`/marketplace-listings/${e}/pause`,{})}async closeListing(e){return this.api.patch(`/marketplace-listings/${e}/close`,{})}async deleteListing(e){return this.api.delete(`/marketplace-listings/${e}`,{})}async bulkActivate(e){return this.api.post("/marketplace-listings/bulk/activate",{ids:e})}async bulkPause(e){return this.api.post("/marketplace-listings/bulk/pause",{ids:e})}async bulkClose(e){return this.api.post("/marketplace-listings/bulk/close",{ids:e})}async bulkDelete(e){return this.api.post("/marketplace-listings/bulk/delete",{ids:e})}async getPriceToWin(e){return this.api.get(`/marketplace-listings/${e}/price-to-win`)}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],kg9Bq:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"MLBApiService",()=>s);class s{constructor(e){this.api=e}async getItemVisits(e,t){return this.api.get(`/mlb/api/account/${t}/item/${e}/visits`)}async getItemVisitsTimeWindow(e,t,r){return this.api.get(`/mlb/api/account/${t}/items/${e}/visits/time-window`,{query:{days:r.toString()}})}async updateItemSku(e,t,r){return this.api.put(`/mlb/api/account/${t}/item/${e}/sku`,{sku:r})}async syncSingleItem(e,t){return this.api.put(`/mlb/api/account/${t}/item/${e}/sync`,{})}async updateVariationSku(e,t,r,n){return this.api.put(`/mlb/api/account/${r}/item/${e}/variation/${t}/sku`,{sku:n})}async getCategoryFee(e,t){return this.api.get(`/mlb/api/account/${e}/category-fee`,{query:{categoryId:t.categoryId,price:t.price.toString(),...t.type&&{type:t.type}}})}async getSaleFee(e){return this.api.get("/mlb/public/categorie-fee",{query:{categoryId:e.categoryId,price:e.price.toString(),...e.type&&{type:e.type}}})}async updateItemPrice(e,t,r){return this.api.put(`/mlb/api/account/${t}/item/${e}/price`,{price:r})}async updateVariationPrice(e,t,r,n){return this.api.put(`/mlb/api/account/${r}/item/${e}/variation/${t}/price`,{price:n})}async getShippingCost(e,t){return this.api.get(`/mlb/api/account/${e}/shipping-cost`,{query:{itemId:t.itemId,price:t.price.toString(),...t.listingType&&{listingType:t.listingType},...t.logisticType&&{logisticType:t.logisticType}}})}async getShippingDetails(e,t){return this.api.get(`/mlb/api/account/${e}/shipping/${t}`)}async getClaim(e,t){return this.api.get(`/mlb/api/account/${e}/claims/${t}`)}async getClaimExpectedResolutions(e,t){return this.api.get(`/mlb/api/account/${e}/claims/${t}/expected-resolutions`)}async getPartialRefundOffers(e,t){return this.api.get(`/mlb/api/account/${e}/claims/${t}/partial-refund/available-offers`)}async getClaimReturn(e,t){return this.api.get(`/mlb/api/account/${e}/claims/${t}/return`)}async getClaimReturnCost(e,t){return this.api.get(`/mlb/api/account/${e}/claims/${t}/return-cost`)}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"5nleC":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"AdsService",()=>s);class s{constructor(e){this.api=e}async getAdsSummary(e){let t={};return e?.dateFrom&&(t.dateFrom=e.dateFrom),e?.dateTo&&(t.dateTo=e.dateTo),e?.daysBack&&(t.daysBack=e.daysBack.toString()),this.api.get("marketplace/ads/summary",{query:t})}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"5T34D":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"DashboardService",()=>s);class s{constructor(e){this.api=e}async getMetrics(e){let t={};return e?.startDate&&(t.startDate=e.startDate),e?.endDate&&(t.endDate=e.endDate),e?.accountIds&&(t.accountIds=e.accountIds),this.api.get("/dashboard/metrics",{query:t})}async getConversionData(e){let t={};return e?.startDate&&(t.startDate=e.startDate),e?.endDate&&(t.endDate=e.endDate),e?.accountIds&&(t.accountIds=e.accountIds),this.api.get("/dashboard/conversion-data",{query:t})}async getMonthlyPerformance(e){let t={};return e?.startDate&&(t.startDate=e.startDate),e?.endDate&&(t.endDate=e.endDate),e?.accountIds&&(t.accountIds=e.accountIds),this.api.get("/dashboard/monthly-performance",{query:t})}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"5XxqF":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"WebhookAdminService",()=>s);class s{constructor(e){this.api=e}async getHealthMetrics(e){let t={};return e&&(t.hours=e.toString()),this.api.get("/admin/webhooks/health",{query:t})}async getWebhookStats(e,t){let r={};return e&&(r.userId=e),t&&(r.source=t),this.api.get("/admin/webhooks/stats",{query:r})}async listWebhooks(e){let t={page:e.page.toString(),limit:e.limit.toString()};return e.status&&(t.status=e.status),e.source&&(t.source=e.source),e.eventType&&(t.eventType=e.eventType),e.userId&&(t.userId=e.userId),this.api.get("/admin/webhooks",{query:t})}async getWebhookDetails(e){return this.api.get(`/admin/webhooks/${e}`)}async retryFailedWebhooks(e){return this.api.post("/admin/webhooks/retry-failed",e)}async retrySpecificWebhook(e){return this.api.post(`/admin/webhooks/${e}/retry`,{})}async resetWebhook(e){return this.api.post(`/admin/webhooks/${e}/reset`,{})}async getQueueStatus(e){let t={};return e&&(t.source=e),this.api.get("/admin/webhooks/queue/status",{query:t})}async purgeQueues(e){return this.api.post("/admin/webhooks/queue/purge",e)}async listDeadLetterWebhooks(e,t){let r={};return e&&(r.limit=e.toString()),t&&(r.source=t),this.api.get("/admin/webhooks/dead-letter/list",{query:r})}async reprocessDeadLetterWebhook(e){return this.api.post(`/admin/webhooks/dead-letter/${e}/reprocess`,{})}async retryWebhook(e){return this.retrySpecificWebhook(e)}async bulkRetryWebhooks(e){return this.api.post("/admin/webhooks/bulk/retry",e)}async bulkResetWebhooks(e){return this.api.post("/admin/webhooks/bulk/reset",e)}async bulkDeleteWebhooks(e){return this.api.delete("/admin/webhooks/bulk",e)}async listAllWebhooks(e=1,t=50){let r={page:e.toString(),limit:t.toString()};return this.api.get("/admin/webhooks",{query:r})}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],kzi1x:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"PlansAdminService",()=>s);class s{constructor(e){this.api=e}async listPlans(e={}){let t={page:(e.page||1).toString(),limit:(e.limit||10).toString()};return e.name&&(t.name=e.name),e.slug&&(t.slug=e.slug),this.api.get("/admin/plans",{query:t})}async getPlanDetails(e){return this.api.get(`/admin/plans/${e}`)}async createPlan(e){return this.api.post("/admin/plans",e)}async updatePlan(e,t){return this.api.put(`/admin/plans/${e}`,t)}async deletePlan(e){return this.api.delete(`/admin/plans/${e}`,{})}async listPlanIntegrations(e,t={}){let r={};t.gateway&&(r.gateway=t.gateway);let n=await this.api.get(`/admin/plans/${e}/integrations`,{query:r});return n}async getPlanIntegrationDetails(e,t){let r=await this.listPlanIntegrations(e),n=r.find(e=>e.id===t);if(!n)throw Error(`Integration with ID ${t} not found for plan ${e}`);return n}async createPlanIntegration(e,t){return this.api.post(`/admin/plans/${e}/integrations`,t)}async updatePlanIntegration(e,t,r){return this.api.put(`/admin/plans/${e}/integrations/${t}`,r)}async deletePlanIntegration(e,t){return this.api.delete(`/admin/plans/${e}/integrations/${t}`,{})}async getPlansStats(){return this.api.get("/admin/plans/stats")}async findPlanBySlug(e){let t=await this.listPlans({slug:e,limit:1});return t.data.length>0?t.data[0]:null}async findPlansByName(e){let t=await this.listPlans({name:e});return t.data}async getIntegrationsByGateway(e){let t=await this.listPlans({limit:100}),r=[];for(let n of t.data){let t=await this.listPlanIntegrations(n.id,{gateway:e});t.forEach(e=>{r.push({...e,planName:n.name})})}return r}async getPlansByIds(e){let t=[];for(let r of e)try{let e=await this.getPlanDetails(r);t.push(e)}catch(e){console.warn(`Failed to fetch plan ${r}:`,e)}return t}validatePlanSlug(e){return/^[a-z0-9-]+$/.test(e)}async getPlanSummary(e){let[t,r]=await Promise.all([this.getPlanDetails(e),this.listPlanIntegrations(e)]);return{plan:t,integrationCount:r.length,integrations:r}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],estYN:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"AdminUsersService",()=>s);class s{constructor(e){this.api=e}async listUsers(e={}){return this.api.get("/admin/users",{query:e})}async getStats(){return this.api.get("/admin/users/stats")}async getUser(e){return this.api.get(`/admin/users/${e}`)}async getUserMetrics(e){return this.api.get(`/admin/users/${e}/metrics`)}async getUserSalesChart(e,t){let r=t?{days:t.toString()}:{};return this.api.get(`/admin/users/${e}/sales-chart`,{query:r})}async impersonate(e){return this.api.post(`/admin/users/${e}/impersonate`,{})}async createUserWithSubscription(e){return this.api.post("/admin/users/create-with-subscription",e)}async addSubscription(e,t){return this.api.post(`/admin/users/${e}/add-subscription`,t)}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],lUxBl:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"FinanceMovementsService",()=>s);class s{constructor(e){this.api=e}async create(e){return this.api.post("/finance/movements",e)}async search(e={}){let t={};return Object.entries(e).forEach(([e,r])=>{null!=r&&""!==r&&(t[e]=r.toString())}),this.api.get("/finance/movements",{query:t})}async findById(e){return this.api.get(`/finance/movements/${e}`)}async update(e,t){return this.api.patch(`/finance/movements/${e}`,t)}async delete(e){return this.api.delete(`/finance/movements/${e}`,{})}async getSummary(e,t){let r={};return e&&(r.dateFrom=e),t&&(r.dateTo=t),this.api.get("/finance/movements/summary",{query:r})}async getMonthlyTotals(e){let t={};return e&&(t.year=e.toString()),this.api.get("/finance/movements/monthly-totals",{query:t})}async getCategoryBreakdown(e,t){let r={};return e&&(r.dateFrom=e),t&&(r.dateTo=t),this.api.get("/finance/movements/category-breakdown",{query:r})}async getTotalsByType(e,t,r){let n={type:e};t&&(n.dateFrom=t),r&&(n.dateTo=r);let s=await this.api.get("/finance/movements/totals-by-type",{query:n});return s.total}async getCurrentMonthSummary(){let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0);return this.getSummary(t.toISOString().split("T")[0],r.toISOString().split("T")[0])}async getCurrentYearMonthlyTotals(){let e=new Date().getFullYear();return this.getMonthlyTotals(e)}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],bsjS7:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"ExtensionService",()=>s);class s{constructor(e){this.api=e}async getVersion(){return this.api.get("/extension/version")}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"2fYVZ":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"AnalyticsService",()=>s);class s{constructor(e){this.api=e}async getStatistics(){return this.api.get("/analytics/stats")}async getItemsRanking(e=10){return this.api.get("/analytics/ranking/items",{query:{limit:e.toString()}})}async getCatalogsRanking(e=10){return this.api.get("/analytics/ranking/catalogs",{query:{limit:e.toString()}})}async getEvolution(e=30){return this.api.get("/analytics/evolution",{query:{days:e.toString()}})}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],e9vGA:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"SubscriptionPlansService",()=>s);class s{constructor(e){this.api=e}async list(){return this.api.get("/subscription-plans")}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],fIUoJ:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"ProxyHealthService",()=>s);class s{constructor(e){this.api=e,this.BASE_PATH="/ml/proxy-health"}async getStats(){return this.api.get(`${this.BASE_PATH}/stats`)}async getSummary(){return this.api.get(`${this.BASE_PATH}/summary`)}async getTopProxies(){return this.api.get(`${this.BASE_PATH}/top`)}async getIssues(){return this.api.get(`${this.BASE_PATH}/issues`)}async getHealth(){return this.api.get(`${this.BASE_PATH}/health`)}async resetStats(){return this.api.post(`${this.BASE_PATH}/reset`,{})}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"1Yuor":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"CalculationHistoryService",()=>s);class s{constructor(e){this.api=e}async create(e){return this.api.post("/calculations",e)}async list(e=1,t=20,r,n){let s={page:e.toString(),limit:t.toString()};return r&&(s.itemId=r),n&&(s.catalogId=n),this.api.get("/calculations",{query:s})}async getById(e){return this.api.get(`/calculations/${e}`)}async delete(e){return this.api.delete(`/calculations/${e}`,{})}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"3FM5u":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"CostCalculator",()=>s);class s{static calculateProductCost(e){let t=e.costPrice||0,r=e.packagingCost||0,n=this.round(t+r);return{baseCost:this.round(t),packagingCost:this.round(r),totalCost:n}}static calculateOrderItemCost(e){let t=this.calculateProductCost(e.productCost),r=t.totalCost*e.quantity,n=e.unitPrice*e.quantity,s=e.taxPercentage||0,i=this.round(n*s/100),a=e.orderTotal>0?n/e.orderTotal:0,o=this.round((e.marketplaceFees||0)*a),c=this.round((e.shippingCost||0)*a),l=this.round(r+i+o+c);return{productCost:this.round(r),taxAmount:i,allocatedMarketplaceFees:o,allocatedShippingCost:c,totalCost:l}}static calculateOrderCost(e){let t=0,r=0,n=0;for(let t of e.items)n+=t.unitPrice*t.quantity;for(let s of e.items){let i=this.calculateOrderItemCost({quantity:s.quantity,unitPrice:s.unitPrice,productCost:s.productCost,taxPercentage:s.taxPercentage,orderTotal:n,marketplaceFees:e.marketplaceFees,shippingCost:e.shippingCost});t+=i.productCost,r+=i.taxAmount}let s=this.round(t+r+e.marketplaceFees+e.shippingCost);return{totalProductCost:this.round(t),totalTaxAmount:this.round(r),totalMarketplaceFees:this.round(e.marketplaceFees),totalShippingCost:this.round(e.shippingCost),totalCost:s}}static calculateProfit(e){let t=this.round(e.revenue),r=this.round(e.totalCosts),n=this.round(t-r),s=t>0?this.round(n/t*100):0;return{revenue:t,costs:r,profit:n,profitMargin:s}}static calculateSkuCost(e){return this.calculateProductCost({costPrice:e.costPrice,packagingCost:e.packagingCost})}static calculateTax(e,t){return this.round(e*(t||0)/100)}static round(e){return Math.round(100*e)/100}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"8p9b1":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./api.types");n.exportAll(s,r);var i=e("./api.response.types");n.exportAll(i,r);var a=e("./entity.types");n.exportAll(a,r);var o=e("./api.request.types");n.exportAll(o,r);var c=e("./ml.types");n.exportAll(c,r);var l=e("./order.types");n.exportAll(l,r);var u=e("./internal-status");n.exportAll(u,r);var p=e("./listing.types");n.exportAll(p,r);var d=e("./variation.types");n.exportAll(d,r);var h=e("./api.catalog.types");n.exportAll(h,r);var m=e("./webhook.types");n.exportAll(m,r);var f=e("./financial-utils");n.exportAll(f,r)},{"./api.types":"jrWhD","./api.response.types":"6vjFC","./entity.types":"8njlX","./api.request.types":"cnWcv","./ml.types":"bAIcU","./order.types":"kotDj","./internal-status":"7Mua7","./listing.types":"kPfa5","./variation.types":"dqjrR","./api.catalog.types":"5vbUf","./webhook.types":"j0j5A","./financial-utils":"lzlfj","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],jrWhD:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"6vjFC":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"8njlX":[function(e,t,r){var n,s,i,a,o,c,l=e("@parcel/transformer-js/src/esmodule-helpers.js");l.defineInteropFlag(r),l.export(r,"SyncType",()=>a),l.export(r,"ListingTypesEnum",()=>o),l.export(r,"ListingTypes",()=>u),l.export(r,"SkuType",()=>c),(n=a||(a={})).ALL="ALL",n.ORDERS="ORDERS",n.LISTINGS="LISTINGS",(s=o||(o={})).gold_pro="Premium",s.gold_premium="Diamante",s.gold_special="Cl\xe1ssico",s.gold="Ouro",s.silver="Prata",s.bronze="Bronze",s.free="Gr\xe1tis";let u={gold_pro:"Premium",gold_premium:"Diamante",gold_special:"Cl\xe1ssico",gold:"Ouro",silver:"Prata",bronze:"Bronze",free:"Gr\xe1tis"};(i=c||(c={})).SIMPLE="SIMPLE",i.KIT="KIT"},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],cnWcv:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],bAIcU:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],kotDj:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){return"mlb"===e.marketplace}n.defineInteropFlag(r),n.export(r,"isOrderMercadoLivre",()=>s)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"7Mua7":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],kPfa5:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){return"mlb"===e.marketplace}function i(e){return"amazon"===e.marketplace}function a(e){return"shopee"===e.marketplace}n.defineInteropFlag(r),n.export(r,"isListingMercadoLivre",()=>s),n.export(r,"isListingAmazon",()=>i),n.export(r,"isListingShopee",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],dqjrR:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){return"mlb"===e.marketplace}n.defineInteropFlag(r),n.export(r,"isVariationMercadoLivre",()=>s)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"5vbUf":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],j0j5A:[function(e,t,r){var n,s,i,a,o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"WebhookSource",()=>i),o.export(r,"WebhookStatus",()=>a),(n=i||(i={})).MLB="MLB",n.ASAAS="ASAAS",n.STRIPE="STRIPE",n.KIWIFY="KIWIFY",n.KIRVANO="KIRVANO",n.GURU="GURU",(s=a||(a={})).RECEIVED="RECEIVED",s.PROCESSING="PROCESSING",s.PROCESSED="PROCESSED",s.FAILED="FAILED",s.DEAD_LETTER="DEAD_LETTER"},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],lzlfj:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){return e.reduce((e,t)=>e+(t.taxAmount||0),0)}function i(e){return"cancelled"===e.orderStatus&&e.returnTax?-e.returnTax:e.profit||0}function a(e){return"cancelled"===e.orderStatus&&(!e.returnValue||0===e.returnValue)&&(!e.returnTax||0===e.returnTax)}function o(e,t,r,n,s=0,i=0){return e+t+r+n+s-i}function c(e,t,r=0,n=0){return e-(t+r)-e*(n/100)}function l(e,t){return 0===t?0:e/t*100}function u(e,t,r=0,n=0){let s=c(e,t,r,n);return l(s,e)}n.defineInteropFlag(r),n.export(r,"calculateOrderTotalTax",()=>s),n.export(r,"calculateAdjustedProfit",()=>i),n.export(r,"isPureCancellation",()=>a),n.export(r,"calculateTotalCosts",()=>o),n.export(r,"calculateVariationProfit",()=>c),n.export(r,"calculateProfitMargin",()=>l),n.export(r,"calculateVariationMargin",()=>u)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"270Hv":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"WebhookSource",()=>s.WebhookSource),n.export(r,"WebhookStatus",()=>s.WebhookStatus);var s=e("@hunter/types")},{"@hunter/types":"8p9b1","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],eCNeO:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],kqBgn:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],eGlTP:[function(e,t,r){var n,s,i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"MovementCategory",()=>s),i.export(r,"MOVEMENT_CATEGORY_ICONS",()=>a),(n=s||(s={})).EQUIPAMENTOS="Equipamentos",n.INSUMOS="Insumos",n.LOGISTICA="Log\xedstica",n.MARKETING="Marketing",n.OPERACIONAL="Operacional",n.IMPOSTOS="Impostos",n.MANUTENCAO="Manuten\xe7\xe3o",n.PESSOAL="Pessoal",n.OUTROS="Outros";let a={[s.EQUIPAMENTOS]:"\uD83D\uDCE6",[s.INSUMOS]:"\uD83E\uDDEA",[s.LOGISTICA]:"\uD83D\uDE9A",[s.MARKETING]:"\uD83D\uDCE2",[s.OPERACIONAL]:"\uD83C\uDFE2",[s.IMPOSTOS]:"\uD83D\uDCB0",[s.MANUTENCAO]:"\uD83D\uDD27",[s.PESSOAL]:"\uD83D\uDC65",[s.OUTROS]:"\uD83D\uDCCB"}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],jGPmo:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],aQYcn:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"MLBService",()=>i),n.export(r,"mlbService",()=>a);var s=e("..");class i{async getMultiItems(e){return(0,s.hunterSDK).itens.getMany(e)}async getMultiSellers(e){return(0,s.hunterSDK).sellers.getMany(e)}async getItemPosition(e){return(0,s.hunterSDK).catalog.getPosition(e)}async getHighlightsProductsInCategory(e){return(0,s.hunterSDK).itens.getHighlights(e)}async getTrendsProducts(e){return(0,s.hunterSDK).itens.getTrend(e)}async getItemVisits(e){return(0,s.hunterSDK).visits.getItemVisits(e)}async getItemVisitsMetrics(e){return(0,s.hunterSDK).visits.getItemVisitsMetrics(e)}async getSellerData(e){return(0,s.hunterSDK).sellers.getById(e)}async getItemCatalog(e){return(0,s.hunterSDK).catalog.getById(e)}async getFee(e){return(0,s.hunterSDK).itens.getListingTypesCost({categoryId:e.categoryId,price:Number(e.price)})}async getShippingFreeItemFee({itemId:e,sellerId:t}){return(0,s.hunterSDK).itens.getShippingCost({itemId:e,sellerId:t?String(t):void 0})}async getTrendProducts(){return(0,s.hunterSDK).itens.getTrend()}}let a=new i},{"..":"51CuV","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"2prkh":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"eitherSchema",()=>o),n.export(r,"left",()=>c),n.export(r,"right",()=>l),n.export(r,"isLeft",()=>u),n.export(r,"isRight",()=>p),n.export(r,"fold",()=>d),n.export(r,"map",()=>h),n.export(r,"mapLeft",()=>m),n.export(r,"chain",()=>f),n.export(r,"chainLeft",()=>g),n.export(r,"toNullable",()=>v),n.export(r,"toUndefined",()=>y),n.export(r,"toError",()=>_),n.export(r,"toErrorString",()=>b),n.export(r,"toErrorStringWithDefault",()=>x),n.export(r,"toErrorWithDefault",()=>S),n.export(r,"toErrorWithDefaultString",()=>E),n.export(r,"toErrorWithDefaultError",()=>T),n.export(r,"toErrorWithDefaultErrorString",()=>I),n.export(r,"toErrorWithDefaultStringError",()=>w),n.export(r,"toErrorWithDefaultStringString",()=>j),n.export(r,"toErrorWithDefaultErrorError",()=>R);var s=e("zod");let i=e=>(0,s.z).object({left:e}),a=e=>(0,s.z).object({right:e}),o=(e,t)=>(0,s.z).union([i(e),a(t)]),c=e=>({left:e}),l=e=>({right:e}),u=e=>"left"in e,p=e=>"right"in e,d=(e,t,r)=>u(e)?t(e.left):r(e.right),h=(e,t)=>u(e)?e:l(t(e.right)),m=(e,t)=>u(e)?c(t(e.left)):e,f=(e,t)=>u(e)?e:t(e.right),g=(e,t)=>u(e)?t(e.left):e,v=e=>u(e)?null:e.right,y=e=>u(e)?void 0:e.right,_=e=>u(e)?Error(JSON.stringify(e.left)):Error(),b=e=>u(e)?JSON.stringify(e.left):"",x=(e,t)=>u(e)?JSON.stringify(e.left):t,S=(e,t)=>u(e)?Error(JSON.stringify(e.left)):t,E=(e,t)=>u(e)?Error(JSON.stringify(e.left)):Error(t),T=(e,t)=>u(e)?Error(JSON.stringify(e.left)):t,I=(e,t)=>u(e)?Error(JSON.stringify(e.left)):Error(t),w=(e,t)=>u(e)?Error(JSON.stringify(e.left)):t,j=(e,t)=>u(e)?Error(JSON.stringify(e.left)):Error(t),R=(e,t)=>u(e)?Error(JSON.stringify(e.left)):t},{zod:"lSpxi","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],lSpxi:[function(e,t,r){let n;var s,i,a,o,c,l,u,p,d,h=e("@parcel/transformer-js/src/esmodule-helpers.js");h.defineInteropFlag(r),h.export(r,"BRAND",()=>eL),h.export(r,"DIRTY",()=>R),h.export(r,"EMPTY_PATH",()=>T),h.export(r,"INVALID",()=>j),h.export(r,"NEVER",()=>tg),h.export(r,"OK",()=>k),h.export(r,"ParseStatus",()=>w),h.export(r,"Schema",()=>U),h.export(r,"ZodAny",()=>ec),h.export(r,"ZodArray",()=>ed),h.export(r,"ZodBigInt",()=>er),h.export(r,"ZodBoolean",()=>en),h.export(r,"ZodBranded",()=>eF),h.export(r,"ZodCatch",()=>eA),h.export(r,"ZodDate",()=>es),h.export(r,"ZodDefault",()=>eN),h.export(r,"ZodDiscriminatedUnion",()=>eg),h.export(r,"ZodEffects",()=>ek),h.export(r,"ZodEnum",()=>ew),h.export(r,"ZodError",()=>y),h.export(r,"ZodFirstPartyTypeKind",()=>d),h.export(r,"ZodFunction",()=>eS),h.export(r,"ZodIntersection",()=>ev),h.export(r,"ZodIssueCode",()=>g),h.export(r,"ZodLazy",()=>eE),h.export(r,"ZodLiteral",()=>eT),h.export(r,"ZodMap",()=>eb),h.export(r,"ZodNaN",()=>eP),h.export(r,"ZodNativeEnum",()=>ej),h.export(r,"ZodNever",()=>eu),h.export(r,"ZodNull",()=>eo),h.export(r,"ZodNullable",()=>eC),h.export(r,"ZodNumber",()=>et),h.export(r,"ZodObject",()=>eh),h.export(r,"ZodOptional",()=>eO),h.export(r,"ZodParsedType",()=>m),h.export(r,"ZodPipeline",()=>eD),h.export(r,"ZodPromise",()=>eR),h.export(r,"ZodReadonly",()=>eM),h.export(r,"ZodRecord",()=>e_),h.export(r,"ZodSchema",()=>U),h.export(r,"ZodSet",()=>ex),h.export(r,"ZodString",()=>ee),h.export(r,"ZodSymbol",()=>ei),h.export(r,"ZodTransformer",()=>ek),h.export(r,"ZodTuple",()=>ey),h.export(r,"ZodType",()=>U),h.export(r,"ZodUndefined",()=>ea),h.export(r,"ZodUnion",()=>em),h.export(r,"ZodUnknown",()=>el),h.export(r,"ZodVoid",()=>ep),h.export(r,"addIssueToContext",()=>I),h.export(r,"any",()=>eY),h.export(r,"array",()=>e1),h.export(r,"bigint",()=>eZ),h.export(r,"boolean",()=>eB),h.export(r,"coerce",()=>tf),h.export(r,"custom",()=>eU),h.export(r,"date",()=>eQ),h.export(r,"datetimeRegex",()=>J),h.export(r,"default",()=>tv),h.export(r,"defaultErrorMap",()=>_),h.export(r,"discriminatedUnion",()=>e9),h.export(r,"effect",()=>to),h.export(r,"enum",()=>ts),h.export(r,"function",()=>tt),h.export(r,"getErrorMap",()=>S),h.export(r,"getParsedType",()=>f),h.export(r,"instanceof",()=>eV),h.export(r,"intersection",()=>e5),h.export(r,"isAborted",()=>O),h.export(r,"isAsync",()=>A),h.export(r,"isDirty",()=>C),h.export(r,"isValid",()=>N),h.export(r,"late",()=>ez),h.export(r,"lazy",()=>tr),h.export(r,"literal",()=>tn),h.export(r,"makeIssue",()=>E),h.export(r,"map",()=>e6),h.export(r,"nan",()=>eH),h.export(r,"nativeEnum",()=>ti),h.export(r,"never",()=>eJ),h.export(r,"null",()=>eW),h.export(r,"nullable",()=>tl),h.export(r,"number",()=>eq),h.export(r,"object",()=>e2),h.export(r,"objectUtil",()=>c),h.export(r,"oboolean",()=>tm),h.export(r,"onumber",()=>th),h.export(r,"optional",()=>tc),h.export(r,"ostring",()=>td),h.export(r,"pipeline",()=>tp),h.export(r,"preprocess",()=>tu),h.export(r,"promise",()=>ta),h.export(r,"quotelessJson",()=>v),h.export(r,"record",()=>e7),h.export(r,"set",()=>te),h.export(r,"setErrorMap",()=>x),h.export(r,"strictObject",()=>e3),h.export(r,"string",()=>e$),h.export(r,"symbol",()=>eK),h.export(r,"transformer",()=>to),h.export(r,"tuple",()=>e8),h.export(r,"undefined",()=>eG),h.export(r,"union",()=>e4),h.export(r,"unknown",()=>eX),h.export(r,"util",()=>o),h.export(r,"void",()=>e0),h.export(r,"z",()=>tv),(s=o||(o={})).assertEqual=e=>e,s.assertIs=function(e){},s.assertNever=function(e){throw Error()},s.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},s.getValidEnumValues=e=>{let t=s.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let n of t)r[n]=e[n];return s.objectValues(r)},s.objectValues=e=>s.objectKeys(e).map(function(t){return e[t]}),s.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},s.find=(e,t)=>{for(let r of e)if(t(r))return r},s.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,s.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},s.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(c||(c={})).mergeShapes=(e,t)=>({...e,...t});let m=o.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),f=e=>{let t=typeof e;switch(t){case"undefined":return m.undefined;case"string":return m.string;case"number":return isNaN(e)?m.nan:m.number;case"boolean":return m.boolean;case"function":return m.function;case"bigint":return m.bigint;case"symbol":return m.symbol;case"object":if(Array.isArray(e))return m.array;if(null===e)return m.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return m.promise;if("undefined"!=typeof Map&&e instanceof Map)return m.map;if("undefined"!=typeof Set&&e instanceof Set)return m.set;if("undefined"!=typeof Date&&e instanceof Date)return m.date;return m.object;default:return m.unknown}},g=o.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),v=e=>{let t=JSON.stringify(e,null,2);return t.replace(/"([^"]+)":/g,"$1:")};class y extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let s of e.issues)if("invalid_union"===s.code)s.unionErrors.map(n);else if("invalid_return_type"===s.code)n(s.returnTypeError);else if("invalid_arguments"===s.code)n(s.argumentsError);else if(0===s.path.length)r._errors.push(t(s));else{let e=r,n=0;for(;n<s.path.length;){let r=s.path[n],i=n===s.path.length-1;i?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(s))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof y))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,o.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}y.create=e=>{let t=new y(e);return t};let _=(e,t)=>{let r;switch(e.code){case g.invalid_type:r=e.received===m.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case g.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,o.jsonStringifyReplacer)}`;break;case g.unrecognized_keys:r=`Unrecognized key(s) in object: ${o.joinValues(e.keys,", ")}`;break;case g.invalid_union:r="Invalid input";break;case g.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${o.joinValues(e.options)}`;break;case g.invalid_enum_value:r=`Invalid enum value. Expected ${o.joinValues(e.options)}, received '${e.received}'`;break;case g.invalid_arguments:r="Invalid function arguments";break;case g.invalid_return_type:r="Invalid function return type";break;case g.invalid_date:r="Invalid date";break;case g.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:o.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case g.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case g.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case g.custom:r="Invalid input";break;case g.invalid_intersection_types:r="Intersection results could not be merged";break;case g.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case g.not_finite:r="Number must be finite";break;default:r=t.defaultError,o.assertNever(e)}return{message:r}},b=_;function x(e){b=e}function S(){return b}let E=e=>{let{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],a={...s,path:i};if(void 0!==s.message)return{...s,path:i,message:s.message};let o="",c=n.filter(e=>!!e).slice().reverse();for(let e of c)o=e(a,{data:t,defaultError:o}).message;return{...s,path:i,message:o}},T=[];function I(e,t){let r=S(),n=E({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===_?void 0:_].filter(e=>!!e)});e.common.issues.push(n)}class w{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return j;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return w.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:s}=n;if("aborted"===t.status||"aborted"===s.status)return j;"dirty"===t.status&&e.dirty(),"dirty"===s.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==s.value||n.alwaysSet)&&(r[t.value]=s.value)}return{status:e.value,value:r}}}let j=Object.freeze({status:"aborted"}),R=e=>({status:"dirty",value:e}),k=e=>({status:"valid",value:e}),O=e=>"aborted"===e.status,C=e=>"dirty"===e.status,N=e=>"valid"===e.status,A=e=>"undefined"!=typeof Promise&&e instanceof Promise;function P(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function L(e,t,r,n,s){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!s)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,r):s?s.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError,(i=l||(l={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},i.toString=e=>"string"==typeof e?e:null==e?void 0:e.message;class F{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let D=(e,t)=>{if(N(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new y(e.common.issues);return this._error=t,this._error}}};function M(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:s}:{errorMap:(t,s)=>{var i,a;let{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:s.defaultError}:void 0===s.data?{message:null!==(i=null!=o?o:n)&&void 0!==i?i:s.defaultError}:"invalid_type"!==t.code?{message:s.defaultError}:{message:null!==(a=null!=o?o:r)&&void 0!==a?a:s.defaultError}},description:s}}class U{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return f(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:f(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new w,ctx:{common:e.parent.common,data:e.data,parsedType:f(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(A(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let n={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:f(e)},s=this._parseSync({data:e,path:n.path,parent:n});return D(n,s)}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:f(e)},n=this._parse({data:e,path:r.path,parent:r}),s=await (A(n)?n:Promise.resolve(n));return D(r,s)}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let s=e(t),i=()=>n.addIssue({code:g.custom,...r(t)});return"undefined"!=typeof Promise&&s instanceof Promise?s.then(e=>!!e||(i(),!1)):!!s||(i(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new ek({schema:this,typeName:d.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return eO.create(this,this._def)}nullable(){return eC.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ed.create(this,this._def)}promise(){return eR.create(this,this._def)}or(e){return em.create([this,e],this._def)}and(e){return ev.create(this,e,this._def)}transform(e){return new ek({...M(this._def),schema:this,typeName:d.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new eN({...M(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:d.ZodDefault})}brand(){return new eF({typeName:d.ZodBranded,type:this,...M(this._def)})}catch(e){return new eA({...M(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:d.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return eD.create(this,e)}readonly(){return eM.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let z=/^c[^\s-]{8,}$/i,V=/^[0-9a-z]+$/,$=/^[0-9A-HJKMNP-TV-Z]{26}$/,q=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,H=/^[a-z0-9_-]{21}$/i,Z=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,B=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Q=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,K=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,G=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,W="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Y=RegExp(`^${W}$`);function X(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function J(e){let t=`${W}T${X(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class ee extends U{_parse(e){var t,r;let s;this._def.coerce&&(e.data=String(e.data));let i=this._getType(e);if(i!==m.string){let t=this._getOrReturnCtx(e);return I(t,{code:g.invalid_type,expected:m.string,received:t.parsedType}),j}let a=new w;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(I(s=this._getOrReturnCtx(e,s),{code:g.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if("max"===i.kind)e.data.length>i.value&&(I(s=this._getOrReturnCtx(e,s),{code:g.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if("length"===i.kind){let t=e.data.length>i.value,r=e.data.length<i.value;(t||r)&&(s=this._getOrReturnCtx(e,s),t?I(s,{code:g.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):r&&I(s,{code:g.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if("email"===i.kind)B.test(e.data)||(I(s=this._getOrReturnCtx(e,s),{validation:"email",code:g.invalid_string,message:i.message}),a.dirty());else if("emoji"===i.kind)n||(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n.test(e.data)||(I(s=this._getOrReturnCtx(e,s),{validation:"emoji",code:g.invalid_string,message:i.message}),a.dirty());else if("uuid"===i.kind)q.test(e.data)||(I(s=this._getOrReturnCtx(e,s),{validation:"uuid",code:g.invalid_string,message:i.message}),a.dirty());else if("nanoid"===i.kind)H.test(e.data)||(I(s=this._getOrReturnCtx(e,s),{validation:"nanoid",code:g.invalid_string,message:i.message}),a.dirty());else if("cuid"===i.kind)z.test(e.data)||(I(s=this._getOrReturnCtx(e,s),{validation:"cuid",code:g.invalid_string,message:i.message}),a.dirty());else if("cuid2"===i.kind)V.test(e.data)||(I(s=this._getOrReturnCtx(e,s),{validation:"cuid2",code:g.invalid_string,message:i.message}),a.dirty());else if("ulid"===i.kind)$.test(e.data)||(I(s=this._getOrReturnCtx(e,s),{validation:"ulid",code:g.invalid_string,message:i.message}),a.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(t){I(s=this._getOrReturnCtx(e,s),{validation:"url",code:g.invalid_string,message:i.message}),a.dirty()}else if("regex"===i.kind){i.regex.lastIndex=0;let t=i.regex.test(e.data);t||(I(s=this._getOrReturnCtx(e,s),{validation:"regex",code:g.invalid_string,message:i.message}),a.dirty())}else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)e.data.includes(i.value,i.position)||(I(s=this._getOrReturnCtx(e,s),{code:g.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(I(s=this._getOrReturnCtx(e,s),{code:g.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(I(s=this._getOrReturnCtx(e,s),{code:g.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty());else if("datetime"===i.kind){let t=J(i);t.test(e.data)||(I(s=this._getOrReturnCtx(e,s),{code:g.invalid_string,validation:"datetime",message:i.message}),a.dirty())}else if("date"===i.kind)Y.test(e.data)||(I(s=this._getOrReturnCtx(e,s),{code:g.invalid_string,validation:"date",message:i.message}),a.dirty());else if("time"===i.kind){let t=RegExp(`^${X(i)}$`);t.test(e.data)||(I(s=this._getOrReturnCtx(e,s),{code:g.invalid_string,validation:"time",message:i.message}),a.dirty())}else"duration"===i.kind?Z.test(e.data)||(I(s=this._getOrReturnCtx(e,s),{validation:"duration",code:g.invalid_string,message:i.message}),a.dirty()):"ip"===i.kind?(t=e.data,("v4"===(r=i.version)||!r)&&Q.test(t)||("v6"===r||!r)&&K.test(t)||(I(s=this._getOrReturnCtx(e,s),{validation:"ip",code:g.invalid_string,message:i.message}),a.dirty())):"base64"===i.kind?G.test(e.data)||(I(s=this._getOrReturnCtx(e,s),{validation:"base64",code:g.invalid_string,message:i.message}),a.dirty()):o.assertNever(i);return{status:a.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:g.invalid_string,...l.errToObj(r)})}_addCheck(e){return new ee({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...l.errToObj(e)})}url(e){return this._addCheck({kind:"url",...l.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...l.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...l.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...l.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...l.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...l.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...l.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...l.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...l.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...l.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...l.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...l.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...l.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...l.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...l.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...l.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...l.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...l.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...l.errToObj(t)})}nonempty(e){return this.min(1,l.errToObj(e))}trim(){return new ee({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ee({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ee({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ee.create=e=>{var t;return new ee({checks:[],typeName:d.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...M(e)})};class et extends U{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;this._def.coerce&&(e.data=Number(e.data));let r=this._getType(e);if(r!==m.number){let t=this._getOrReturnCtx(e);return I(t,{code:g.invalid_type,expected:m.number,received:t.parsedType}),j}let n=new w;for(let r of this._def.checks)if("int"===r.kind)o.isInteger(e.data)||(I(t=this._getOrReturnCtx(e,t),{code:g.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){let s=r.inclusive?e.data<r.value:e.data<=r.value;s&&(I(t=this._getOrReturnCtx(e,t),{code:g.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){let s=r.inclusive?e.data>r.value:e.data>=r.value;s&&(I(t=this._getOrReturnCtx(e,t),{code:g.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),a=parseInt(t.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}(e.data,r.value)&&(I(t=this._getOrReturnCtx(e,t),{code:g.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(I(t=this._getOrReturnCtx(e,t),{code:g.not_finite,message:r.message}),n.dirty()):o.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,l.toString(t))}gt(e,t){return this.setLimit("min",e,!1,l.toString(t))}lte(e,t){return this.setLimit("max",e,!0,l.toString(t))}lt(e,t){return this.setLimit("max",e,!1,l.toString(t))}setLimit(e,t,r,n){return new et({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:l.toString(n)}]})}_addCheck(e){return new et({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:l.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:l.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:l.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:l.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:l.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:l.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:l.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:l.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:l.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&o.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}et.create=e=>new et({checks:[],typeName:d.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...M(e)});class er extends U{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;this._def.coerce&&(e.data=BigInt(e.data));let r=this._getType(e);if(r!==m.bigint){let t=this._getOrReturnCtx(e);return I(t,{code:g.invalid_type,expected:m.bigint,received:t.parsedType}),j}let n=new w;for(let r of this._def.checks)if("min"===r.kind){let s=r.inclusive?e.data<r.value:e.data<=r.value;s&&(I(t=this._getOrReturnCtx(e,t),{code:g.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){let s=r.inclusive?e.data>r.value:e.data>=r.value;s&&(I(t=this._getOrReturnCtx(e,t),{code:g.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(I(t=this._getOrReturnCtx(e,t),{code:g.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):o.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,l.toString(t))}gt(e,t){return this.setLimit("min",e,!1,l.toString(t))}lte(e,t){return this.setLimit("max",e,!0,l.toString(t))}lt(e,t){return this.setLimit("max",e,!1,l.toString(t))}setLimit(e,t,r,n){return new er({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:l.toString(n)}]})}_addCheck(e){return new er({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:l.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:l.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:l.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:l.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:l.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}er.create=e=>{var t;return new er({checks:[],typeName:d.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...M(e)})};class en extends U{_parse(e){this._def.coerce&&(e.data=!!e.data);let t=this._getType(e);if(t!==m.boolean){let t=this._getOrReturnCtx(e);return I(t,{code:g.invalid_type,expected:m.boolean,received:t.parsedType}),j}return k(e.data)}}en.create=e=>new en({typeName:d.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...M(e)});class es extends U{_parse(e){let t;this._def.coerce&&(e.data=new Date(e.data));let r=this._getType(e);if(r!==m.date){let t=this._getOrReturnCtx(e);return I(t,{code:g.invalid_type,expected:m.date,received:t.parsedType}),j}if(isNaN(e.data.getTime())){let t=this._getOrReturnCtx(e);return I(t,{code:g.invalid_date}),j}let n=new w;for(let r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(I(t=this._getOrReturnCtx(e,t),{code:g.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),n.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(I(t=this._getOrReturnCtx(e,t),{code:g.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),n.dirty()):o.assertNever(r);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new es({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:l.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:l.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}es.create=e=>new es({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:d.ZodDate,...M(e)});class ei extends U{_parse(e){let t=this._getType(e);if(t!==m.symbol){let t=this._getOrReturnCtx(e);return I(t,{code:g.invalid_type,expected:m.symbol,received:t.parsedType}),j}return k(e.data)}}ei.create=e=>new ei({typeName:d.ZodSymbol,...M(e)});class ea extends U{_parse(e){let t=this._getType(e);if(t!==m.undefined){let t=this._getOrReturnCtx(e);return I(t,{code:g.invalid_type,expected:m.undefined,received:t.parsedType}),j}return k(e.data)}}ea.create=e=>new ea({typeName:d.ZodUndefined,...M(e)});class eo extends U{_parse(e){let t=this._getType(e);if(t!==m.null){let t=this._getOrReturnCtx(e);return I(t,{code:g.invalid_type,expected:m.null,received:t.parsedType}),j}return k(e.data)}}eo.create=e=>new eo({typeName:d.ZodNull,...M(e)});class ec extends U{constructor(){super(...arguments),this._any=!0}_parse(e){return k(e.data)}}ec.create=e=>new ec({typeName:d.ZodAny,...M(e)});class el extends U{constructor(){super(...arguments),this._unknown=!0}_parse(e){return k(e.data)}}el.create=e=>new el({typeName:d.ZodUnknown,...M(e)});class eu extends U{_parse(e){let t=this._getOrReturnCtx(e);return I(t,{code:g.invalid_type,expected:m.never,received:t.parsedType}),j}}eu.create=e=>new eu({typeName:d.ZodNever,...M(e)});class ep extends U{_parse(e){let t=this._getType(e);if(t!==m.undefined){let t=this._getOrReturnCtx(e);return I(t,{code:g.invalid_type,expected:m.void,received:t.parsedType}),j}return k(e.data)}}ep.create=e=>new ep({typeName:d.ZodVoid,...M(e)});class ed extends U{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==m.array)return I(t,{code:g.invalid_type,expected:m.array,received:t.parsedType}),j;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,s=t.data.length<n.exactLength.value;(e||s)&&(I(t,{code:e?g.too_big:g.too_small,minimum:s?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(I(t,{code:g.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(I(t,{code:g.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new F(t,e,t.path,r)))).then(e=>w.mergeArray(r,e));let s=[...t.data].map((e,r)=>n.type._parseSync(new F(t,e,t.path,r)));return w.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new ed({...this._def,minLength:{value:e,message:l.toString(t)}})}max(e,t){return new ed({...this._def,maxLength:{value:e,message:l.toString(t)}})}length(e,t){return new ed({...this._def,exactLength:{value:e,message:l.toString(t)}})}nonempty(e){return this.min(1,e)}}ed.create=(e,t)=>new ed({type:e,minLength:null,maxLength:null,exactLength:null,typeName:d.ZodArray,...M(t)});class eh extends U{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=o.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){let t=this._getType(e);if(t!==m.object){let t=this._getOrReturnCtx(e);return I(t,{code:g.invalid_type,expected:m.object,received:t.parsedType}),j}let{status:r,ctx:n}=this._processInputParams(e),{shape:s,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof eu&&"strip"===this._def.unknownKeys))for(let e in n.data)i.includes(e)||a.push(e);let o=[];for(let e of i){let t=s[e],r=n.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new F(n,r,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof eu){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of a)o.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)a.length>0&&(I(n,{code:g.unrecognized_keys,keys:a}),r.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of a){let r=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new F(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of o){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>w.mergeObjectSync(r,e)):w.mergeObjectSync(r,o)}get shape(){return this._def.shape()}strict(e){return l.errToObj,new eh({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,s,i,a;let o=null!==(i=null===(s=(n=this._def).errorMap)||void 0===s?void 0:s.call(n,t,r).message)&&void 0!==i?i:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=l.errToObj(e).message)&&void 0!==a?a:o}:{message:o}}}:{}})}strip(){return new eh({...this._def,unknownKeys:"strip"})}passthrough(){return new eh({...this._def,unknownKeys:"passthrough"})}extend(e){return new eh({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){let t=new eh({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:d.ZodObject});return t}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new eh({...this._def,catchall:e})}pick(e){let t={};return o.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new eh({...this._def,shape:()=>t})}omit(e){let t={};return o.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new eh({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof eh){let r={};for(let n in t.shape){let s=t.shape[n];r[n]=eO.create(e(s))}return new eh({...t._def,shape:()=>r})}return t instanceof ed?new ed({...t._def,type:e(t.element)}):t instanceof eO?eO.create(e(t.unwrap())):t instanceof eC?eC.create(e(t.unwrap())):t instanceof ey?ey.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};return o.objectKeys(this.shape).forEach(r=>{let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}),new eh({...this._def,shape:()=>t})}required(e){let t={};return o.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r],n=e;for(;n instanceof eO;)n=n._def.innerType;t[r]=n}}),new eh({...this._def,shape:()=>t})}keyof(){return eI(o.objectKeys(this.shape))}}eh.create=(e,t)=>new eh({shape:()=>e,unknownKeys:"strip",catchall:eu.create(),typeName:d.ZodObject,...M(t)}),eh.strictCreate=(e,t)=>new eh({shape:()=>e,unknownKeys:"strict",catchall:eu.create(),typeName:d.ZodObject,...M(t)}),eh.lazycreate=(e,t)=>new eh({shape:e,unknownKeys:"strip",catchall:eu.create(),typeName:d.ZodObject,...M(t)});class em extends U{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new y(e.ctx.common.issues));return I(t,{code:g.invalid_union,unionErrors:r}),j});{let e;let n=[];for(let s of r){let r={...t,common:{...t.common,issues:[]},parent:null},i=s._parseSync({data:t.data,path:t.path,parent:r});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let s=n.map(e=>new y(e));return I(t,{code:g.invalid_union,unionErrors:s}),j}}get options(){return this._def.options}}em.create=(e,t)=>new em({options:e,typeName:d.ZodUnion,...M(t)});let ef=e=>{if(e instanceof eE)return ef(e.schema);if(e instanceof ek)return ef(e.innerType());if(e instanceof eT)return[e.value];if(e instanceof ew)return e.options;if(e instanceof ej)return o.objectValues(e.enum);if(e instanceof eN)return ef(e._def.innerType);if(e instanceof ea)return[void 0];else if(e instanceof eo)return[null];else if(e instanceof eO)return[void 0,...ef(e.unwrap())];else if(e instanceof eC)return[null,...ef(e.unwrap())];else if(e instanceof eF)return ef(e.unwrap());else if(e instanceof eM)return ef(e.unwrap());else if(e instanceof eA)return ef(e._def.innerType);else return[]};class eg extends U{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==m.object)return I(t,{code:g.invalid_type,expected:m.object,received:t.parsedType}),j;let r=this.discriminator,n=t.data[r],s=this.optionsMap.get(n);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(I(t,{code:g.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),j)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=ef(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let s of t){if(n.has(s))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);n.set(s,r)}}return new eg({typeName:d.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...M(r)})}}class ev extends U{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(O(e)||O(n))return j;let s=function e(t,r){let n=f(t),s=f(r);if(t===r)return{valid:!0,data:t};if(n===m.object&&s===m.object){let n=o.objectKeys(r),s=o.objectKeys(t).filter(e=>-1!==n.indexOf(e)),i={...t,...r};for(let n of s){let s=e(t[n],r[n]);if(!s.valid)return{valid:!1};i[n]=s.data}return{valid:!0,data:i}}if(n===m.array&&s===m.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let s=0;s<t.length;s++){let i=t[s],a=r[s],o=e(i,a);if(!o.valid)return{valid:!1};n.push(o.data)}return{valid:!0,data:n}}return n===m.date&&s===m.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}(e.value,n.value);return s.valid?((C(e)||C(n))&&t.dirty(),{status:t.value,value:s.data}):(I(r,{code:g.invalid_intersection_types}),j)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ev.create=(e,t,r)=>new ev({left:e,right:t,typeName:d.ZodIntersection,...M(r)});class ey extends U{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==m.array)return I(r,{code:g.invalid_type,expected:m.array,received:r.parsedType}),j;if(r.data.length<this._def.items.length)return I(r,{code:g.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),j;let n=this._def.rest;!n&&r.data.length>this._def.items.length&&(I(r,{code:g.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let s=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new F(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(s).then(e=>w.mergeArray(t,e)):w.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new ey({...this._def,rest:e})}}ey.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new ey({items:e,typeName:d.ZodTuple,rest:null,...M(t)})};class e_ extends U{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==m.object)return I(r,{code:g.invalid_type,expected:m.object,received:r.parsedType}),j;let n=[],s=this._def.keyType,i=this._def.valueType;for(let e in r.data)n.push({key:s._parse(new F(r,e,r.path,e)),value:i._parse(new F(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?w.mergeObjectAsync(t,n):w.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new e_(t instanceof U?{keyType:e,valueType:t,typeName:d.ZodRecord,...M(r)}:{keyType:ee.create(),valueType:e,typeName:d.ZodRecord,...M(t)})}}class eb extends U{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==m.map)return I(r,{code:g.invalid_type,expected:m.map,received:r.parsedType}),j;let n=this._def.keyType,s=this._def.valueType,i=[...r.data.entries()].map(([e,t],i)=>({key:n._parse(new F(r,e,r.path,[i,"key"])),value:s._parse(new F(r,t,r.path,[i,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of i){let n=await r.key,s=await r.value;if("aborted"===n.status||"aborted"===s.status)return j;("dirty"===n.status||"dirty"===s.status)&&t.dirty(),e.set(n.value,s.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of i){let n=r.key,s=r.value;if("aborted"===n.status||"aborted"===s.status)return j;("dirty"===n.status||"dirty"===s.status)&&t.dirty(),e.set(n.value,s.value)}return{status:t.value,value:e}}}}eb.create=(e,t,r)=>new eb({valueType:t,keyType:e,typeName:d.ZodMap,...M(r)});class ex extends U{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==m.set)return I(r,{code:g.invalid_type,expected:m.set,received:r.parsedType}),j;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(I(r,{code:g.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(I(r,{code:g.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let s=this._def.valueType;function i(e){let r=new Set;for(let n of e){if("aborted"===n.status)return j;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let a=[...r.data.values()].map((e,t)=>s._parse(new F(r,e,r.path,t)));return r.common.async?Promise.all(a).then(e=>i(e)):i(a)}min(e,t){return new ex({...this._def,minSize:{value:e,message:l.toString(t)}})}max(e,t){return new ex({...this._def,maxSize:{value:e,message:l.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ex.create=(e,t)=>new ex({valueType:e,minSize:null,maxSize:null,typeName:d.ZodSet,...M(t)});class eS extends U{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==m.function)return I(t,{code:g.invalid_type,expected:m.function,received:t.parsedType}),j;function r(e,r){return E({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,S(),_].filter(e=>!!e),issueData:{code:g.invalid_arguments,argumentsError:r}})}function n(e,r){return E({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,S(),_].filter(e=>!!e),issueData:{code:g.invalid_return_type,returnTypeError:r}})}let s={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof eR){let e=this;return k(async function(...t){let a=new y([]),o=await e._def.args.parseAsync(t,s).catch(e=>{throw a.addIssue(r(t,e)),a}),c=await Reflect.apply(i,this,o),l=await e._def.returns._def.type.parseAsync(c,s).catch(e=>{throw a.addIssue(n(c,e)),a});return l})}{let e=this;return k(function(...t){let a=e._def.args.safeParse(t,s);if(!a.success)throw new y([r(t,a.error)]);let o=Reflect.apply(i,this,a.data),c=e._def.returns.safeParse(o,s);if(!c.success)throw new y([n(o,c.error)]);return c.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new eS({...this._def,args:ey.create(e).rest(el.create())})}returns(e){return new eS({...this._def,returns:e})}implement(e){let t=this.parse(e);return t}strictImplement(e){let t=this.parse(e);return t}static create(e,t,r){return new eS({args:e||ey.create([]).rest(el.create()),returns:t||el.create(),typeName:d.ZodFunction,...M(r)})}}class eE extends U{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.getter();return r._parse({data:t.data,path:t.path,parent:t})}}eE.create=(e,t)=>new eE({getter:e,typeName:d.ZodLazy,...M(t)});class eT extends U{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return I(t,{received:t.data,code:g.invalid_literal,expected:this._def.value}),j}return{status:"valid",value:e.data}}get value(){return this._def.value}}function eI(e,t){return new ew({values:e,typeName:d.ZodEnum,...M(t)})}eT.create=(e,t)=>new eT({value:e,typeName:d.ZodLiteral,...M(t)});class ew extends U{constructor(){super(...arguments),u.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return I(t,{expected:o.joinValues(r),received:t.parsedType,code:g.invalid_type}),j}if(P(this,u,"f")||L(this,u,new Set(this._def.values),"f"),!P(this,u,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return I(t,{received:t.data,code:g.invalid_enum_value,options:r}),j}return k(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ew.create(e,{...this._def,...t})}exclude(e,t=this._def){return ew.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}u=new WeakMap,ew.create=eI;class ej extends U{constructor(){super(...arguments),p.set(this,void 0)}_parse(e){let t=o.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==m.string&&r.parsedType!==m.number){let e=o.objectValues(t);return I(r,{expected:o.joinValues(e),received:r.parsedType,code:g.invalid_type}),j}if(P(this,p,"f")||L(this,p,new Set(o.getValidEnumValues(this._def.values)),"f"),!P(this,p,"f").has(e.data)){let e=o.objectValues(t);return I(r,{received:r.data,code:g.invalid_enum_value,options:e}),j}return k(e.data)}get enum(){return this._def.values}}p=new WeakMap,ej.create=(e,t)=>new ej({values:e,typeName:d.ZodNativeEnum,...M(t)});class eR extends U{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==m.promise&&!1===t.common.async)return I(t,{code:g.invalid_type,expected:m.promise,received:t.parsedType}),j;let r=t.parsedType===m.promise?t.data:Promise.resolve(t.data);return k(r.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}eR.create=(e,t)=>new eR({type:e,typeName:d.ZodPromise,...M(t)});class ek extends U{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===d.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,s={addIssue:e=>{I(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),"preprocess"===n.type){let e=n.transform(r.data,s);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return j;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?j:"dirty"===n.status||"dirty"===t.value?R(n.value):n});{if("aborted"===t.value)return j;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?j:"dirty"===n.status||"dirty"===t.value?R(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,s);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?j:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?j:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>N(e)?Promise.resolve(n.transform(e.value,s)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!N(e))return e;let i=n.transform(e.value,s);if(i instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}}o.assertNever(n)}}ek.create=(e,t,r)=>new ek({schema:e,typeName:d.ZodEffects,effect:t,...M(r)}),ek.createWithPreprocess=(e,t,r)=>new ek({schema:t,effect:{type:"preprocess",transform:e},typeName:d.ZodEffects,...M(r)});class eO extends U{_parse(e){let t=this._getType(e);return t===m.undefined?k(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eO.create=(e,t)=>new eO({innerType:e,typeName:d.ZodOptional,...M(t)});class eC extends U{_parse(e){let t=this._getType(e);return t===m.null?k(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eC.create=(e,t)=>new eC({innerType:e,typeName:d.ZodNullable,...M(t)});class eN extends U{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===m.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}eN.create=(e,t)=>new eN({innerType:e,typeName:d.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...M(t)});class eA extends U{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return A(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new y(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new y(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}eA.create=(e,t)=>new eA({innerType:e,typeName:d.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...M(t)});class eP extends U{_parse(e){let t=this._getType(e);if(t!==m.nan){let t=this._getOrReturnCtx(e);return I(t,{code:g.invalid_type,expected:m.nan,received:t.parsedType}),j}return{status:"valid",value:e.data}}}eP.create=e=>new eP({typeName:d.ZodNaN,...M(e)});let eL=Symbol("zod_brand");class eF extends U{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class eD extends U{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async){let e=async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?j:"dirty"===e.status?(t.dirty(),R(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})};return e()}{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?j:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new eD({in:e,out:t,typeName:d.ZodPipeline})}}class eM extends U{_parse(e){let t=this._def.innerType._parse(e),r=e=>(N(e)&&(e.value=Object.freeze(e.value)),e);return A(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function eU(e,t={},r){return e?ec.create().superRefine((n,s)=>{var i,a;if(!e(n)){let e="function"==typeof t?t(n):"string"==typeof t?{message:t}:t,o=null===(a=null!==(i=e.fatal)&&void 0!==i?i:r)||void 0===a||a;s.addIssue({code:"custom",..."string"==typeof e?{message:e}:e,fatal:o})}}):ec.create()}eM.create=(e,t)=>new eM({innerType:e,typeName:d.ZodReadonly,...M(t)});let ez={object:eh.lazycreate};(a=d||(d={})).ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly";let eV=(e,t={message:`Input not instance of ${e.name}`})=>eU(t=>t instanceof e,t),e$=ee.create,eq=et.create,eH=eP.create,eZ=er.create,eB=en.create,eQ=es.create,eK=ei.create,eG=ea.create,eW=eo.create,eY=ec.create,eX=el.create,eJ=eu.create,e0=ep.create,e1=ed.create,e2=eh.create,e3=eh.strictCreate,e4=em.create,e9=eg.create,e5=ev.create,e8=ey.create,e7=e_.create,e6=eb.create,te=ex.create,tt=eS.create,tr=eE.create,tn=eT.create,ts=ew.create,ti=ej.create,ta=eR.create,to=ek.create,tc=eO.create,tl=eC.create,tu=ek.createWithPreprocess,tp=eD.create,td=()=>e$().optional(),th=()=>eq().optional(),tm=()=>eB().optional(),tf={string:e=>ee.create({...e,coerce:!0}),number:e=>et.create({...e,coerce:!0}),boolean:e=>en.create({...e,coerce:!0}),bigint:e=>er.create({...e,coerce:!0}),date:e=>es.create({...e,coerce:!0})},tg=j;var tv=Object.freeze({__proto__:null,defaultErrorMap:_,setErrorMap:x,getErrorMap:S,makeIssue:E,EMPTY_PATH:T,addIssueToContext:I,ParseStatus:w,INVALID:j,DIRTY:R,OK:k,isAborted:O,isDirty:C,isValid:N,isAsync:A,get util(){return o},get objectUtil(){return c},ZodParsedType:m,getParsedType:f,ZodType:U,datetimeRegex:J,ZodString:ee,ZodNumber:et,ZodBigInt:er,ZodBoolean:en,ZodDate:es,ZodSymbol:ei,ZodUndefined:ea,ZodNull:eo,ZodAny:ec,ZodUnknown:el,ZodNever:eu,ZodVoid:ep,ZodArray:ed,ZodObject:eh,ZodUnion:em,ZodDiscriminatedUnion:eg,ZodIntersection:ev,ZodTuple:ey,ZodRecord:e_,ZodMap:eb,ZodSet:ex,ZodFunction:eS,ZodLazy:eE,ZodLiteral:eT,ZodEnum:ew,ZodNativeEnum:ej,ZodPromise:eR,ZodEffects:ek,ZodTransformer:ek,ZodOptional:eO,ZodNullable:eC,ZodDefault:eN,ZodCatch:eA,ZodNaN:eP,BRAND:eL,ZodBranded:eF,ZodPipeline:eD,ZodReadonly:eM,custom:eU,Schema:U,ZodSchema:U,late:ez,get ZodFirstPartyTypeKind(){return d},coerce:tf,any:eY,array:e1,bigint:eZ,boolean:eB,date:eQ,discriminatedUnion:e9,effect:to,enum:ts,function:tt,instanceof:eV,intersection:e5,lazy:tr,literal:tn,map:e6,nan:eH,nativeEnum:ti,never:eJ,null:eW,nullable:tl,number:eq,object:e2,oboolean:tm,onumber:th,optional:tc,ostring:td,pipeline:tp,preprocess:tu,promise:ta,record:e7,set:te,strictObject:e3,string:e$,symbol:eK,transformer:to,tuple:e8,undefined:eG,union:e4,unknown:eX,void:e0,NEVER:tg,ZodIssueCode:g,quotelessJson:v,ZodError:y})},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],SlSHh:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"callProcedure",()=>s.e),n.export(r,"createCallerFactory",()=>s.b),n.export(r,"defaultTransformer",()=>s.a),n.export(r,"getDataTransformer",()=>s.g),n.export(r,"procedureTypes",()=>s.p),n.export(r,"TRPCError",()=>i.T),n.export(r,"getTRPCErrorFromUnknown",()=>i.g),n.export(r,"createInputMiddleware",()=>v),n.export(r,"createOutputMiddleware",()=>y),n.export(r,"experimental_standaloneMiddleware",()=>f),n.export(r,"initTRPC",()=>C),n.export(r,"router",()=>R);var s=e("./config-d5fdbd39.mjs"),i=e("./TRPCError-98d44758.mjs"),a=e("./index-f91d720c.mjs"),o=e("./codes-c924c3db.mjs");e("./getCauseFromUnknown-2d66414a.mjs");let c="middlewareMarker";function l(e){if("function"==typeof e)return e;if("function"==typeof e.parseAsync)return e.parseAsync.bind(e);if("function"==typeof e.parse)return e.parse.bind(e);if("function"==typeof e.validateSync)return e.validateSync.bind(e);if("function"==typeof e.create)return e.create.bind(e);throw Error("Could not find a validator fn")}class u{_def(){return{middlewares:this.middlewares,resolver:this.resolver,inputParser:this.inputParser,outputParser:this.outputParser,meta:this.meta}}async parseInput(e){try{return await this.parseInputFn(e)}catch(e){throw new i.T({code:"BAD_REQUEST",cause:e})}}async parseOutput(e){try{return await this.parseOutputFn(e)}catch(e){throw new i.T({code:"INTERNAL_SERVER_ERROR",cause:e,message:"Output validation failed"})}}async call(e){let t=this.middlewares.concat([async({ctx:t})=>{let r=await this.parseInput(e.rawInput),n=await this.resolver({...e,ctx:t,input:r}),s=await this.parseOutput(n);return{marker:c,ok:!0,data:s,ctx:t}}]),r=async(n={index:0,ctx:e.ctx})=>{try{let s=await t[n.index]({ctx:n.ctx,type:e.type,path:e.path,rawInput:e.rawInput,meta:this.meta,next:async e=>await r({index:n.index+1,ctx:e?e.ctx:n.ctx})});return s}catch(e){return{ctx:n.ctx,ok:!1,error:(0,i.g)(e),marker:c}}},n=await r();if(!n)throw new i.T({code:"INTERNAL_SERVER_ERROR",message:"No result from middlewares - did you forget to `return next()`?"});if(!n.ok)throw n.error;return n.data}inheritMiddlewares(e){let t=this.constructor,r=new t({middlewares:[...e,...this.middlewares],resolver:this.resolver,inputParser:this.inputParser,outputParser:this.outputParser,meta:this.meta});return r}constructor(e){this.middlewares=e.middlewares,this.resolver=e.resolver,this.inputParser=e.inputParser,this.parseInputFn=l(this.inputParser),this.outputParser=e.outputParser,this.parseOutputFn=l(this.outputParser),this.meta=e.meta}}function p(e){let t="input"in e?e.input:e=>{if(null!=e)throw new i.T({code:"BAD_REQUEST",message:"No input expected"})},r="output"in e&&e.output?e.output:e=>e;return new u({inputParser:t,resolver:e.resolve,middlewares:[],outputParser:r,meta:e.meta})}function d(e){if("function"==typeof e)return e;if("function"==typeof e.parseAsync)return e.parseAsync.bind(e);if("function"==typeof e.parse)return e.parse.bind(e);if("function"==typeof e.validateSync)return e.validateSync.bind(e);if("function"==typeof e.create)return e.create.bind(e);if("function"==typeof e.assert)return t=>(e.assert(t),t);throw Error("Could not find a validator fn")}function h(e,...t){let r=Object.assign(Object.create(null),e);for(let e of t)for(let t in e){if(t in r&&r[t]!==e[t])throw Error(`Duplicate key ${t}`);r[t]=e[t]}return r}function m(){return function(e){return function e(t){return{_middlewares:t,unstable_pipe(r){let n="_middlewares"in r?r._middlewares:[r];return e([...t,...n])}}}([e])}}let f=()=>({create:m()});function g(e){return e&&"object"==typeof e&&!Array.isArray(e)}function v(e){let t=async({next:t,rawInput:r,input:n})=>{let s;try{s=await e(r)}catch(e){throw new i.T({code:"BAD_REQUEST",cause:e})}let a=g(n)&&g(s)?{...n,...s}:s;return t({input:a})};return t._type="input",t}function y(e){let t=async({next:t})=>{let r=await t();if(!r.ok)return r;try{let t=await e(r.data);return{...r,data:t}}catch(e){throw new i.T({message:"Output validation failed",code:"INTERNAL_SERVER_ERROR",cause:e})}};return t._type="output",t}let _="middlewareMarker";function b(e,t){let{middlewares:r=[],inputs:n,meta:s,...i}=t;return x({...h(e,i),inputs:[...e.inputs,...n??[]],middlewares:[...e.middlewares,...r],meta:e.meta&&s?{...e.meta,...s}:s??e.meta})}function x(e={}){let t={inputs:[],middlewares:[],...e};return{_def:t,input(e){let r=d(e);return b(t,{inputs:[e],middlewares:[v(r)]})},output(e){let r=d(e);return b(t,{output:e,middlewares:[y(r)]})},meta:e=>b(t,{meta:e}),unstable_concat:e=>b(t,e._def),use(e){let r="_middlewares"in e?e._middlewares:[e];return b(t,{middlewares:r})},query:e=>S({...t,query:!0},e),mutation:e=>S({...t,mutation:!0},e),subscription:e=>S({...t,subscription:!0},e)}}function S(e,t){let r=b(e,{resolver:t,middlewares:[async function(e){let r=await t(e);return{marker:_,ok:!0,data:r,ctx:e.ctx}}]});return function(e){let t=async function(t){if(!t||!("rawInput"in t))throw Error(E);let r=async(n={index:0,ctx:t.ctx})=>{try{let s=e.middlewares[n.index],i=await s({ctx:n.ctx,type:t.type,path:t.path,rawInput:n.rawInput??t.rawInput,meta:e.meta,input:n.input,next:e=>r({index:n.index+1,ctx:e&&"ctx"in e?{...n.ctx,...e.ctx}:n.ctx,input:e&&"input"in e?e.input:n.input,rawInput:e&&"rawInput"in e?e.rawInput:n.rawInput})});return i}catch(e){return{ok:!1,error:(0,i.g)(e),marker:_}}},n=await r();if(!n)throw new i.T({code:"INTERNAL_SERVER_ERROR",message:"No result from middlewares - did you forget to `return next()`?"});if(!n.ok)throw n.error;return n.data};return t._def=e,t.meta=e.meta,t}(r._def)}let E=`
This is a client-only function.
If you want to call this function on the server, see https://trpc.io/docs/server/server-side-calls
`.trim();function T(e,t){var r,n;let s=e._def(),i=(r=s.inputParser)?d(r):e=>e,a=(n=s.outputParser)?d(n):e=>e,o=v(i),c=x({inputs:[s.inputParser],middlewares:[...s.middlewares,o,y(a)],meta:s.meta,output:s.outputParser,mutation:"mutation"===t,query:"query"===t,subscription:"subscription"===t}),l=c[t](e=>s.resolver(e));return l}let I={query:"queries",mutation:"mutations",subscription:"subscriptions"};function w(...e){return Object.assign(Object.create(null),...e)}class j{static prefixProcedures(e,t){let r=w();for(let[n,s]of Object.entries(e))r[t+n]=s;return r}query(e,t){let r=new j({queries:w({[e]:p(t)})});return this.merge(r)}mutation(e,t){let r=new j({mutations:w({[e]:p(t)})});return this.merge(r)}subscription(e,t){let r=new j({subscriptions:w({[e]:p(t)})});return this.merge(r)}merge(e,t){let r,n="";if("string"==typeof e&&t instanceof j)n=e,r=t;else if(e instanceof j)r=e;else throw Error("Invalid args");let s=Object.keys(r._def.queries).filter(e=>!!this._def.queries[n+e]),i=Object.keys(r._def.mutations).filter(e=>!!this._def.mutations[n+e]),a=Object.keys(r._def.subscriptions).filter(e=>!!this._def.subscriptions[n+e]),o=[...s,...i,...a];if(o.length)throw Error(`Duplicate endpoint(s): ${o.join(", ")}`);let c=e=>{let t=w();for(let[r,n]of Object.entries(e)){let e=n.inheritMiddlewares(this._def.middlewares);t[r]=e}return j.prefixProcedures(t,n)};return new j({...this._def,queries:w(this._def.queries,c(r._def.queries)),mutations:w(this._def.mutations,c(r._def.mutations)),subscriptions:w(this._def.subscriptions,c(r._def.subscriptions))})}async call(e){let{type:t,path:r}=e,n=I[t],s=this._def[n],a=s[r];if(!a)throw new i.T({code:"NOT_FOUND",message:`No "${t}"-procedure on path "${r}"`});return a.call(e)}createCaller(e){return{query:(t,...r)=>this.call({type:"query",ctx:e,path:t,rawInput:r[0]}),mutation:(t,...r)=>this.call({type:"mutation",ctx:e,path:t,rawInput:r[0]}),subscription:(t,...r)=>this.call({type:"subscription",ctx:e,path:t,rawInput:r[0]})}}middleware(e){return new j({...this._def,middlewares:[...this._def.middlewares,e]})}formatError(e){if(this._def.errorFormatter!==s.d)throw Error("You seem to have double `formatError()`-calls in your router tree");return new j({...this._def,errorFormatter:e})}getErrorShape(e){let{path:t,error:r}=e,{code:n}=e.error,s={message:r.message,code:o.T[n],data:{code:n,httpStatus:(0,a.g)(r)}};return globalThis.process?.env?.NODE_ENV!=="production"&&"string"==typeof e.error.stack&&(s.data.stack=e.error.stack),"string"==typeof t&&(s.data.path=t),this._def.errorFormatter({...e,shape:s})}transformer(e){if(this._def.transformer!==s.a)throw Error("You seem to have double `transformer()`-calls in your router tree");return new j({...this._def,transformer:"input"in e?e:{input:e,output:e}})}flat(){return this}interop(){return function(e){let t=e._def.errorFormatter,r=e._def.transformer,n={},i={},a={};for(let[t,r]of Object.entries(e._def.queries))n[t]=T(r,"query");for(let[t,r]of Object.entries(e._def.mutations))i[t]=T(r,"mutation");for(let[t,r]of Object.entries(e._def.subscriptions))a[t]=T(r,"subscription");let o=h(n,i,a),c=(0,s.c)({transformer:r,errorFormatter:t,isDev:!1})(o);return c}(this)}constructor(e){this._def={queries:e?.queries??w(),mutations:e?.mutations??w(),subscriptions:e?.subscriptions??w(),middlewares:e?.middlewares??[],errorFormatter:e?.errorFormatter??s.d,transformer:e?.transformer??s.a}}}function R(){return new j}function k(...e){let t=h({},...e.map(e=>e._def.record)),r=e.reduce((e,t)=>{if(t._def._config.errorFormatter&&t._def._config.errorFormatter!==s.d){if(e!==s.d&&e!==t._def._config.errorFormatter)throw Error("You seem to have several error formatters");return t._def._config.errorFormatter}return e},s.d),n=e.reduce((e,t)=>{if(t._def._config.transformer&&t._def._config.transformer!==s.a){if(e!==s.a&&e!==t._def._config.transformer)throw Error("You seem to have several transformers");return t._def._config.transformer}return e},s.a),i=(0,s.c)({errorFormatter:r,transformer:n,isDev:e.some(e=>e._def._config.isDev),allowOutsideOfServer:e.some(e=>e._def._config.allowOutsideOfServer),isServer:e.some(e=>e._def._config.isServer),$types:e[0]?._def._config.$types})(t);return i}class O{context(){return new O}meta(){return new O}create(e){return function(e){let t=e?.errorFormatter??s.d,r=(0,s.g)(e?.transformer??s.a),n={transformer:r,isDev:e?.isDev??globalThis.process?.env?.NODE_ENV!=="production",allowOutsideOfServer:e?.allowOutsideOfServer??!1,errorFormatter:t,isServer:e?.isServer??s.i,$types:(0,a.c)(e=>{throw Error(`Tried to access "$types.${e}" which is not available at runtime`)})};{let t=e?.isServer??s.i;if(!t&&e?.allowOutsideOfServer!==!0)throw Error("You're trying to use @trpc/server in a non-server environment. This is not supported by default.")}return{_config:n,procedure:x({meta:e?.defaultMeta}),middleware:m(),router:(0,s.c)(n),mergeRouters:k,createCallerFactory:(0,s.b)()}}(e)}}let C=new O},{"./config-d5fdbd39.mjs":"eOBh1","./TRPCError-98d44758.mjs":"2nTdY","./index-f91d720c.mjs":"5XP8X","./codes-c924c3db.mjs":"dEN0k","./getCauseFromUnknown-2d66414a.mjs":"eDiJi","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],eOBh1:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"a",()=>c),n.export(r,"b",()=>f),n.export(r,"c",()=>h),n.export(r,"d",()=>l),n.export(r,"e",()=>m),n.export(r,"g",()=>o),n.export(r,"i",()=>g),n.export(r,"p",()=>u);var s=e("./TRPCError-98d44758.mjs"),i=e("./index-f91d720c.mjs"),a=e("./codes-c924c3db.mjs");function o(e){return"input"in e?e:{input:e,output:e}}let c={_default:!0,input:{serialize:e=>e,deserialize:e=>e},output:{serialize:e=>e,deserialize:e=>e}},l=({shape:e})=>e,u=["query","mutation","subscription"],p={_ctx:null,_errorShape:null,_meta:null,queries:{},mutations:{},subscriptions:{},errorFormatter:l,transformer:c},d=["then"];function h(e){return function(t){let r=new Set(Object.keys(t).filter(e=>d.includes(e)));if(r.size>0)throw Error("Reserved words used in `router({})` call: "+Array.from(r).join(", "));let n=Object.assign(Object.create(null),{});!function e(t,r=""){for(let[s,i]of Object.entries(t??{})){let t=`${r}${s}`;if("router"in i._def){e(i._def.procedures,`${t}.`);continue}if(n[t])throw Error(`Duplicate key: ${t}`);n[t]=i}}(t);let s={_config:e,router:!0,procedures:n,...p,record:t,queries:Object.entries(n).filter(e=>e[1]._def.query).reduce((e,[t,r])=>({...e,[t]:r}),{}),mutations:Object.entries(n).filter(e=>e[1]._def.mutation).reduce((e,[t,r])=>({...e,[t]:r}),{}),subscriptions:Object.entries(n).filter(e=>e[1]._def.subscription).reduce((e,[t,r])=>({...e,[t]:r}),{})},o={...t,_def:s,createCaller:e=>f()(o)(e),getErrorShape(t){let{path:r,error:n}=t,{code:s}=t.error,o={message:n.message,code:a.T[s],data:{code:s,httpStatus:(0,i.g)(n)}};return e.isDev&&"string"==typeof t.error.stack&&(o.data.stack=t.error.stack),"string"==typeof r&&(o.data.path=r),this._def._config.errorFormatter({...t,shape:o})}};return o}}function m(e){let{type:t,path:r}=e;if(!(r in e.procedures)||!e.procedures[r]?._def[t])throw new s.T({code:"NOT_FOUND",message:`No "${t}"-procedure on path "${r}"`});let n=e.procedures[r];return n(e)}function f(){return function(e){let t=e._def;return function(e){let r=(0,i.a)(({path:r,args:n})=>{if(1===r.length&&u.includes(r[0]))return m({procedures:t.procedures,path:n[0],rawInput:n[1],ctx:e,type:r[0]});let s=r.join("."),i=t.procedures[s],a="query";return i._def.mutation?a="mutation":i._def.subscription&&(a="subscription"),i({path:s,rawInput:n[0],ctx:e,type:a})});return r}}}let g="undefined"==typeof window||"Deno"in window||globalThis.process?.env?.NODE_ENV==="test"||!!globalThis.process?.env?.JEST_WORKER_ID||!!globalThis.process?.env?.VITEST_WORKER_ID},{"./TRPCError-98d44758.mjs":"2nTdY","./index-f91d720c.mjs":"5XP8X","./codes-c924c3db.mjs":"dEN0k","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"2nTdY":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"T",()=>a),n.export(r,"g",()=>i);var s=e("./getCauseFromUnknown-2d66414a.mjs");function i(e){if(e instanceof a||e instanceof Error&&"TRPCError"===e.name)return e;let t=new a({code:"INTERNAL_SERVER_ERROR",cause:e});return e instanceof Error&&e.stack&&(t.stack=e.stack),t}class a extends Error{constructor(e){let t=(0,s.g)(e.cause),r=e.message??t?.message??e.code;super(r,{cause:t}),this.code=e.code,this.name="TRPCError",this.cause||(this.cause=t)}}},{"./getCauseFromUnknown-2d66414a.mjs":"eDiJi","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],eDiJi:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"g",()=>i);class s extends Error{}function i(e){if(e instanceof Error)return e;let t=typeof e;if("undefined"!==t&&"function"!==t&&null!==e){if("object"!==t)return Error(String(e));if(e&&!Array.isArray(e)&&"object"==typeof e){let t=new s;for(let r in e)t[r]=e[r];return t}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"5XP8X":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"T",()=>i),n.export(r,"a",()=>u),n.export(r,"b",()=>o),n.export(r,"c",()=>p),n.export(r,"g",()=>c);var s=e("./codes-c924c3db.mjs");let i=(0,s.i)(s.T),a={PARSE_ERROR:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,FORBIDDEN:403,METHOD_NOT_SUPPORTED:405,TIMEOUT:408,CONFLICT:409,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,UNPROCESSABLE_CONTENT:422,TOO_MANY_REQUESTS:429,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501};function o(e){let t=Array.isArray(e)?e:[e],r=new Set(t.map(e=>{if("error"in e){let t=e.error.data;if("number"==typeof t.httpStatus)return t.httpStatus;let r=i[e.error.code];return a[r]??500}return 200}));if(1!==r.size)return 207;let n=r.values().next().value;return n}function c(e){return a[e.code]??500}let l=()=>{},u=e=>(function e(t,r){let n=new Proxy(l,{get(n,s){if("string"==typeof s&&"then"!==s)return e(t,[...r,s])},apply(e,n,s){let i="apply"===r[r.length-1];return t({args:i?s.length>=2?s[1]:[]:s,path:i?r.slice(0,-1):r})}});return n})(e,[]),p=e=>new Proxy(l,{get(t,r){if("string"==typeof r&&"then"!==r)return e(r)}})},{"./codes-c924c3db.mjs":"dEN0k","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],dEN0k:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){let t=Object.create(null);for(let r in e){let n=e[r];t[n]=r}return t}n.defineInteropFlag(r),n.export(r,"T",()=>i),n.export(r,"a",()=>a),n.export(r,"i",()=>s);let i={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099},a=s(i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],d1qY2:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createChromeHandler=void 0;let n=e("9230dce9e81275d5"),s=e("9099f0fbcd17c4a5"),i=e("eb3ebc258b110edf");r.createChromeHandler=e=>{let{router:t,createContext:r,onError:a}=e,{transformer:o}=t._def._config;chrome.runtime.onConnect.addListener(e=>{let c=new Map,l=[],u=()=>{l.forEach(e=>e())};e.onDisconnect.addListener(u),l.push(()=>e.onDisconnect.removeListener(u));let p=async u=>{let p,d,h;if(!("trpc"in u))return;let{trpc:m}=u;if(!("id"in m)||null===m.id||void 0===m.id||!m)return;let{id:f,jsonrpc:g,method:v}=m,y=t=>{e.postMessage({trpc:Object.assign({id:f,jsonrpc:g},t)})};try{if("subscription.stop"===v){let e=c.get(f);e&&(e.unsubscribe(),y({result:{type:"stopped"}})),c.delete(f);return}p=m.params,d=o.input.deserialize(p.input),h=await (null==r?void 0:r({req:e,res:void 0}));let u=t.createCaller(h),g=p.path.split("."),_=g.reduce((e,t)=>e[t],u),b=await _(d);if("subscription"!==v){let e=o.output.serialize(b);y({result:{type:"data",data:e}});return}if(!(0,s.isObservable)(b))throw new n.TRPCError({message:"Subscription ${params.path} did not return an observable",code:"INTERNAL_SERVER_ERROR"});let x=b.subscribe({next:e=>{y({result:{type:"data",data:e}})},error:r=>{let n=(0,i.getErrorFromUnknown)(r);null==a||a({error:n,type:v,path:null==p?void 0:p.path,input:d,ctx:h,req:e}),y({error:t.getErrorShape({error:n,type:v,path:null==p?void 0:p.path,input:d,ctx:h})})},complete:()=>{y({result:{type:"stopped"}})}});if(c.has(f))throw x.unsubscribe(),y({result:{type:"stopped"}}),new n.TRPCError({message:`Duplicate id ${f}`,code:"BAD_REQUEST"});l.push(()=>x.unsubscribe()),c.set(f,x),y({result:{type:"started"}});return}catch(n){let r=(0,i.getErrorFromUnknown)(n);null==a||a({error:r,type:v,path:null==p?void 0:p.path,input:d,ctx:h,req:e}),y({error:t.getErrorShape({error:r,type:v,path:null==p?void 0:p.path,input:d,ctx:h})})}};e.onMessage.addListener(p),l.push(()=>e.onMessage.removeListener(p))})}},{"9230dce9e81275d5":"SlSHh","9099f0fbcd17c4a5":"9Sify",eb3ebc258b110edf:"8JUuE"}],"9Sify":[function(e,t,r){t.exports=e("f0263ada0492d4ca")},{f0263ada0492d4ca:"6aQBN"}],"6aQBN":[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("6a62428c02cf1707");class s extends Error{constructor(e){super(e),this.name="ObservableAbortError",Object.setPrototypeOf(this,s.prototype)}}r.isObservable=n.isObservable,r.observable=n.observable,r.map=function(e){return t=>({subscribe(r){let n=0,s=t.subscribe({next(t){r.next?.(e(t,n++))},error(e){r.error?.(e)},complete(){r.complete?.()}});return s}})},r.observableToPromise=function(e){let t;let r=new Promise((r,n)=>{let i=!1;function a(){i||(i=!0,n(new s("This operation was aborted.")),o.unsubscribe())}let o=e.subscribe({next(e){i=!0,r(e),a()},error(e){i=!0,n(e),a()},complete(){i=!0,a()}});t=a});return{promise:r,abort:t}},r.share=function(e){return e=>{let t=0,r=null,n=[];return{subscribe:s=>(t++,n.push(s),r||(r=e.subscribe({next(e){for(let t of n)t.next?.(e)},error(e){for(let t of n)t.error?.(e)},complete(){for(let e of n)e.complete?.()}})),{unsubscribe(){t--,function(){if(0===t&&r){let e=r;r=null,e.unsubscribe()}}();let e=n.findIndex(e=>e===s);e>-1&&n.splice(e,1)}})}}},r.tap=function(e){return t=>({subscribe:r=>t.subscribe({next(t){e.next?.(t),r.next?.(t)},error(t){e.error?.(t),r.error?.(t)},complete(){e.complete?.(),r.complete?.()}})})}},{"6a62428c02cf1707":"bbwTa"}],bbwTa:[function(e,t,r){r.isObservable=function(e){return"object"==typeof e&&null!==e&&"subscribe"in e},r.observable=function(e){let t={subscribe(t){let r=null,n=!1,s=!1,i=!1;function a(){if(null===r){i=!0;return}!s&&(s=!0,"function"==typeof r?r():r&&r.unsubscribe())}return r=e({next(e){n||t.next?.(e)},error(e){n||(n=!0,t.error?.(e),a())},complete(){n||(n=!0,t.complete?.(),a())}}),i&&a(),{unsubscribe:a}},pipe:(...e)=>(0===e.length?function(e){return e}:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)})(t)};return t}},{}],"8JUuE":[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getErrorFromUnknown=void 0;let n=e("a5fc8d1b4bdd1802");r.getErrorFromUnknown=function(e){let t,r;if(e instanceof Error&&"TRPCError"===e.name)return e;e instanceof Error&&(t=e,r=e.stack);let s=new n.TRPCError({message:"Internal server error",code:"INTERNAL_SERVER_ERROR",cause:t});return r&&(s.stack=r),s}},{a5fc8d1b4bdd1802:"SlSHh"}],bit6N:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"GetItemDetailsUseCase",()=>a);var s=e("@/core/backend/services/mlb"),i=e("@/core/either");class a{constructor(e){this.itemId=e}async execute(){try{let e=await fetch("https://api.mercadolibre.com/items/"+this.itemId),t=await e.json();if(!t||200!==e.status)return(0,i.left)("Nao foi possivel buscar os produtos");try{let[e,r]=await Promise.all([this.getListingTypes({price:t.price,categoryId:t.category_id}),this.getFreeShippingCosts(this.itemId)]);console.log({listingTypes:e,freeShippingCosts:r});let n=e.find(e=>e.listing_type_id===t.listing_type_id),s=r.cost,a={categoryId:t.category_id,freeShipping:t.shipping.free_shipping,sellerId:t.seller_id,shipping:{free:t.shipping.free_shipping,cost:s,percentage:s/t.price*100},freeShippingCosts:s,id:t.id,image:t.pictures[0].url,permalink:t.permalink,listingTypeId:n?.listing_type_id||e[0].listing_type_id,pictures:t.pictures,price:t.price,title:t.title,listingTypes:e.map(e=>({id:e.listing_type_id,name:e.listing_type_name,fixedFee:e.sale_fee_details.fixed_fee,fullCost:e.sale_fee_details.gross_amount,percentageFee:e.sale_fee_details.percentage_fee})),isCatalog:t.catalog_listing};return console.log({itemDetails:a}),(0,i.right)(a)}catch(e){return(0,i.left)("Erro ao buscar dados do produto")}}catch(e){return(0,i.left)("Erro ao buscar detalhes do produto")}}async getFreeShippingCosts(e){return(0,s.mlbService).getShippingFreeItemFee({itemId:e})}async getListingTypes({price:e,categoryId:t}){let r=await (0,s.mlbService).getFee({price:e,categoryId:t});return r}}},{"@/core/backend/services/mlb":"aQYcn","@/core/either":"2prkh","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],iqkXx:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"loginWithCookie",()=>a);var s=e("@plasmohq/storage"),i=e("./auth");async function a(){let e=new s.Storage;console.log("Login with cookie");let t=await new Promise((e,t)=>{chrome.cookies.getAll({name:"__session",domain:".hunterhub.com.br"},r=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e(r)})}),r=t.find(e=>{var t;return"__session"===e.name&&e.httpOnly&&(t=e.value,/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))}),n=r?.value;if(!n)return console.log("N\xe3o foi encontrado nenhum login no Hunter Web"),{success:!1,message:"N\xe3o foi encontrado nenhum login no Hunter Web. Fa\xe7a login em app.hunterhub.com.br"};await e.set("session-cookie",n);let a=await (0,i.authService).verifyAccess();return a?{success:!0,message:"Login realizado com sucesso"}:{success:!1,message:"Sess\xe3o inv\xe1lida. Fa\xe7a login novamente em app.hunterhub.com.br"}}},{"@plasmohq/storage":"coO0M","./auth":"euhny","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],hgNyl:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getCatalogItemScrape",()=>a),n.export(r,"formatMercadoLibreItemNew",()=>o),n.export(r,"formattedItemSchema",()=>v),n.export(r,"newFormattedItemSchema",()=>y),n.export(r,"validateNewFormattedItem",()=>_);var s=e("./scrape"),i=e("zod");function a(){let e=(0,s.parseWindowJson)(document.documentElement.outerHTML);if(!e)return console.warn("No WindowJson found in HTML"),null;let t=o(e.pageState.initialState.components.track);return t}function o(e){let t=e.melidata_event?.event_data,r=e.gtm_event,n=e.analytics_event;if(!t)throw Error("Invalid JSON structure: melidata_event.event_data not found");let s=t.original_price||t.price,i=t.price,a=`https://www.mercadolivre.com.br/p/${t.catalog_product_id||t.item_id}`,o=t.gallery?.max_size?[`https://http2.mlstatic.com/D_NQ_NP_${t.item_id}-O.jpg`]:[],c=o.length>0?o[0]:`https://http2.mlstatic.com/D_NQ_NP_${t.item_id}-I.jpg`,l=t.logistic_type,u="drop_off"===l,p="self_service"===l,d="fulfillment"===l,h={title:n?.custom_dimensions?.customDimensions?.productTitle||r?.catalogProductId||"Unknown Product",thumbnail:c,pictures:o,sales:t.reviews?.count||0,condition:"used"===t.item_condition?"used":"new",rating:t.review_rate||t.reviews?.rate||0,ratingAmount:t.reviews?.count||0,itemId:t.item_id,variationId:null,hasVariations:Object.keys(t.pickers||{}).length>0,permalink:a,isBrand:n?.custom_dimensions?.customDimensions?.officialStore!=="NONE",isCatalog:!!t.catalog_product_id,isFlex:p,isFull:d,isColeta:"xd_drop_off"===l,isCorreios:u,isFreeShipping:t.free_shipping||!1,isPromotion:s!==i,sellerId:String(t.seller_id),sellerReputation:t.reputation_level||null,sellerPowerStatus:t.power_seller_status||null,officialStoreId:n?.custom_dimensions?.customDimensions?.officialStore!=="NONE"&&t.item_attribute_brand_id||null,shippingMode:"me2"===t.shipping_mode?"me2":"me1",shippingLogisticType:l,shippingLogisticTypeFormatted:u?"Correios":p?"Flex":d?"Full":"Ag\xeancia",price:i,discount:s<=i?0:Math.round((s-i)/s*100),originalPrice:s,categoryId:t.category_id,listingTypeId:"gold_pro"===t.listing_type_id?"gold_pro":"gold_special",listingTypeFormatted:"gold_pro"===t.listing_type_id?"Premium":"Cl\xe1ssico",status:"active",domainId:t.domain_id,availableQuantity:1,createdAt:new Date().toISOString(),tags:t.tags||[]};return h}(0,i.z).enum(["gold_special","gold_pro","bronze","silver","free","classified"]),(0,i.z).enum(["Cl\xe1sica","Premium","Oro especial","Oro premium","Bronce","Plata"]);let c=(0,i.z).enum(["gold_pro","gold_special"]),l=(0,i.z).enum(["Cl\xe1ssico","Premium"]),u=(0,i.z).enum(["new","used"]),p=(0,i.z).enum(["me2","me1"]),d=(0,i.z).enum(["self_service","drop_off","xd_drop_off","fulfillment","cross_docking","default","custom"]),h=(0,i.z).enum(["Flex","Correios","Ag\xeancia","Full","Coleta","Me1"]),m=(0,i.z).enum(["active","paused"]),f=(0,i.z).object({city:(0,i.z).string().min(1,"Cidade \xe9 obrigat\xf3ria"),state:(0,i.z).string().min(1,"Estado \xe9 obrigat\xf3rio"),country:(0,i.z).string().min(1,"Pa\xeds \xe9 obrigat\xf3rio")}),g=(0,i.z).object({url:(0,i.z).string().url("URL deve ser v\xe1lida"),size:(0,i.z).string().min(1,"Tamanho \xe9 obrigat\xf3rio").nullable(),max_size:(0,i.z).string().min(1,"Tamanho m\xe1ximo \xe9 obrigat\xf3rio").nullable()}),v=(0,i.z).object({id:(0,i.z).string().min(1,"ID \xe9 obrigat\xf3rio"),sellerId:(0,i.z).number().int().positive("ID do vendedor deve ser um n\xfamero inteiro positivo"),categoryId:(0,i.z).string().min(1,"ID da categoria \xe9 obrigat\xf3rio"),isOfficialStore:(0,i.z).boolean(),price:(0,i.z).number().nonnegative("Pre\xe7o deve ser n\xe3o-negativo"),title:(0,i.z).string().min(1,"T\xedtulo \xe9 obrigat\xf3rio"),isCatalog:(0,i.z).boolean(),itemHasCatalog:(0,i.z).boolean(),catalogId:(0,i.z).string().nullable(),condition:(0,i.z).string().min(1,"Condi\xe7\xe3o \xe9 obrigat\xf3ria"),model:(0,i.z).string().nullable(),originalPrice:(0,i.z).number().nonnegative("Pre\xe7o original deve ser n\xe3o-negativo"),discount:(0,i.z).number().min(0).max(100,"Desconto deve estar entre 0 e 100"),hasVideo:(0,i.z).boolean(),permalink:(0,i.z).string().url("Permalink deve ser uma URL v\xe1lida"),sales:(0,i.z).number().int().nonnegative("Vendas devem ser um n\xfamero inteiro n\xe3o-negativo"),updatedAt:(0,i.z).string().datetime("Data de atualiza\xe7\xe3o deve ser uma string de data ISO v\xe1lida"),health:(0,i.z).string().nullable(),status:(0,i.z).string().min(1,"Status \xe9 obrigat\xf3rio"),statusReason:(0,i.z).array((0,i.z).string()).nullable(),brand:(0,i.z).string().nullable(),isInternational:(0,i.z).boolean(),sellerAddress:f.nullable(),initialQtd:(0,i.z).number().int().positive("Quantidade inicial deve ser um n\xfamero inteiro positivo"),listingTypeId:(0,i.z).string(),listingTypeName:(0,i.z).string(),shipping:(0,i.z).string(),ean:(0,i.z).string().nullable(),hasVariations:(0,i.z).boolean(),warranty:(0,i.z).string().nullable(),isFreeShipping:(0,i.z).boolean(),isFlex:(0,i.z).boolean(),isSuperMarket:(0,i.z).boolean(),isFull:(0,i.z).boolean(),pictures:(0,i.z).array(g),createdAt:(0,i.z).string().datetime("Data de cria\xe7\xe3o deve ser uma string de data ISO v\xe1lida"),thumbnail:(0,i.z).string().url("Thumbnail deve ser uma URL v\xe1lida"),freeShipping:(0,i.z).boolean()}),y=(0,i.z).object({title:(0,i.z).string().min(1,"T\xedtulo \xe9 obrigat\xf3rio"),thumbnail:(0,i.z).string().url("Thumbnail deve ser uma URL v\xe1lida"),pictures:(0,i.z).array((0,i.z).string().url("URL da imagem deve ser v\xe1lida")),sales:(0,i.z).number().int().nonnegative("Vendas devem ser um n\xfamero inteiro n\xe3o-negativo"),condition:u,rating:(0,i.z).number().min(0).max(5,"Rating deve estar entre 0 e 5"),ratingAmount:(0,i.z).number().int().nonnegative("Quantidade de avalia\xe7\xf5es deve ser um n\xfamero inteiro n\xe3o-negativo"),itemId:(0,i.z).string().min(1,"ID do item \xe9 obrigat\xf3rio"),variationId:(0,i.z).string().nullable(),hasVariations:(0,i.z).boolean(),permalink:(0,i.z).string().url("Permalink deve ser uma URL v\xe1lida"),isBrand:(0,i.z).boolean(),isCatalog:(0,i.z).boolean(),isFlex:(0,i.z).boolean(),isFull:(0,i.z).boolean(),isColeta:(0,i.z).boolean(),isCorreios:(0,i.z).boolean(),isFreeShipping:(0,i.z).boolean(),isPromotion:(0,i.z).boolean(),sellerId:(0,i.z).string().min(1,"ID do vendedor \xe9 obrigat\xf3rio"),sellerReputation:(0,i.z).string().nullable(),sellerPowerStatus:(0,i.z).string().nullable(),officialStoreId:(0,i.z).string().nullable(),shippingMode:p,shippingLogisticType:d,shippingLogisticTypeFormatted:h,price:(0,i.z).number().nonnegative("Pre\xe7o deve ser n\xe3o-negativo"),discount:(0,i.z).number().min(0).max(100,"Desconto deve estar entre 0 e 100"),originalPrice:(0,i.z).number().nonnegative("Pre\xe7o original deve ser n\xe3o-negativo"),categoryId:(0,i.z).string().min(1,"ID da categoria \xe9 obrigat\xf3rio"),listingTypeId:c,listingTypeFormatted:l,status:m,domainId:(0,i.z).string().optional(),availableQuantity:(0,i.z).number().int().nonnegative("Quantidade dispon\xedvel deve ser um n\xfamero inteiro n\xe3o-negativo"),createdAt:(0,i.z).string().nullable(),tags:(0,i.z).array((0,i.z).string())});function _(e){try{return y.parse(e)}catch(e){if(e instanceof i.z.ZodError)throw console.error("New validation errors:",e.errors),Error(`New validation failed: ${e.errors.map(e=>`${e.path.join(".")}: ${e.message}`).join(", ")}`);throw e}}},{"./scrape":"89uwH",zod:"lSpxi","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"89uwH":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"ListingTypes",()=>o),n.export(r,"ScriptExtractionError",()=>c),n.export(r,"DataValidationError",()=>l),n.export(r,"DataTransformationError",()=>u),n.export(r,"extractPreloadedStateScript",()=>d),n.export(r,"parsePreloadedState",()=>h),n.export(r,"createFormattedItem",()=>m),n.export(r,"parseWindowJson",()=>f),n.export(r,"getFormattedItemFromHtml",()=>g),n.export(r,"getItemFromHtml",()=>v),n.export(r,"getItemFromPage",()=>y),n.export(r,"findPreloadedStateScript",()=>_),n.export(r,"mapWindowJsonToFormattedItem",()=>b);var s=e("zod"),i=e("./get-item-id"),a=e("@/core/trpc");let o={gold_pro:"Premium",gold_premium:"Diamante",gold_special:"Cl\xe1ssico",gold:"Ouro",silver:"Prata",bronze:"Bronze",free:"Gr\xe1tis"};class c extends Error{constructor(e,t){super(e),this.cause=t,this.name="ScriptExtractionError"}}class l extends Error{constructor(e,t){super(e),this.errors=t,this.name="DataValidationError"}}class u extends Error{constructor(e,t){super(e),this.cause=t,this.name="DataTransformationError"}}let p=e=>{if(null==e)return 0;let t=String(e),r=t.replace(/\D/g,"");return r?Number(r):0};function d(){try{let e=document.getElementById("__PRELOADED_STATE__");if(e&&e.textContent)return e.textContent.trim();let t=document.querySelectorAll("script");for(let e of t)if(e.textContent&&e.textContent.includes("window.__PRELOADED_STATE__")){let t=e.textContent.match(/window\.__PRELOADED_STATE__\s*=\s*({[\s\S]*?});/);if(t&&t[1])return t[1]}return console.log("No preloaded state script found"),null}catch(e){throw new c("Failed to extract preloaded state script",e)}}function h(e){try{let t;let r=JSON.parse(e);return r.pageState?t=r:(r.initialState,t={pageState:r}),t}catch(e){if(e instanceof s.z.ZodError)throw new l("Invalid WindowJson structure",e);throw new l("Failed to parse JSON")}}function m(e){try{let{components:t}=e.pageState.initialState,r=t.track.melidata_event.event_data,n=t.track.gtm_event,{header:s,share:i,price:a,gallery:o}=t,c=r.shipping_mode,l=r.logistic_type,u="drop_off"===l,d="cross_docking"===l,h=p(s.subtitle);return{variationId:String(r.variation_id),isCorreios:u,shippingMode:r.shipping_mode,officialStoreId:r.official_store_id?String(r.official_store_id):null,sellerPowerStatus:null,sellerReputation:null,listingTypeFormatted:"gold_pro"===r.listing_type_id?"Premium":"Cl\xe1ssico",tags:[],isPromotion:r.price!==r.original_price,rating:r.reviews?.rate||0,ratingAmount:r.reviews?.count||0,isBrand:"brand"===r.seller_type,isColeta:d,shippingLogisticTypeFormatted:"me2"===c?u?"Correios":"self_service"===l?"Flex":"fulfillment"===l?"Full":d?"Coleta":"Ag\xeancia":"Me1",availableQuantity:0,shippingLogisticType:l,domainId:r.domain_id,itemId:r.item_id,sellerId:String(r.seller_id),categoryId:r.category_id,price:a.price.value,originalPrice:r.original_price,title:s.title,isCatalog:r.catalog_listing,condition:"new"===r.item_condition?"new":"used",sales:h,discount:0,permalink:i.permalink,status:"active"===n.status?"active":"paused",listingTypeId:"gold_pro"===r.listing_type_id?"gold_pro":"gold_special",hasVariations:!1,isFreeShipping:r.free_shipping,isFlex:"self_service"===l,isFull:"fulfillment"===l,pictures:o.pictures.map(e=>`https://http2.mlstatic.com/D_NQ_NP_${e.id}-R.jpg`),createdAt:n.startTime?n.startTime:null,thumbnail:o.pictures[0]?`https://http2.mlstatic.com/D_NQ_NP_${o.pictures[0].id}-R.jpg`:""}}catch(e){throw console.error(e),e}}function f(e){try{if("undefined"!=typeof document){let e=d();if(!e)return console.warn("No preloaded state script found"),null;return h(e)}let t=e.match(/window\.__PRELOADED_STATE__\s*=\s*({[\s\S]*?});/);if(!t||!t[1])return console.warn("No preloaded state found in HTML"),null;return h(t[1])}catch(e){return console.error("Error parsing WindowJson:",e),null}}function g(e){try{let t=f(e);if(!t)return null;return m(t)}catch(e){return console.error("Error getting formatted item from HTML:",e),null}}function v(){try{if("undefined"==typeof document)return console.error("Document is not available"),null;let e=f(document.documentElement.outerHTML);if(console.log({windowJsonFromItem:e}),!e)return console.warn("No WindowJson found in HTML"),null;console.log("Chegou aqui");let t=m(e);return t}catch(e){throw console.error(e),e}}async function y(){try{let e=(0,i.getItemId)(),t=(0,i.getCatalogId)();if(t){let[r,n]=await Promise.all([(0,a.trpc).getProductCatalog.query({catalogId:t}),(0,a.trpc).getCatalogItens.query({catalogId:t})]);if(!r)return console.warn("Catalog not found"),null;let s=n.results.find(t=>t.item_id===e);if(!s)return console.warn("Item not found in catalog"),null;return(0,i.catalogItemToFormattedItem)(s,r)}return v()}catch(e){return console.error("Error getting item from page:",e),null}}function _(e){console.warn("findPreloadedStateScript is deprecated. Use extractPreloadedStateScript instead.");let t=e.match(/<script[^>]*>([\s\S]*?__PRELOADED_STATE__[\s\S]*?)<\/script>/i);return t&&t[1]?t[1]:null}let b=m},{zod:"lSpxi","./get-item-id":"7KKRg","@/core/trpc":"2fn1d","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"7KKRg":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getItemId",()=>a),n.export(r,"getCatalogId",()=>o),n.export(r,"getSellerId",()=>c),n.export(r,"extractIdFromProductUrl",()=>l),n.export(r,"catalogItemToFormattedItem",()=>p);var s=e("@/core/either"),i=e("./scrape");let a=()=>{var e=document.getElementsByName("item_id")[0];return e&&e?.value?e.value:(console.log("No item ID"),null)},o=()=>{try{let e=new URL(window.location.href),t=e.pathname.match(/\/p\/(MLB\d+)/i);if(!t||!t[1])return console.error("Catalog ID n\xe3o encontrado na URL"),null;return t[1]}catch(e){return console.error("Erro ao parsear a URL:",e),null}},c=()=>{let e=(0,i.parseWindowJson)(document.documentElement.outerHTML);if(!e)return null;let t=e.pageState.initialState?.components.track.melidata_event.event_data.seller_id;return t||(console.log("No seller ID"),null)};function l(e){let t=e.match(/\/p\/(MLB[\d]+)/);if(t&&t[1])return(0,s.right)({id:t[1],isCatalog:!0});let r=e.match(/\/(MLB[\d-]+)\-/);return r&&r[1]?(0,s.right)({id:r[1],isCatalog:!1}):(0,s.left)("ID do produto n\xe3o encontrado, confira sua URL")}let u=e=>"fulfillment"===e?"full":"self_service"===e?"flex":"drop_off"===e?"correios":"xd_drop_off"===e?"coletas":null,p=(e,t)=>{let r=u(e.shipping.logistic_type);return{title:t.name,thumbnail:t.pictures[0]?.url,pictures:t.pictures.map(e=>e.url),sales:0,condition:e.condition,rating:0,ratingAmount:0,itemId:e.item_id,domainId:t.domain_id,variationId:null,hasVariations:!1,permalink:`https://www.mercadolivre.com.br/p/${e.product_id}?pdp_filters=item_id:${e.item_id}`,isBrand:!!e.official_store_id,isCatalog:!0,isFlex:"flex"===r,isFull:"full"===r,isColeta:"coletas"===r,isCorreios:"correios"===r,isFreeShipping:e.shipping.free_shipping,isPromotion:e.price!==e.original_price,sellerId:String(e.seller_id),sellerReputation:null,sellerPowerStatus:null,officialStoreId:e.official_store_id?String(e.official_store_id):null,shippingMode:e.shipping.mode,shippingLogisticType:e.shipping.logistic_type,shippingLogisticTypeFormatted:"flex"===r?"Flex":"full"===r?"Full":"correios"===r?"Correios":"coletas"===r?"Ag\xeancia":"Correios",price:e.price,discount:e.original_price&&e.original_price>0&&e.price<e.original_price?Math.round((e.original_price-e.price)/e.original_price*100):0,originalPrice:e.original_price,categoryId:e.category_id,listingTypeId:e.listing_type_id,listingTypeFormatted:"gold_pro"===e.listing_type_id?"Cl\xe1ssico":"Premium",status:"active"===t.status?"active":"paused",availableQuantity:e.available_quantity,createdAt:t.date_created,tags:[]}}},{"@/core/either":"2prkh","./scrape":"89uwH","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"2fn1d":[function(e,t,r){let n,s;var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"trpc",()=>u);var a=e("@trpc/client"),o=e("trpc-chrome/link"),c=e("@/core/telemetry/rum-link");function l(e){return(0,a.createTRPCProxyClient)({links:[(0,c.rumLink)(),(0,o.chromeLink)({port:e})]})}n=function e(){let t=chrome.runtime.connect();return t.onDisconnect.addListener(()=>{console.warn("[tRPC] Port disconnected, will reconnect on next request"),s=l(n=e())}),t}(),s=l(n);let u=new Proxy({},{get:(e,t)=>s[t]})},{"@trpc/client":"4mkxb","trpc-chrome/link":"jRgwf","@/core/telemetry/rum-link":"bPY3y","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"4mkxb":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"splitLink",()=>i.s),n.export(r,"TRPCClientError",()=>a.T),n.export(r,"getFetch",()=>c.b),n.export(r,"httpBatchLink",()=>l.h),n.export(r,"httpLink",()=>u.httpLink),n.export(r,"httpLinkFactory",()=>u.httpLinkFactory),n.export(r,"loggerLink",()=>p.loggerLink),n.export(r,"createWSClient",()=>d.createWSClient),n.export(r,"wsLink",()=>d.wsLink),n.export(r,"TRPCUntypedClient",()=>h),n.export(r,"clientCallTypeToProcedureType",()=>v),n.export(r,"createTRPCClient",()=>f),n.export(r,"createTRPCClientProxy",()=>y),n.export(r,"createTRPCProxyClient",()=>_),n.export(r,"createTRPCUntypedClient",()=>m),n.export(r,"experimental_formDataLink",()=>j),n.export(r,"getUntypedClient",()=>b),n.export(r,"unstable_httpBatchStreamLink",()=>I);var s=e("@trpc/server/observable"),i=e("./splitLink-4c75f7be.mjs"),a=e("./TRPCClientError-38f9a32a.mjs"),o=e("@trpc/server/shared"),c=e("./httpUtils-b9d0cb48.mjs"),l=e("./httpBatchLink-d0f9eac9.mjs"),u=e("./links/httpLink.mjs"),p=e("./links/loggerLink.mjs"),d=e("./links/wsLink.mjs");e("./transformResult-ace864b8.mjs");class h{$request({type:e,input:t,path:r,context:n={}}){let a=(0,i.c)({links:this.links,op:{id:++this.requestId,type:e,path:r,input:t,context:n}});return a.pipe((0,s.share)())}requestAsPromise(e){let t=this.$request(e),{promise:r,abort:n}=(0,s.observableToPromise)(t),i=new Promise((t,s)=>{e.signal?.addEventListener("abort",n),r.then(e=>{t(e.result.data)}).catch(e=>{s((0,a.T).from(e))})});return i}query(e,t,r){return this.requestAsPromise({type:"query",path:e,input:t,context:r?.context,signal:r?.signal})}mutation(e,t,r){return this.requestAsPromise({type:"mutation",path:e,input:t,context:r?.context,signal:r?.signal})}subscription(e,t,r){let n=this.$request({type:"subscription",path:e,input:t,context:r?.context});return n.subscribe({next(e){"started"===e.result.type?r.onStarted?.():"stopped"===e.result.type?r.onStopped?.():r.onData?.(e.result.data)},error(e){r.onError?.(e)},complete(){r.onComplete?.()}})}constructor(e){this.requestId=0;let t=(()=>{let t=e.transformer;return t?"input"in t?e.transformer:{input:t,output:t}:{input:{serialize:e=>e,deserialize:e=>e},output:{serialize:e=>e,deserialize:e=>e}}})();this.runtime={transformer:{serialize:e=>t.input.serialize(e),deserialize:e=>t.output.deserialize(e)},combinedTransformer:t},this.links=e.links.map(e=>e(this.runtime))}}function m(e){return new h(e)}function f(e){let t=new h(e);return t}let g={query:"query",mutate:"mutation",subscribe:"subscription"},v=e=>g[e];function y(e){return(0,o.createFlatProxy)(t=>e.hasOwnProperty(t)?e[t]:"__untypedClient"===t?e:(0,o.createRecursiveProxy)(({path:r,args:n})=>{let s=[t,...r],i=v(s.pop()),a=s.join(".");return e[i](a,...n)}))}function _(e){let t=new h(e),r=y(t);return r}function b(e){return e.__untypedClient}async function x(e){let t=e.parse??JSON.parse;await S(e.readableStream,r=>{if(e.signal?.aborted||!r||"}"===r)return;let n=r.indexOf(":"),s=r.substring(2,n-1),i=r.substring(n+1);e.onSingle(Number(s),t(i))},e.textDecoder)}async function S(e,t,r){let n="",s=e=>{let s=r.decode(e),i=s.split("\n");if(1===i.length)n+=i[0];else if(i.length>1){t(n+i[0]);for(let e=1;e<i.length-1;e++)t(i[e]);n=i[i.length-1]}};"getReader"in e?await E(e,s):await new Promise(t=>{e.on("data",s),e.on("end",t)}),t(n)}async function E(e,t){let r=e.getReader(),n=await r.read();for(;!n.done;)t(n.value),n=await r.read()}let T=(e,t)=>{let r=e.AbortController?new e.AbortController:null,n=(0,c.f)({...e,contentTypeHeader:"application/json",batchModeHeader:"stream",getUrl:c.g,getBody:c.a},r),s=n.then(async n=>{if(!n.body)throw Error("Received response without body");let s={response:n};return x({readableStream:n.body,onSingle:t,parse:e=>({json:JSON.parse(e),meta:s}),signal:r?.signal,textDecoder:e.textDecoder})});return{cancel:()=>r?.abort(),promise:s}},I=(0,l.c)(e=>{let t=function(e){if(e)return e;if("undefined"!=typeof window&&window.TextDecoder)return new window.TextDecoder;if("undefined"!=typeof globalThis&&globalThis.TextDecoder)return new globalThis.TextDecoder;throw Error("No TextDecoder implementation found")}(e.opts.textDecoder);return(r,n)=>{let s=r.map(e=>e.path).join(","),i=r.map(e=>e.input),{cancel:a,promise:o}=T({...e,textDecoder:t,path:s,inputs:i,headers:()=>e.opts.headers?"function"==typeof e.opts.headers?e.opts.headers({opList:r}):e.opts.headers:{}},(e,t)=>{n(e,t)});return{promise:o.then(()=>[]),cancel:a}}}),w=e=>{if("input"in e){if(!(e.input instanceof FormData))throw Error("Input is not FormData");return e.input}},j=(0,u.httpLinkFactory)({requester:e=>{if("mutation"!==e.type)throw Error("We only handle mutations with formdata");return(0,c.h)({...e,getUrl:()=>`${e.url}/${e.path}`,getBody:w})}})},{"@trpc/server/observable":"9Sify","./splitLink-4c75f7be.mjs":"avg3d","./TRPCClientError-38f9a32a.mjs":"iewZ2","@trpc/server/shared":"5G7My","./httpUtils-b9d0cb48.mjs":"3Xc2J","./httpBatchLink-d0f9eac9.mjs":"jJ2dC","./links/httpLink.mjs":"j2t23","./links/loggerLink.mjs":"8GtMJ","./links/wsLink.mjs":"hV8nU","./transformResult-ace864b8.mjs":"cpXmv","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],avg3d:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"c",()=>i),n.export(r,"s",()=>o);var s=e("@trpc/server/observable");function i(e){return(0,s.observable)(t=>{let r=function t(r=0,n=e.op){let s=e.links[r];if(!s)throw Error("No more links to execute - did you forget to add an ending link?");let i=s({op:n,next(e){let n=t(r+1,e);return n}});return i}();return r.subscribe(t)})}function a(e){return Array.isArray(e)?e:[e]}function o(e){return t=>{let r=a(e.true).map(e=>e(t)),n=a(e.false).map(e=>e(t));return t=>(0,s.observable)(s=>{let a=e.condition(t.op)?r:n;return i({op:t.op,links:a}).subscribe(s)})}}},{"@trpc/server/observable":"9Sify","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],iewZ2:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"T",()=>a);var s=e("@trpc/server/shared"),i=e("./transformResult-ace864b8.mjs");class a extends Error{static from(e,t={}){return e instanceof a||e instanceof Error&&"TRPCClientError"===e.name?(t.meta&&(e.meta={...e.meta,...t.meta}),e):(0,i.i)(e)&&(0,i.i)(e.error)&&"number"==typeof e.error.code&&"string"==typeof e.error.message?new a(e.error.message,{...t,result:e}):e instanceof Error?new a(e.message,{...t,cause:(0,s.getCauseFromUnknown)(e)}):new a("Unknown error",{...t,cause:e})}constructor(e,t){let r=t?.cause;super(e,{cause:r}),this.meta=t?.meta,this.cause=r,this.shape=t?.result?.error,this.data=t?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,a.prototype)}}},{"@trpc/server/shared":"5G7My","./transformResult-ace864b8.mjs":"cpXmv","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"5G7My":[function(e,t,r){t.exports=e("7bfdedc789de4396")},{"7bfdedc789de4396":"aKhU1"}],aKhU1:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("26c29553a3509898"),s=e("58196c69f1b5125"),i=e("8eac6a94482c37bc");e("28943c0b72cf431e"),r.createFlatProxy=n.createFlatProxy,r.createRecursiveProxy=n.createRecursiveProxy,r.getErrorShape=s.getErrorShape,r.transformTRPCResponse=s.transformTRPCResponse,r.getCauseFromUnknown=i.getCauseFromUnknown},{"26c29553a3509898":"fdANo","58196c69f1b5125":"hTAot","8eac6a94482c37bc":"hyGcH","28943c0b72cf431e":"bnSI1"}],fdANo:[function(e,t,r){var n=e("dc47f0f4a4f90c2e");let s=n.invert(n.TRPC_ERROR_CODES_BY_KEY),i={PARSE_ERROR:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,FORBIDDEN:403,METHOD_NOT_SUPPORTED:405,TIMEOUT:408,CONFLICT:409,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,UNPROCESSABLE_CONTENT:422,TOO_MANY_REQUESTS:429,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501},a=()=>{};r.TRPC_ERROR_CODES_BY_NUMBER=s,r.createFlatProxy=e=>new Proxy(a,{get(t,r){if("string"==typeof r&&"then"!==r)return e(r)}}),r.createRecursiveProxy=e=>(function e(t,r){let n=new Proxy(a,{get(n,s){if("string"==typeof s&&"then"!==s)return e(t,[...r,s])},apply(e,n,s){let i="apply"===r[r.length-1];return t({args:i?s.length>=2?s[1]:[]:s,path:i?r.slice(0,-1):r})}});return n})(e,[]),r.getHTTPStatusCode=function(e){let t=Array.isArray(e)?e:[e],r=new Set(t.map(e=>{if("error"in e){let t=e.error.data;if("number"==typeof t.httpStatus)return t.httpStatus;let r=s[e.error.code];return i[r]??500}return 200}));if(1!==r.size)return 207;let n=r.values().next().value;return n},r.getHTTPStatusCodeFromError=function(e){return i[e.code]??500}},{dc47f0f4a4f90c2e:"bnSI1"}],bnSI1:[function(e,t,r){function n(e){let t=Object.create(null);for(let r in e){let n=e[r];t[n]=r}return t}let s={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099},i=n(s);r.TRPC_ERROR_CODES_BY_KEY=s,r.TRPC_ERROR_CODES_BY_NUMBER=i,r.invert=n},{}],hTAot:[function(e,t,r){var n=e("a07473c0975b8d55"),s=e("5fc1c26c627bb310");function i(e,t){return"error"in t?{...t,error:e.transformer.output.serialize(t.error)}:"data"in t.result?{...t,result:{...t.result,data:e.transformer.output.serialize(t.result.data)}}:t}r.getErrorShape=function(e){let{path:t,error:r,config:i}=e,{code:a}=e.error,o={message:r.message,code:s.TRPC_ERROR_CODES_BY_KEY[a],data:{code:a,httpStatus:n.getHTTPStatusCodeFromError(r)}};return i.isDev&&"string"==typeof e.error.stack&&(o.data.stack=e.error.stack),"string"==typeof t&&(o.data.path=t),i.errorFormatter({...e,shape:o})},r.transformTRPCResponse=function(e,t){return Array.isArray(t)?t.map(t=>i(e,t)):i(e,t)}},{a07473c0975b8d55:"fdANo","5fc1c26c627bb310":"bnSI1"}],hyGcH:[function(e,t,r){class n extends Error{}r.getCauseFromUnknown=function(e){if(e instanceof Error)return e;let t=typeof e;if("undefined"!==t&&"function"!==t&&null!==e){if("object"!==t)return Error(String(e));if(e&&!Array.isArray(e)&&"object"==typeof e){let t=new n;for(let r in e)t[r]=e[r];return t}}}},{}],cpXmv:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){return!!e&&!Array.isArray(e)&&"object"==typeof e}n.defineInteropFlag(r),n.export(r,"i",()=>s),n.export(r,"t",()=>a);class i extends Error{constructor(){super("Unable to transform response from server")}}function a(e,t){let r;try{r=function(e,t){if("error"in e){let r=t.transformer.deserialize(e.error);return{ok:!1,error:{...e,error:r}}}let r={...e.result,...(!e.result.type||"data"===e.result.type)&&{type:"data",data:t.transformer.deserialize(e.result.data)}};return{ok:!0,result:r}}(e,t)}catch(e){throw new i}if(!r.ok&&(!s(r.error.error)||"number"!=typeof r.error.error.code)||r.ok&&!s(r.result))throw new i;return r}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"3Xc2J":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"a",()=>p),n.export(r,"b",()=>a),n.export(r,"f",()=>h),n.export(r,"g",()=>u),n.export(r,"h",()=>m),n.export(r,"j",()=>d),n.export(r,"r",()=>o);var s=e("./TRPCClientError-38f9a32a.mjs");let i=e=>"function"==typeof e;function a(e){if(e)return e;if("undefined"!=typeof window&&i(window.fetch))return window.fetch;if("undefined"!=typeof globalThis&&i(globalThis.fetch))return globalThis.fetch;throw Error("No fetch implementation found")}function o(e){var t;return{url:e.url.toString().replace(/\/$/,""),fetch:e.fetch,AbortController:(t=e.AbortController)?t:"undefined"!=typeof window&&window.AbortController?window.AbortController:"undefined"!=typeof globalThis&&globalThis.AbortController?globalThis.AbortController:null}}let c={query:"GET",mutation:"POST"};function l(e){return"input"in e?e.runtime.transformer.serialize(e.input):function(e){let t={};for(let r=0;r<e.length;r++){let n=e[r];t[r]=n}return t}(e.inputs.map(t=>e.runtime.transformer.serialize(t)))}let u=e=>{let t=e.url+"/"+e.path,r=[];if("inputs"in e&&r.push("batch=1"),"query"===e.type){let t=l(e);void 0!==t&&r.push(`input=${encodeURIComponent(JSON.stringify(t))}`)}return r.length&&(t+="?"+r.join("&")),t},p=e=>{if("query"===e.type)return;let t=l(e);return void 0!==t?JSON.stringify(t):void 0},d=e=>m({...e,contentTypeHeader:"application/json",getUrl:u,getBody:p});async function h(e,t){let r=e.getUrl(e),n=e.getBody(e),{type:s}=e,i=await e.headers();/* istanbul ignore if -- @preserve */if("subscription"===s)throw Error("Subscriptions should use wsLink");let o={...e.contentTypeHeader?{"content-type":e.contentTypeHeader}:{},...e.batchModeHeader?{"trpc-batch-mode":e.batchModeHeader}:{},...i};return a(e.fetch)(r,{method:c[s],signal:t?.signal,body:n,headers:o})}function m(e){let t=e.AbortController?new e.AbortController:null,r={},n=!1,i=new Promise((i,a)=>{h(e,t).then(e=>(r.response=e,n=!0,e.json())).then(e=>{r.responseJSON=e,i({json:e,meta:r})}).catch(e=>{n=!0,a((0,s.T).from(e,{meta:r}))})});return{promise:i,cancel:()=>{n||t?.abort()}}}},{"./TRPCClientError-38f9a32a.mjs":"iewZ2","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],jJ2dC:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"c",()=>u),n.export(r,"h",()=>p);var s=e("@trpc/server/observable"),i=e("./transformResult-ace864b8.mjs"),a=e("./TRPCClientError-38f9a32a.mjs"),o=e("./httpUtils-b9d0cb48.mjs");let c=()=>{throw Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function l(e){let t=null,r=null,n=()=>{clearTimeout(r),r=null,t=null};function s(){let r=function(t){let r=[[]],n=0;for(;;){let s=t[n];if(!s)break;let i=r[r.length-1];if(s.aborted){s.reject?.(Error("Aborted")),n++;continue}let a=e.validate(i.concat(s).map(e=>e.key));if(a){i.push(s),n++;continue}if(0===i.length){s.reject?.(Error("Input is too big for a single dispatch")),n++;continue}r.push([])}return r}(t);for(let t of(n(),r)){if(!t.length)continue;let r={items:t,cancel:c};for(let e of t)e.batch=r;let n=(e,t)=>{let n=r.items[e];n.resolve?.(t),n.batch=null,n.reject=null,n.resolve=null},{promise:s,cancel:i}=e.fetch(r.items.map(e=>e.key),n);r.cancel=i,s.then(e=>{for(let t=0;t<e.length;t++){let r=e[t];n(t,r)}for(let e of r.items)e.reject?.(Error("Missing result")),e.batch=null}).catch(e=>{for(let t of r.items)t.reject?.(e),t.batch=null})}}return{load:function(e){let n={aborted:!1,key:e,batch:null,resolve:c,reject:c},i=new Promise((e,r)=>{n.reject=r,n.resolve=e,t||(t=[]),t.push(n)});return r||(r=setTimeout(s)),{promise:i,cancel:()=>{n.aborted=!0,n.batch?.items.every(e=>e.aborted)&&(n.batch.cancel(),n.batch=null)}}}}}function u(e){return function(t){let r=(0,o.r)(t),n=t.maxURLLength??1/0;return c=>{let u=s=>{let i=e({...r,runtime:c,type:s,opts:t});return{validate:e=>{if(n===1/0)return!0;let t=e.map(e=>e.path).join(","),i=e.map(e=>e.input),a=(0,o.g)({...r,runtime:c,type:s,path:t,inputs:i});return a.length<=n},fetch:i}},p=l(u("query")),d=l(u("mutation")),h=l(u("subscription")),m={query:p,subscription:h,mutation:d};return({op:e})=>(0,s.observable)(t=>{let r;let n=m[e.type],{promise:s,cancel:o}=n.load(e);return s.then(e=>{r=e;let n=(0,i.t)(e.json,c);if(!n.ok){t.error((0,a.T).from(n.error,{meta:e.meta}));return}t.next({context:e.meta,result:n.result}),t.complete()}).catch(e=>{t.error((0,a.T).from(e,{meta:r?.meta}))}),()=>{o()}})}}}let p=u(e=>t=>{let r=t.map(e=>e.path).join(","),n=t.map(e=>e.input),{promise:s,cancel:i}=(0,o.j)({...e,path:r,inputs:n,headers:()=>e.opts.headers?"function"==typeof e.opts.headers?e.opts.headers({opList:t}):e.opts.headers:{}});return{promise:s.then(e=>{let r=Array.isArray(e.json)?e.json:t.map(()=>e.json),n=r.map(t=>({meta:e.meta,json:t}));return n}),cancel:i}})},{"@trpc/server/observable":"9Sify","./transformResult-ace864b8.mjs":"cpXmv","./TRPCClientError-38f9a32a.mjs":"iewZ2","./httpUtils-b9d0cb48.mjs":"3Xc2J","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],j2t23:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"httpLink",()=>l),n.export(r,"httpLinkFactory",()=>c);var s=e("@trpc/server/observable"),i=e("../transformResult-ace864b8.mjs"),a=e("../TRPCClientError-38f9a32a.mjs"),o=e("../httpUtils-b9d0cb48.mjs");function c(e){return t=>{let r=(0,o.r)(t);return n=>({op:o})=>(0,s.observable)(s=>{let c;let{path:l,input:u,type:p}=o,{promise:d,cancel:h}=e.requester({...r,runtime:n,type:p,path:l,input:u,headers:()=>t.headers?"function"==typeof t.headers?t.headers({op:o}):t.headers:{}});return d.then(e=>{c=e.meta;let t=(0,i.t)(e.json,n);if(!t.ok){s.error((0,a.T).from(t.error,{meta:c}));return}s.next({context:e.meta,result:t.result}),s.complete()}).catch(e=>{s.error((0,a.T).from(e,{meta:c}))}),()=>{h()}})}}e("@trpc/server/shared");let l=c({requester:o.j})},{"@trpc/server/observable":"9Sify","../transformResult-ace864b8.mjs":"cpXmv","../TRPCClientError-38f9a32a.mjs":"iewZ2","../httpUtils-b9d0cb48.mjs":"3Xc2J","@trpc/server/shared":"5G7My","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"8GtMJ":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"loggerLink",()=>o);var s=e("@trpc/server/observable");let i={css:{query:["72e3ff","3fb0d8"],mutation:["c5a3fc","904dfc"],subscription:["ff49e1","d83fbe"]},ansi:{regular:{query:["\x1b[30;46m","\x1b[97;46m"],mutation:["\x1b[30;45m","\x1b[97;45m"],subscription:["\x1b[30;42m","\x1b[97;42m"]},bold:{query:["\x1b[1;30;46m","\x1b[1;97;46m"],mutation:["\x1b[1;30;45m","\x1b[1;97;45m"],subscription:["\x1b[1;30;42m","\x1b[1;97;42m"]}}},a=({c:e=console,colorMode:t="css"})=>r=>{let n=r.input,s="undefined"!=typeof FormData&&n instanceof FormData?Object.fromEntries(n):n,{parts:a,args:o}=function(e){let{direction:t,type:r,path:n,id:s,input:a}=e,o=[],c=[];if("ansi"===e.colorMode){let[a,l]=i.ansi.regular[r],[u,p]=i.ansi.bold[r];return o.push("up"===t?a:l,"up"===t?">>":"<<",r,"up"===t?u:p,`#${s}`,n,"\x1b[0m"),"up"===t?c.push({input:e.input}):c.push({input:e.input,result:"result"in e.result?e.result.result:e.result,elapsedMs:e.elapsedMs}),{parts:o,args:c}}let[l,u]=i.css[r],p=`
    background-color: #${"up"===t?l:u}; 
    color: ${"up"===t?"black":"white"};
    padding: 2px;
  `;return o.push("%c","up"===t?">>":"<<",r,`#${s}`,`%c${n}%c`,"%O"),c.push(p,`${p}; font-weight: bold;`,`${p}; font-weight: normal;`),"up"===t?c.push({input:a,context:e.context}):c.push({input:a,result:e.result,elapsedMs:e.elapsedMs,context:e.context}),{parts:o,args:c}}({...r,colorMode:t,input:s}),c="down"===r.direction&&r.result&&(r.result instanceof Error||"error"in r.result.result)?"error":"log";e[c].apply(null,[a.join(" ")].concat(o))};function o(e={}){let{enabled:t=()=>!0}=e,r=e.colorMode??("undefined"==typeof window?"ansi":"css"),{logger:n=a({c:e.console,colorMode:r})}=e;return()=>({op:e,next:r})=>(0,s.observable)(i=>{t({...e,direction:"up"})&&n({...e,direction:"up"});let a=Date.now();function o(r){let s=Date.now()-a;t({...e,direction:"down",result:r})&&n({...e,direction:"down",elapsedMs:s,result:r})}return r(e).pipe((0,s.tap)({next(e){o(e)},error(e){o(e)}})).subscribe(i)})}},{"@trpc/server/observable":"9Sify","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],hV8nU:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"createWSClient",()=>c),n.export(r,"wsLink",()=>u);var s=e("@trpc/server/observable"),i=e("../transformResult-ace864b8.mjs"),a=e("../TRPCClientError-38f9a32a.mjs");e("@trpc/server/shared");/* istanbul ignore next -- @preserve */let o=e=>0===e?0:Math.min(1e3*2**e,3e4);function c(e){let{url:t,WebSocket:r=WebSocket,retryDelayMs:n=o,onOpen:s,onClose:i}=e;/* istanbul ignore next -- @preserve */if(!r)throw Error("No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill");let c=[],u=Object.create(null),p=0,d=null,h=null,m=x(),f="connecting";function g(){"open"!==f||d||(d=setTimeout(()=>{d=null,1===c.length?m.send(JSON.stringify(c.pop())):m.send(JSON.stringify(c)),c=[]}))}function v(){if(null!==h||"closed"===f)return;let e=n(p++);h||(f="connecting",h=setTimeout(y,e))}function y(){f="connecting";let e=m;m=x(),_(e)}function _(e){let t=Object.values(u).some(t=>t.ws===e);t||e.close()}function b(e){c.some(t=>t.id===e.op.id)||S(e.op,e.callbacks)}function x(){let e="function"==typeof t?t():t,n=new r(e);clearTimeout(h),h=null,n.addEventListener("open",()=>{/* istanbul ignore next -- @preserve */n===m&&(p=0,f="open",s?.(),g())}),n.addEventListener("error",()=>{n===m&&v()});let o=e=>{if("reconnect"===e.method&&n===m)for(let e of("open"===f&&i?.(),y(),Object.values(u)))"subscription"===e.type&&b(e)},c=e=>{let t=null!==e.id&&u[e.id];if(t){if(t.callbacks.next?.(e),t.ws!==m&&n===m){let e=t.ws;t.ws=m,_(e)}"result"in e&&"stopped"===e.result.type&&n===m&&t.callbacks.complete()}};return n.addEventListener("message",({data:e})=>{let t=JSON.parse(e);"method"in t?o(t):c(t),(n!==m||"closed"===f)&&_(n)}),n.addEventListener("close",({code:e})=>{for(let[t,r]of("open"===f&&i?.({code:e}),m===n&&v(),Object.entries(u)))if(r.ws===n){if("closed"===f){delete u[t],r.callbacks.complete?.();continue}"subscription"===r.type?b(r):(delete u[t],r.callbacks.error?.(a.T.from(new l("WebSocket closed prematurely"))))}}),n}function S(e,t){let{type:n,input:s,path:i,id:a}=e;return u[a]={ws:m,type:n,callbacks:t,op:e},c.push({id:a,method:n,params:{input:s,path:i}}),g(),()=>{let t=u[a]?.callbacks;delete u[a],c=c.filter(e=>e.id!==a),t?.complete?.(),m.readyState===r.OPEN&&"subscription"===e.type&&(c.push({id:a,method:"subscription.stop"}),g())}}return{close:()=>{f="closed",i?.(),Object.values(u).forEach(e=>{"subscription"===e.type&&e.callbacks.complete()}),_(m),clearTimeout(h),h=null},request:S,getConnection:()=>m}}class l extends Error{constructor(e){super(e),this.name="TRPCWebSocketClosedError",Object.setPrototypeOf(this,l.prototype)}}function u(e){return t=>{let{client:r}=e;return({op:e})=>(0,s.observable)(n=>{let{type:s,path:o,id:c,context:l}=e,u=t.transformer.serialize(e.input),p=r.request({type:s,path:o,input:u,id:c,context:l},{error(e){n.error(e),p()},complete(){n.complete()},next(r){let s=(0,i.t)(r,t);if(!s.ok){n.error((0,a.T).from(s.error));return}n.next({result:s.result}),"subscription"!==e.type&&(p(),n.complete())}});return()=>{p()}})}}},{"@trpc/server/observable":"9Sify","../transformResult-ace864b8.mjs":"cpXmv","../TRPCClientError-38f9a32a.mjs":"iewZ2","@trpc/server/shared":"5G7My","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],jRgwf:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.chromeLink=void 0;let n=e("d3b470fd8363e13e"),s=e("a8f74e5cc4357cf9");r.chromeLink=e=>t=>{let{port:r}=e;return({op:e})=>(0,s.observable)(s=>{let i=[],{id:a,type:o,path:c}=e;try{let l=t.transformer.serialize(e.input),u=()=>{s.error(new n.TRPCClientError("Port disconnected prematurely"))};r.onDisconnect.addListener(u),i.push(()=>r.onDisconnect.removeListener(u));let p=e=>{if(!("trpc"in e))return;let{trpc:r}=e;if(r&&"id"in r&&null!==r.id&&void 0!==r.id&&a===r.id){if("error"in r){let e=t.transformer.deserialize(r.error);s.error(n.TRPCClientError.from(Object.assign(Object.assign({},r),{error:e})));return}s.next({result:Object.assign(Object.assign({},r.result),(!r.result.type||"data"===r.result.type)&&{type:"data",data:t.transformer.deserialize(r.result.data)})}),("subscription"!==o||"stopped"===r.result.type)&&s.complete()}};r.onMessage.addListener(p),i.push(()=>r.onMessage.removeListener(p)),r.postMessage({trpc:{id:a,jsonrpc:void 0,method:o,params:{path:c,input:l}}})}catch(e){s.error(new n.TRPCClientError(e instanceof Error?e.message:"Unknown error"))}return()=>{i.forEach(e=>e()),"subscription"===o&&r.postMessage({trpc:{id:a,jsonrpc:void 0,method:"subscription.stop"}})}})}},{d3b470fd8363e13e:"4mkxb",a8f74e5cc4357cf9:"9Sify"}],bPY3y:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"rumLink",()=>o);var s=e("@trpc/server/observable"),i=e("./rum.service");function a(e){if(!e||!("object"==typeof e&&null!==e))return"unknown";if(e.message?.includes("disconnected port")||e.message?.includes("port object"))return"port_disconnected";if(e.message?.includes("fetch")||e.message?.includes("network")||e.message?.includes("Failed to fetch"))return"network";let t=e.data?.httpStatus||e.status;if(t&&t>=500)return"server_error";if(t&&t>=400&&t<500)return"client_error";if(e.data?.code){if("BAD_REQUEST"===e.data.code)return"validation";if("UNAUTHORIZED"===e.data.code||"FORBIDDEN"===e.data.code)return"auth";if("TIMEOUT"===e.data.code)return"timeout";if("NOT_FOUND"===e.data.code)return"not_found"}return e.name?e.name.toLowerCase():"unknown"}let o=()=>()=>({op:e,next:t})=>{(0,i.rum).isInitialized()||(0,i.rum).initialize();let r=`trpc.${e.type}.${e.path}`,n=(0,i.rum).startSpan(r,"http"),o=Date.now();return(0,s.observable)(r=>{let s=t(e).subscribe({next(e){r.next(e)},error(t){let s=Date.now()-o,c=t?.message?.includes("disconnected port")||t?.message?.includes("port object");if(c){let e=t.message;t.message="Conex\xe3o expirada, reinicie a p\xe1gina",console.warn("[tRPC] Port error detected, transforming message:",{original:e,transformed:t.message})}n&&(n.addLabels({"trpc.operation":e.path,"trpc.type":e.type,"trpc.error":!0,"trpc.error_message":t.message||"Unknown error","trpc.duration":s}),n.end()),(0,i.rum).captureError(t,{operation:e.path,type:e.type,duration:s,errorType:a(t),trpc:{errorCode:t.code||t.name||"UNKNOWN",code:t.data?.code,httpStatus:t.data?.httpStatus||t.status||0,isValidationError:!!t.data?.zodError},input:{hasInput:!!e.input,type:e.input?typeof e.input:"none"},debug:{timestamp:Date.now(),stackPreview:t.stack?.split("\n").slice(0,3).join(" | ")}});let l={[`trpc_error_${e.path}`]:t.message||"Unknown error",[`trpc_error_code_${e.path}`]:t.code||t.name||"UNKNOWN",[`trpc_error_type_${e.path}`]:a(t),[`trpc_error_duration_${e.path}`]:s,[`trpc_error_timestamp_${e.path}`]:Date.now()},u=t.data?.httpStatus||t.status;u&&(l[`trpc_error_status_${e.path}`]=u),t.data?.code&&(l[`trpc_error_trpc_code_${e.path}`]=t.data.code),t.data?.zodError&&(l[`trpc_error_validation_${e.path}`]=!0),(0,i.rum).addLabels(l),r.error(t)},complete(){let t=Date.now()-o;n&&(n.addLabels({"trpc.operation":e.path,"trpc.type":e.type,"trpc.success":!0,"trpc.duration":t}),n.end()),(0,i.rum).addLabels({[`trpc_duration_${e.path}`]:t}),r.complete()}});return s})}},{"@trpc/server/observable":"9Sify","./rum.service":"bZ5q4","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],bZ5q4:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getRum",()=>c),n.export(r,"rum",()=>l);var s=e("@elastic/apm-rum"),i=e("@plasmohq/storage");class a{async initialize(e){if(!this.initialized)try{let t=e?.serverUrl||"https://b4a60ec6717b4ff19c789afeb8aee703.apm.us-central1.gcp.cloud.es.io:443";if(!t){console.log("[RUM] Elastic APM disabled - no server URL configured");return}let r=chrome.runtime.getManifest(),n=r.version,a=new i.Storage,o=await a.get("user"),c=await a.get("user-premium");this.userContext={id:o?.id,isPremium:c||!1,email:o?.email},this.apm=(0,s.init)({serviceName:"hunter-extension",serverUrl:t,serviceVersion:e?.serviceVersion||n,environment:"production",distributedTracing:!0,distributedTracingOrigins:["http://localhost:3000","https://api.mercadolibre.com"],active:!0,logLevel:"warn",transactionSampleRate:c?1:.1,disableInstrumentations:["page-load","eventtarget"],errorThrottleLimit:100,errorThrottleInterval:3e4,transactionThrottleLimit:100,transactionThrottleInterval:3e4,breakdownMetrics:!0}),this.apm&&this.userContext.id&&(this.apm.setUserContext({id:this.userContext.id,email:this.userContext.email}),this.apm.setCustomContext({isPremium:this.userContext.isPremium})),this.initialized=!0,console.log("[RUM] Elastic APM RUM initialized successfully")}catch(e){console.error("[RUM] Failed to initialize Elastic APM:",e)}}startTransaction(e,t="page-load",r){if(!this.apm)return null;try{let n=this.apm.startTransaction(e,t,r);return this.currentTransaction=n||null,n||null}catch(e){return console.error("[RUM] Failed to start transaction:",e),null}}endTransaction(e){if(this.currentTransaction)try{e&&this.currentTransaction.addLabels({result:e}),this.currentTransaction.end(),this.currentTransaction=null}catch(e){console.error("[RUM] Failed to end transaction:",e)}}startSpan(e,t="custom"){if(!this.apm)return null;try{let r=this.apm.getCurrentTransaction();if(!r)return null;return r.startSpan(e,t)||null}catch(e){return console.error("[RUM] Failed to start span:",e),null}}addLabels(e){if(this.apm)try{this.apm.addLabels(e)}catch(e){console.error("[RUM] Failed to add labels:",e)}}captureError(e,t){if(this.apm)try{let r={},n={};t&&Object.entries(t).forEach(([e,t])=>{null===t||"object"!=typeof t||Array.isArray(t)?"string"==typeof t||"number"==typeof t||"boolean"==typeof t?r[e]=t:void 0!==t&&(r[e]=String(t)):n[e]=t}),Object.keys(n).length>0&&this.apm.setCustomContext(n);let s=Object.keys(r).length>0?{labels:r}:void 0;this.apm.captureError(e,s)}catch(e){console.error("[RUM] Failed to capture error:",e)}}setCustomContext(e){if(this.apm)try{this.apm.setCustomContext(e)}catch(e){console.error("[RUM] Failed to set custom context:",e)}}trackUserAction(e,t){if(this.apm)try{let r=this.startSpan(`user_action_${e}`,"user-interaction");r&&(t&&r.addContext(t),r.end())}catch(e){console.error("[RUM] Failed to track user action:",e)}}trackPopupLoad(e,t){if(this.apm)try{let r=this.apm.getCurrentTransaction();if(!r){console.warn("[RUM] trackPopupLoad called without active transaction:",e);return}let n={popupType:e,success:t.success,result:t.success?"success":"failure"};void 0!==t.loadTime&&(n.loadTime=t.loadTime),void 0!==t.renderTime&&(n.renderTime=t.renderTime),void 0!==t.dataFetchTime&&(n.dataFetchTime=t.dataFetchTime),void 0!==t.itemId&&(n.itemId=t.itemId),void 0!==t.sellerId&&(n.sellerId=t.sellerId),r.addLabels(n),!t.success&&t.error&&this.captureError(t.error,{popupType:e,itemId:t.itemId,sellerId:t.sellerId})}catch(e){console.error("[RUM] Failed to track popup load:",e)}}getApm(){return this.apm}getCurrentTransaction(){return this.apm?this.apm.getCurrentTransaction():null}isInitialized(){return this.initialized}constructor(){this.apm=null,this.initialized=!1,this.currentTransaction=null,this.userContext={}}}let o=null,c=()=>(o||(o=new a),o),l={initialize:e=>c().initialize(e),startTransaction:(e,t)=>c().startTransaction(e,t),endTransaction:e=>c().endTransaction(e),startSpan:(e,t)=>c().startSpan(e,t),addLabels:e=>c().addLabels(e),captureError:(e,t)=>c().captureError(e,t),setCustomContext:e=>c().setCustomContext(e),trackUserAction:(e,t)=>c().trackUserAction(e,t),trackPopupLoad:(e,t)=>c().trackPopupLoad(e,t),getApm:()=>c().getApm(),getCurrentTransaction:()=>c().getCurrentTransaction(),isInitialized:()=>c().isInitialized()}},{"@elastic/apm-rum":"gYY4R","@plasmohq/storage":"coO0M","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],gYY4R:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"init",()=>c),n.export(r,"apmBase",()=>o),n.export(r,"ApmBase",()=>a.default),n.export(r,"apm",()=>o);var s=e("@elastic/apm-rum-core"),i=e("./apm-base"),a=n.interopDefault(i),o=function(){if(s.isBrowser&&window.elasticApm)return window.elasticApm;var e=(0,s.bootstrap)(),t=(0,s.createServiceFactory)(),r=new a.default(t,!e);return s.isBrowser&&(window.elasticApm=r),r}(),c=o.init.bind(o);r.default=c},{"@elastic/apm-rum-core":"7UYZK","./apm-base":"b34zx","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"7UYZK":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"createServiceFactory",()=>g),n.export(r,"ServiceFactory",()=>a.ServiceFactory),n.export(r,"patchAll",()=>c.patchAll),n.export(r,"patchEventHandler",()=>c.patchEventHandler),n.export(r,"isPlatformSupported",()=>o.isPlatformSupported),n.export(r,"isBrowser",()=>o.isBrowser),n.export(r,"getInstrumentationFlags",()=>p.getInstrumentationFlags),n.export(r,"createTracer",()=>f.createTracer),n.export(r,"scheduleMicroTask",()=>o.scheduleMicroTask),n.export(r,"scheduleMacroTask",()=>o.scheduleMacroTask),n.export(r,"afterFrame",()=>h.default),n.export(r,"ERROR",()=>u.ERROR),n.export(r,"PAGE_LOAD_DELAY",()=>u.PAGE_LOAD_DELAY),n.export(r,"PAGE_LOAD",()=>u.PAGE_LOAD),n.export(r,"CONFIG_SERVICE",()=>u.CONFIG_SERVICE),n.export(r,"LOGGING_SERVICE",()=>u.LOGGING_SERVICE),n.export(r,"TRANSACTION_SERVICE",()=>u.TRANSACTION_SERVICE),n.export(r,"APM_SERVER",()=>u.APM_SERVER),n.export(r,"PERFORMANCE_MONITORING",()=>u.PERFORMANCE_MONITORING),n.export(r,"ERROR_LOGGING",()=>u.ERROR_LOGGING),n.export(r,"EVENT_TARGET",()=>u.EVENT_TARGET),n.export(r,"CLICK",()=>u.CLICK),n.export(r,"observeUserInteractions",()=>i.observeUserInteractions),n.export(r,"bootstrap",()=>m.bootstrap),n.export(r,"observePageVisibility",()=>l.observePageVisibility),n.export(r,"observePageClicks",()=>l.observePageClicks);var s=e("./error-logging"),i=e("./performance-monitoring"),a=e("./common/service-factory"),o=e("./common/utils"),c=e("./common/patching"),l=e("./common/observers"),u=e("./common/constants"),p=e("./common/instrument"),d=e("./common/after-frame"),h=n.interopDefault(d),m=e("./bootstrap"),f=e("./opentracing");function g(){return(0,i.registerServices)(),(0,s.registerServices)(),new a.ServiceFactory}},{"./error-logging":"dEcKq","./performance-monitoring":"18Xmx","./common/service-factory":"1dqrh","./common/utils":"3ibg5","./common/patching":!1,"./common/observers":"cVBqO","./common/constants":"gxIFj","./common/instrument":"lAinX","./common/after-frame":!1,"./bootstrap":"hHkzr","./opentracing":!1,"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],dEcKq:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"registerServices",()=>c);var s=e("./error-logging"),i=n.interopDefault(s),a=e("../common/constants"),o=e("../common/service-factory");function c(){o.serviceCreators[a.ERROR_LOGGING]=function(e){var t=e.getService([a.APM_SERVER,a.CONFIG_SERVICE,a.TRANSACTION_SERVICE]),r=t[0],n=t[1],s=t[2];return new i.default(r,n,s)}}},{"./error-logging":"8t5Hj","../common/constants":"gxIFj","../common/service-factory":"1dqrh","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"8t5Hj":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./stack-trace"),i=e("../common/utils"),a=e("../common/context"),o=e("../common/truncate"),c=e("error-stack-parser"),l=n.interopDefault(c),u=["tags"],p=["stack","message"],d="Unhandled promise rejection: ",h=function(){function e(e,t,r){this._apmServer=e,this._configService=t,this._transactionService=r}var t=e.prototype;return t.createErrorDataModel=function(e,t){var r=(0,s.createStackTraces)(l.default,e),n=(0,s.filterInvalidFrames)(r),c="(inline script)",d=n[n.length-1];d&&d.filename&&(c=d.filename);var h=e.message,m=e.error,f=h,g="",v={};if(m&&"object"==typeof m){f=f||m.message,g=m.name;var y=function(e){var t=!1,r={};if(Object.keys(e).forEach(function(n){if(!(p.indexOf(n)>=0)){var s=e[n];if(null!=s&&"function"!=typeof s){if("object"==typeof s){if("function"!=typeof s.toISOString)return;s=s.toISOString()}r[n]=s,t=!0}}}),t)return r}(m);y&&(v.custom=y)}if(t&&t.labels){var _=Object.keys(t.labels);v.tags={},_.forEach(function(e){return(0,i.setLabel)(e,t.labels[e],v.tags)})}!g&&f&&f.indexOf(":")>-1&&(g=f.split(":")[0]);var b=this._transactionService.getCurrentTransaction(),x=b?b.context:{},S=this._configService.get("context"),E=(S.tags,function(e,t){if(null==e)return{};var r,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(S,u)),T=(0,a.getPageContext)(),I=(0,i.merge)({},T,x,E,v),w={id:(0,i.generateRandomId)(),culprit:c,exception:{message:f,stacktrace:n,type:g},context:I};return b&&(w=(0,i.extend)(w,{trace_id:b.traceId,parent_id:b.id,transaction_id:b.id,transaction:{type:b.type,sampled:b.sampled}})),(0,o.truncateModel)(o.ERROR_MODEL,w)},t.logErrorEvent=function(e,t){if(void 0!==e){var r=this.createErrorDataModel(e,t);void 0!==r.exception.message&&this._apmServer.addError(r)}},t.registerListeners=function(){var e=this;window.addEventListener("error",function(t){return e.logErrorEvent(t)}),window.addEventListener("unhandledrejection",function(t){return e.logPromiseEvent(t)})},t.logPromiseEvent=function(e){var t,r=e.reason;if(null==r&&(r="<no reason specified>"),"string"==typeof r.message){var n=r.name?r.name+": ":"";t={error:r,message:d+n+r.message}}else t=this._parseRejectReason(r);this.logErrorEvent(t)},t.logError=function(e,t){var r={};return"string"==typeof e?r.message=e:r.error=e,this.logErrorEvent(r,t)},t._parseRejectReason=function(e){var t={message:d};if(Array.isArray(e))t.message+="<object>";else if("object"==typeof e)try{t.message+=JSON.stringify(e),t.error=e}catch(e){t.message+="<object>"}else"function"==typeof e?t.message+="<function>":t.message+=e;return t},e}();r.default=h},{"./stack-trace":"5cOr8","../common/utils":"3ibg5","../common/context":"5MI8q","../common/truncate":"a6xw1","error-stack-parser":"5ueQE","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"5cOr8":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t){var r,n=t.error,s=t.filename,i=t.lineno,a=t.colno,o=[];if(n)try{o=e.parse(n)}catch(e){}return 0!==(r=o).length&&(1!==r.length||"lineNumber"in r[0])||(o=[{fileName:s,lineNumber:i,columnNumber:a}]),o.map(function(e){var t,r;return e.functionName&&(e.functionName=(r=((r=(0,e.functionName).split("/")).length>1?["Object",r[r.length-1]].join("."):r[0]).replace(/.<$/gi,".<anonymous>").replace(/^Anonymous function$/,"<anonymous>").split(".")).length>1?r[r.length-1]:r[0]),e}).map(function(e){var t,r,n,s=e.fileName,i=e.lineNumber,a=e.columnNumber,o=e.functionName;if(!s&&!i||!a&&!i)return{};var c=(void 0===(t=s)&&(t=""),"<anonymous>"===t&&(t=""),t),l=(r=c,n=window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),r.indexOf(n)>-1&&(r=r.replace(n+"/","")),r);return c&&0===window.location.href.indexOf(c)&&(l="(inline script)"),{abs_path:s,filename:l,function:void 0===o?"<anonymous>":o,lineno:i,colno:a}})}function i(e){return e.filter(function(e){var t=e.filename,r=e.lineno;return void 0!==t&&void 0!==r})}n.defineInteropFlag(r),n.export(r,"createStackTraces",()=>s),n.export(r,"filterInvalidFrames",()=>i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"3ibg5":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"extend",()=>O),n.export(r,"merge",()=>C),n.export(r,"isUndefined",()=>N),n.export(r,"noop",()=>A),n.export(r,"baseExtend",()=>j),n.export(r,"bytesToHex",()=>p),n.export(r,"isCORSSupported",()=>c),n.export(r,"isObject",()=>I),n.export(r,"isFunction",()=>w),n.export(r,"isPlatformSupported",()=>b),n.export(r,"isDtHeaderValid",()=>v),n.export(r,"parseDtHeaderValue",()=>g),n.export(r,"getServerTimingInfo",()=>S),n.export(r,"getDtHeaderValue",()=>f),n.export(r,"getTSHeaderValue",()=>y),n.export(r,"getCurrentScript",()=>k),n.export(r,"getElasticScript",()=>R),n.export(r,"getTimeOrigin",()=>E),n.export(r,"generateRandomId",()=>m),n.export(r,"getEarliestSpan",()=>U),n.export(r,"getLatestNonXHRSpan",()=>D),n.export(r,"getLatestXHRSpan",()=>M),n.export(r,"getDuration",()=>$),n.export(r,"getTime",()=>V),n.export(r,"now",()=>z),n.export(r,"rng",()=>h),n.export(r,"checkSameOrigin",()=>function e(t,r){var n=!1;return"string"==typeof r?n=t===r:r&&"function"==typeof r.test?n=r.test(t):Array.isArray(r)&&r.forEach(function(r){n||(n=e(t,r))}),n}),n.export(r,"scheduleMacroTask",()=>q),n.export(r,"scheduleMicroTask",()=>H),n.export(r,"setLabel",()=>x),n.export(r,"setRequestHeader",()=>_),n.export(r,"stripQueryStringFromUrl",()=>T),n.export(r,"find",()=>P),n.export(r,"removeInvalidChars",()=>L),n.export(r,"PERF",()=>o),n.export(r,"isPerfTimelineSupported",()=>Z),n.export(r,"isBrowser",()=>a),n.export(r,"isPerfTypeSupported",()=>B),n.export(r,"isPerfInteractionCountSupported",()=>Q),n.export(r,"isBeaconInspectionEnabled",()=>K),n.export(r,"isRedirectInfoAvailable",()=>G);var s=e("./polyfills"),i=[].slice,a="undefined"!=typeof window,o=a&&"undefined"!=typeof performance?performance:{};function c(){return"withCredentials"in new window.XMLHttpRequest}for(var l=[],u=0;u<256;++u)l[u]=(u+256).toString(16).substr(1);function p(e){for(var t=[],r=0;r<e.length;r++)t.push(l[e[r]]);return t.join("")}var d=new Uint8Array(16);function h(){return"undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues(d):"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues?msCrypto.getRandomValues(d):d}function m(e){return p(h()).substr(0,e)}function f(e){if(e&&e.traceId&&e.id&&e.parentId){var t=e.sampled?"01":"00",r=e.sampled?e.id:e.parentId;return"00-"+e.traceId+"-"+r+"-"+t}}function g(e){var t=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})$/.exec(e);if(t){var r=t[4];return{traceId:t[2],id:t[3],sampled:"00"!==r}}}function v(e){return/^[\da-f]{2}-[\da-f]{32}-[\da-f]{16}-[\da-f]{2}$/.test(e)&&"00000000000000000000000000000000"!==e.slice(3,35)&&"0000000000000000"!==e.slice(36,52)}function y(e){var t=e.sampleRate;if("number"==typeof t&&!(String(t).length>256))return"es=s:"+t}function _(e,t,r){"function"==typeof e.setRequestHeader?e.setRequestHeader(t,r):e.headers&&"function"==typeof e.headers.append?e.headers.append(t,r):e[t]=r}function b(){return a&&"function"==typeof Set&&"function"==typeof JSON.stringify&&o&&"function"==typeof o.now&&c()}function x(e,t,r){if(r&&e){var n=L(e),s=typeof t;return void 0!=t&&"boolean"!==s&&"number"!==s&&(t=String(t)),r[n]=t,r}}function S(e){void 0===e&&(e=[]);for(var t=[],r=0;r<e.length;r++){var n=e[r],s=n.name,i=n.duration,a=n.description,o=s;a&&(o+=";desc="+a),i&&(o+=";dur="+i),t.push(o)}return t.join(", ")}function E(){return o.timing.fetchStart}function T(e){return e&&e.split("?")[0]}function I(e){return null!==e&&"object"==typeof e}function w(e){return"function"==typeof e}function j(e,t,r){for(var n=0,s=t.length;n<s;++n){var i=t[n];if(I(i)||w(i))for(var a=Object.keys(i),o=0,c=a.length;o<c;o++){var l=a[o],u=i[l];r&&I(u)?(I(e[l])||(e[l]=Array.isArray(u)?[]:{}),j(e[l],[u],!1)):e[l]=u}}return e}function R(){if("undefined"!=typeof document)for(var e=document.getElementsByTagName("script"),t=0,r=e.length;t<r;t++){var n=e[t];if(n.src.indexOf("elastic")>0)return n}}function k(){if("undefined"!=typeof document)return document.currentScript||R()}function O(){return j(Object.create(null),i.call(arguments),!1)}function C(){return j(Object.create(null),i.call(arguments),!0)}function N(e){return void 0===e}function A(){}function P(e,t,r){if(null==e)throw TypeError("array is null or not defined");var n=Object(e),s=n.length>>>0;if("function"!=typeof t)throw TypeError("predicate must be a function");for(var i=0;i<s;){var a=n[i];if(t.call(r,a,i,n))return a;i++}}function L(e){return e.replace(/[.*"]/g,"_")}function F(e,t){for(var r=null,n=0;n<e.length;n++){var s=e[n];t&&t(s.type)&&(!r||r._end<s._end)&&(r=s)}return r}function D(e){return F(e,function(e){return -1===String(e).indexOf("external")})}function M(e){return F(e,function(e){return -1!==String(e).indexOf("external")})}function U(e){for(var t=e[0],r=1;r<e.length;r++){var n=e[r];t._start>n._start&&(t=n)}return t}function z(){return o.now()}function V(e){return"number"==typeof e&&e>=0?e:z()}function $(e,t){return N(t)||N(e)?null:parseInt(t-e)}function q(e){setTimeout(e,0)}function H(e){(0,s.Promise).resolve().then(e)}function Z(){return"function"==typeof o.getEntriesByType}function B(e){return"undefined"!=typeof PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.indexOf(e)>=0}function Q(){return"interactionCount"in performance}function K(){var e="_elastic_inspect_beacon_";if(null!=sessionStorage.getItem(e))return!0;if(!window.URL||!window.URLSearchParams)return!1;try{var t=new URL(window.location.href).searchParams.has(e);return t&&sessionStorage.setItem(e,!0),t}catch(e){}return!1}function G(e){return e.redirectStart>0}},{"./polyfills":"3JXeq","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"3JXeq":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"Promise",()=>c);var s=e("promise-polyfill"),i=n.interopDefault(s),a=e("./utils"),o={};a.isBrowser?o=window:"undefined"!=typeof self&&(o=self);var c="Promise"in o?o.Promise:i.default},{"promise-polyfill":"g0bC7","./utils":"3ibg5","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],g0bC7:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./finally"),i=n.interopDefault(s),a=e("./allSettled"),o=n.interopDefault(a),c=e("./any"),l=n.interopDefault(c),u=setTimeout;function p(e){return!!(e&&void 0!==e.length)}function d(){}function h(e){if(!(this instanceof h))throw TypeError("Promises must be constructed via new");if("function"!=typeof e)throw TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],_(e,this)}function m(e,t){for(;3===e._state;)e=e._value;if(0===e._state){e._deferreds.push(t);return}e._handled=!0,h._immediateFn(function(){var r,n=1===e._state?t.onFulfilled:t.onRejected;if(null===n){(1===e._state?f:g)(t.promise,e._value);return}try{r=n(e._value)}catch(e){g(t.promise,e);return}f(t.promise,r)})}function f(e,t){try{if(t===e)throw TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof h){e._state=3,e._value=t,v(e);return}if("function"==typeof r){_(function(){r.apply(t,arguments)},e);return}}e._state=1,e._value=t,v(e)}catch(t){g(e,t)}}function g(e,t){e._state=2,e._value=t,v(e)}function v(e){2===e._state&&0===e._deferreds.length&&h._immediateFn(function(){e._handled||h._unhandledRejectionFn(e._value)});for(var t=0,r=e._deferreds.length;t<r;t++)m(e,e._deferreds[t]);e._deferreds=null}function y(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function _(e,t){var r=!1;try{e(function(e){r||(r=!0,f(t,e))},function(e){r||(r=!0,g(t,e))})}catch(e){if(r)return;r=!0,g(t,e)}}h.prototype.catch=function(e){return this.then(null,e)},h.prototype.then=function(e,t){var r=new this.constructor(d);return m(this,new y(e,t,r)),r},h.prototype.finally=i.default,h.all=function(e){return new h(function(t,r){if(!p(e))return r(TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);for(var s=n.length,i=0;i<n.length;i++)!function e(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var o=a.then;if("function"==typeof o){o.call(a,function(t){e(i,t)},r);return}}n[i]=a,0==--s&&t(n)}catch(e){r(e)}}(i,n[i])})},h.any=l.default,h.allSettled=o.default,h.resolve=function(e){return e&&"object"==typeof e&&e.constructor===h?e:new h(function(t){t(e)})},h.reject=function(e){return new h(function(t,r){r(e)})},h.race=function(e){return new h(function(t,r){if(!p(e))return r(TypeError("Promise.race accepts an array"));for(var n=0,s=e.length;n<s;n++)h.resolve(e[n]).then(t,r)})},h._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){u(e,0)},h._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},r.default=h},{"./finally":"fM5Ti","./allSettled":"hPRUL","./any":"iQ6o4","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],fM5Ti:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){return t.reject(r)})})}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],hPRUL:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e){return new this(function(t,r){if(!(e&&void 0!==e.length))return r(TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);for(var s=n.length,i=0;i<n.length;i++)!function e(r,i){if(i&&("object"==typeof i||"function"==typeof i)){var a=i.then;if("function"==typeof a){a.call(i,function(t){e(r,t)},function(e){n[r]={status:"rejected",reason:e},0==--s&&t(n)});return}}n[r]={status:"fulfilled",value:i},0==--s&&t(n)}(i,n[i])})}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],iQ6o4:[function(e,t,r){function n(e,t){this.name="AggregateError",this.errors=e,this.message=t||""}e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),n.prototype=Error.prototype,r.default=function(e){var t=this;return new t(function(r,s){if(!(e&&void 0!==e.length))return s(TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return s();for(var a=[],o=0;o<i.length;o++)try{t.resolve(i[o]).then(r).catch(function(e){a.push(e),a.length===i.length&&s(new n(a,"All promises were rejected"))})}catch(e){s(e)}})}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"5MI8q":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getPageContext",()=>u),n.export(r,"addSpanContext",()=>p),n.export(r,"addTransactionContext",()=>d);var s=e("./url"),i=e("./constants"),a=e("./utils"),o=["tags"];function c(e){var t=e.transferSize,r=e.encodedBodySize,n=e.decodedBodySize,s=e.serverTiming,i={transfer_size:t,encoded_body_size:r,decoded_body_size:n},o=(0,a.getServerTimingInfo)(s);return o&&(i.headers={"server-timing":o}),i}function l(e){var t,r=e.port,n=e.protocol,s=e.hostname,i=(""===(t=r)&&(t="http:"===n?"80":"https:"===n?"443":""),t),a=91===s.charCodeAt(0)&&93===s.charCodeAt(s.length-1),o=s;return a&&(o=s.slice(1,-1)),{service:{resource:s+":"+i,name:"",type:""},address:o,port:Number(i)}}function u(){return{page:{referer:document.referrer,url:location.href}}}function p(e,t){if(t){var r,n,i,a,o,u,p,d,h,m,f,g,v;switch(e.type){case"external":i=t.url,a=t.method,o=t.target,u=t.response,d=l(p=new s.Url(i)),h={http:{method:a,url:p.href},destination:d},o&&void 0!==o.status?n=o.status:u&&(n=u.status),h.http.status_code=n,r=h;break;case"resource":m=t.entry,f=t.url,g=l(new s.Url(f)),r={http:{url:f,response:c(m)},destination:g};break;case"hard-navigation":v=t.url,r={destination:l(new s.Url(v))}}e.addContext(r)}}function d(e,t){var r=void 0===t?{}:t,n=(r.tags,function(e,t){if(null==e)return{};var r,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(r,o)),s=u(),l={};if(e.type===i.PAGE_EXIT)e.ensureContext(),e.context.page&&e.context.page.url&&(s.page.url=e.context.page.url);else if(e.type===i.PAGE_LOAD&&(0,a.isPerfTimelineSupported)()){var p=(0,a.PERF).getEntriesByType(i.NAVIGATION);p&&p.length>0&&(l={response:c(p[0])})}e.addContext(s,l,n)}},{"./url":"96yBp","./constants":"gxIFj","./utils":"3ibg5","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"96yBp":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"Url",()=>o),n.export(r,"slugifyUrl",()=>c);var s=e("./utils"),i=[["#","hash"],["?","query"],["/","path"],["@","auth",1],[NaN,"host",void 0,1]],a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,o=function(){function e(e){var t,r=this.extractProtocol(e||""),n=r.protocol,s=r.address,a=r.slashes,o=!n&&!a,c=this.getLocation(),l=i.slice();s=s.replace("\\","/"),a||(l[2]=[NaN,"path"]);for(var u=0;u<l.length;u++){var p=l[u],d=p[0],h=p[1];if("string"==typeof d){if(~(t=s.indexOf(d))){var m=p[2];m?(t=Math.max(t,s.lastIndexOf(d)),this[h]=s.slice(0,t),s=s.slice(t+m)):(this[h]=s.slice(t),s=s.slice(0,t))}}else this[h]=s,s="";this[h]=this[h]||o&&p[3]&&c[h]||"",p[3]&&(this[h]=this[h].toLowerCase())}if(o&&"/"!==this.path.charAt(0)&&(this.path="/"+this.path),this.relative=o,this.protocol=n||c.protocol,this.hostname=this.host,this.port="",/:\d+$/.test(this.host)){var f=this.host.split(":"),g=f.pop(),v=f.join(":");(function(e,t){switch(t){case"http:":return"80"===e;case"https:":return"443"===e}return!0})(g,this.protocol)?this.host=v:this.port=g,this.hostname=v}this.origin=this.protocol&&this.host&&"file:"!==this.protocol?this.protocol+"//"+this.host:"null",this.href=this.toString()}var t=e.prototype;return t.toString=function(){var e=this.protocol;if(e+="//",this.auth){var t="[REDACTED]",r=this.auth.split(":");e+=(r[0]?t:"")+(r[1]?":"+t:"")+"@"}return e+(this.host+this.path+this.query+this.hash)},t.getLocation=function(){var e={};return s.isBrowser&&(e=window),e.location},t.extractProtocol=function(e){var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],address:t[3]}},e}();function c(e,t){void 0===t&&(t=2);for(var r=new o(e),n=r.query,s=r.path.substring(1).split("/"),i=/\W|_/g,a=/[0-9]/g,c=/[a-z]/g,l=/[A-Z]/g,u=[],p=!1,d=0;d<s.length;d++){var h=s[d];if(p||d>t-1){h&&u.push("*");break}if((h.match(i)||[]).length>=2){u.push(":id"),p=!0;continue}var m=(h.match(a)||[]).length;if(m>3||h.length>3&&m/h.length>=.3){u.push(":id"),p=!0;continue}var f=(h.match(l)||[]).length,g=(h.match(c)||[]).length/h.length,v=f/h.length;if(h.length>5&&(v>.3&&v<.6||g>.3&&g<.6)){u.push(":id"),p=!0;continue}h&&u.push(h)}return"/"+(u.length>=2?u.join("/"):u.join(""))+(n?"?{query}":"")}},{"./utils":"3ibg5","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],gxIFj:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"SCHEDULE",()=>s),n.export(r,"INVOKE",()=>i),n.export(r,"ADD_EVENT_LISTENER_STR",()=>a),n.export(r,"REMOVE_EVENT_LISTENER_STR",()=>o),n.export(r,"RESOURCE_INITIATOR_TYPES",()=>c),n.export(r,"REUSABILITY_THRESHOLD",()=>l),n.export(r,"MAX_SPAN_DURATION",()=>u),n.export(r,"PAGE_LOAD_DELAY",()=>p),n.export(r,"PAGE_LOAD",()=>d),n.export(r,"ROUTE_CHANGE",()=>h),n.export(r,"NAME_UNKNOWN",()=>y),n.export(r,"PAGE_EXIT",()=>_),n.export(r,"TYPE_CUSTOM",()=>m),n.export(r,"USER_TIMING_THRESHOLD",()=>T),n.export(r,"TRANSACTION_START",()=>I),n.export(r,"TRANSACTION_END",()=>w),n.export(r,"CONFIG_CHANGE",()=>j),n.export(r,"QUEUE_FLUSH",()=>R),n.export(r,"QUEUE_ADD_TRANSACTION",()=>k),n.export(r,"TRANSACTION_IGNORE",()=>O),n.export(r,"XMLHTTPREQUEST",()=>C),n.export(r,"FETCH",()=>N),n.export(r,"HISTORY",()=>A),n.export(r,"EVENT_TARGET",()=>P),n.export(r,"CLICK",()=>L),n.export(r,"ERROR",()=>F),n.export(r,"BEFORE_EVENT",()=>D),n.export(r,"AFTER_EVENT",()=>M),n.export(r,"LOCAL_CONFIG_KEY",()=>U),n.export(r,"HTTP_REQUEST_TYPE",()=>g),n.export(r,"LONG_TASK",()=>z),n.export(r,"PAINT",()=>V),n.export(r,"MEASURE",()=>$),n.export(r,"NAVIGATION",()=>q),n.export(r,"RESOURCE",()=>H),n.export(r,"FIRST_CONTENTFUL_PAINT",()=>Z),n.export(r,"LARGEST_CONTENTFUL_PAINT",()=>B),n.export(r,"KEYWORD_LIMIT",()=>ei),n.export(r,"TEMPORARY_TYPE",()=>v),n.export(r,"USER_INTERACTION",()=>f),n.export(r,"TRANSACTION_TYPE_ORDER",()=>b),n.export(r,"ERRORS",()=>W),n.export(r,"TRANSACTIONS",()=>Y),n.export(r,"CONFIG_SERVICE",()=>X),n.export(r,"LOGGING_SERVICE",()=>J),n.export(r,"TRANSACTION_SERVICE",()=>ee),n.export(r,"APM_SERVER",()=>et),n.export(r,"PERFORMANCE_MONITORING",()=>er),n.export(r,"ERROR_LOGGING",()=>en),n.export(r,"TRUNCATED_TYPE",()=>es),n.export(r,"FIRST_INPUT",()=>Q),n.export(r,"LAYOUT_SHIFT",()=>K),n.export(r,"EVENT",()=>G),n.export(r,"OUTCOME_SUCCESS",()=>x),n.export(r,"OUTCOME_FAILURE",()=>S),n.export(r,"OUTCOME_UNKNOWN",()=>E),n.export(r,"SESSION_TIMEOUT",()=>ea),n.export(r,"HTTP_REQUEST_TIMEOUT",()=>eo);var s="schedule",i="invoke",a="addEventListener",o="removeEventListener",c=["link","css","script","img","xmlhttprequest","fetch","beacon","iframe"],l=5e3,u=3e5,p=1e3,d="page-load",h="route-change",m="custom",f="user-interaction",g="http-request",v="temporary",y="Unknown",_="page-exit",b=[d,h,f,g,m,v],x="success",S="failure",E="unknown",T=60,I="transaction:start",w="transaction:end",j="config:change",R="queue:flush",k="queue:add_transaction",O="transaction:ignore",C="xmlhttprequest",N="fetch",A="history",P="eventtarget",L="click",F="error",D=":before",M=":after",U="elastic_apm_config",z="longtask",V="paint",$="measure",q="navigation",H="resource",Z="first-contentful-paint",B="largest-contentful-paint",Q="first-input",K="layout-shift",G="event",W="errors",Y="transactions",X="ConfigService",J="LoggingService",ee="TransactionService",et="ApmServer",er="PerformanceMonitoring",en="ErrorLogging",es=".truncated",ei=1024,ea=18e5,eo=1e4},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],a6xw1:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"truncate",()=>p),n.export(r,"truncateModel",()=>function e(t,r,n){void 0===t&&(t={}),void 0===n&&(n=r);for(var s=Object.keys(t),i=[],a=0;a<s.length;a++)!function(a){var o=s[a],c=!0===t[o]?i:t[o];Array.isArray(c)?"*"===o?Object.keys(n).forEach(function(e){return h(n,e,c)}):h(n,o,c):e(c,r,n[o])}(a);return r}),n.export(r,"SPAN_MODEL",()=>c),n.export(r,"TRANSACTION_MODEL",()=>l),n.export(r,"ERROR_MODEL",()=>u),n.export(r,"METADATA_MODEL",()=>i),n.export(r,"RESPONSE_MODEL",()=>a);var s=e("./constants"),i={service:{name:[s.KEYWORD_LIMIT,!0],version:!0,agent:{version:[s.KEYWORD_LIMIT,!0]},environment:!0},labels:{"*":!0}},a={"*":!0,headers:{"*":!0}},o={user:{id:!0,email:!0,username:!0},tags:{"*":!0},http:{response:a},destination:{address:[s.KEYWORD_LIMIT],service:{"*":[s.KEYWORD_LIMIT,!0]}},response:a},c={name:[s.KEYWORD_LIMIT,!0],type:[s.KEYWORD_LIMIT,!0],id:[s.KEYWORD_LIMIT,!0],trace_id:[s.KEYWORD_LIMIT,!0],parent_id:[s.KEYWORD_LIMIT,!0],transaction_id:[s.KEYWORD_LIMIT,!0],subtype:!0,action:!0,context:o},l={name:!0,parent_id:!0,type:[s.KEYWORD_LIMIT,!0],id:[s.KEYWORD_LIMIT,!0],trace_id:[s.KEYWORD_LIMIT,!0],span_count:{started:[s.KEYWORD_LIMIT,!0]},context:o},u={id:[s.KEYWORD_LIMIT,!0],trace_id:!0,transaction_id:!0,parent_id:!0,culprit:!0,exception:{type:!0},transaction:{type:!0},context:o};function p(e,t,r,n){return(void 0===t&&(t=s.KEYWORD_LIMIT),void 0===r&&(r=!1),void 0===n&&(n="N/A"),r&&d(e)&&(e=n),"string"==typeof e)?e.substring(0,t):e}function d(e){return null==e||""===e||void 0===e}function h(e,t,r){var n=p(e[t],r[0],r[1]);if(d(n)){delete e[t];return}e[t]=n}},{"./constants":"gxIFj","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"5ueQE":[function(t,r,n){var s;s=function(e){var t=/(^|@)\S+\:\d+/,r=/^\s*at .*(\S+\:\d+|\(native\))/m,n=/^(eval@)?(\[native code\])?$/;function s(e,t,r){if("function"==typeof Array.prototype.map)return e.map(t,r);for(var n=Array(e.length),s=0;s<e.length;s++)n[s]=t.call(r,e[s]);return n}function i(e,t,r){if("function"==typeof Array.prototype.filter)return e.filter(t,r);for(var n=[],s=0;s<e.length;s++)t.call(r,e[s])&&n.push(e[s]);return n}return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(r))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return s(i(t.stack.split("\n"),function(e){return!!e.match(r)},this),function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var r=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),n=this.extractLocation(r.pop());return new e(r.join(" ")||void 0,void 0,function(e,t){if("function"==typeof Array.prototype.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return -1}(["eval","<anonymous>"],n[0])>-1?void 0:n[0],n[1],n[2],t)},this)},parseFFOrSafari:function(t){return s(i(t.stack.split("\n"),function(e){return!e.match(n)},this),function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e(t);var r=t.split("@"),n=this.extractLocation(r.pop());return new e(r.join("@")||void 0,void 0,n[0],n[1],n[2],t)},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,n=t.message.split("\n"),s=[],i=2,a=n.length;i<a;i+=2){var o=r.exec(n[i]);o&&s.push(new e(void 0,void 0,o[2],o[1],void 0,n[i]))}return s},parseOpera10:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=t.stacktrace.split("\n"),s=[],i=0,a=n.length;i<a;i+=2){var o=r.exec(n[i]);o&&s.push(new e(o[3]||void 0,void 0,o[2],o[1],void 0,n[i]))}return s},parseOpera11:function(r){return s(i(r.stack.split("\n"),function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this),function(t){var r,n=t.split("@"),s=this.extractLocation(n.pop()),i=n.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;return i.match(/\(([^\)]*)\)/)&&(r=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1")),new e(a,void 0===r||"[arguments not available]"===r?void 0:r.split(","),s[0],s[1],s[2],t)},this)}}},"function"==typeof e&&e.amd?e("error-stack-parser",["stackframe"],s):r.exports=s(t("92132025e5da501b"))},{"92132025e5da501b":"8DK1t"}],"8DK1t":[function(t,r,n){var s;s=function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e,t,r,n,s,i){void 0!==e&&this.setFunctionName(e),void 0!==t&&this.setArgs(t),void 0!==r&&this.setFileName(r),void 0!==n&&this.setLineNumber(n),void 0!==s&&this.setColumnNumber(s),void 0!==i&&this.setSource(i)}return t.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(e){this.functionName=String(e)},getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Args must be an Array");this.args=e},getFileName:function(){return this.fileName},setFileName:function(e){this.fileName=String(e)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(t){if(!e(t))throw TypeError("Line Number must be a Number");this.lineNumber=Number(t)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(t){if(!e(t))throw TypeError("Column Number must be a Number");this.columnNumber=Number(t)},getSource:function(){return this.source},setSource:function(e){this.source=String(e)},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}},t},"function"==typeof e&&e.amd?e("stackframe",[],s):r.exports=s()},{}],"1dqrh":[function(e,t,r){var n,s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"serviceCreators",()=>h),s.export(r,"ServiceFactory",()=>m);var i=e("./apm-server"),a=s.interopDefault(i),o=e("./config-service"),c=s.interopDefault(o),l=e("./logging-service"),u=s.interopDefault(l),p=e("./constants"),d=e("../state"),h=((n={})[p.CONFIG_SERVICE]=function(){return new c.default},n[p.LOGGING_SERVICE]=function(){return new u.default({prefix:"[Elastic APM] "})},n[p.APM_SERVER]=function(e){var t=e.getService([p.CONFIG_SERVICE,p.LOGGING_SERVICE]),r=t[0],n=t[1];return new a.default(r,n)},n),m=function(){function e(){this.instances={},this.initialized=!1}var t=e.prototype;return t.init=function(){if(!this.initialized){this.initialized=!0;var e=this.getService(p.CONFIG_SERVICE);e.init();var t=this.getService([p.LOGGING_SERVICE,p.APM_SERVER]),r=t[0],n=t[1];e.events.observe(p.CONFIG_CHANGE,function(){var t=e.get("logLevel");r.setLevel(t)}),n.init()}},t.getService=function(e){var t=this;return"string"==typeof e?(!this.instances[e]&&("function"==typeof h[e]?this.instances[e]=h[e](this):d.__DEV__&&console.log("Cannot get service, No creator for: "+e)),this.instances[e]):Array.isArray(e)?e.map(function(e){return t.getService(e)}):void 0},e}()},{"./apm-server":"kRp3b","./config-service":"fppA3","./logging-service":"knvhP","./constants":"gxIFj","../state":"KRP7C","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],kRp3b:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./queue"),i=n.interopDefault(s),a=e("./throttle"),o=n.interopDefault(a),c=e("./ndjson"),l=n.interopDefault(c),u=e("./truncate"),p=e("./constants"),d=e("./utils"),h=e("./polyfills"),m=e("./compress"),f=e("../state"),g=e("./http/fetch"),v=e("./http/xhr"),y=function(){function e(e,t){this._configService=e,this._loggingService=t,this.queue=void 0,this.throttleEvents=d.noop}var t=e.prototype;return t.init=function(){var e=this,t=this._configService.get("queueLimit"),r=this._configService.get("flushInterval"),n=this._configService.get("eventsLimit");this.queue=new i.default(function(t){var r=e.sendEvents(t);r&&r.catch(function(t){e._loggingService.warn("Failed sending events!",e._constructError(t))})},{queueLimit:t,flushInterval:r}),this.throttleEvents=(0,o.default)(this.queue.add.bind(this.queue),function(){return e._loggingService.warn("Dropped events due to throttling!")},{limit:n,interval:6e4}),this._configService.observeEvent(p.QUEUE_FLUSH,function(){e.queue.flush()})},t._postJson=function(e,t){var r=this,n={payload:t,headers:{"Content-Type":"application/x-ndjson"},beforeSend:this._configService.get("apmRequest")};return(0,m.compressPayload)(n).catch(function(e){return f.__DEV__&&r._loggingService.debug("Compressing the payload using CompressionStream API failed",e.message),n}).then(function(t){return r._makeHttpRequest("POST",e,t)}).then(function(e){return e.responseText})},t._constructError=function(e){var t=e.url,r=e.status,n=e.responseText;if(void 0===r)return e;var s=t+" HTTP status: "+r;if(f.__DEV__&&n)try{var i=[],a=JSON.parse(n);a.errors&&a.errors.length>0&&(a.errors.forEach(function(e){return i.push(e.message)}),s+=" "+i.join(","))}catch(e){this._loggingService.debug("Error parsing response from APM server",e)}return Error(s)},t._makeHttpRequest=function(e,t,r){var n=void 0===r?{}:r,s=n.timeout,i=void 0===s?p.HTTP_REQUEST_TIMEOUT:s,a=n.payload,o=n.headers,c=n.beforeSend,l=this._configService.get("sendCredentials");return!c&&(0,g.shouldUseFetchWithKeepAlive)(e,a)?(0,g.sendFetchRequest)(e,t,{keepalive:!0,timeout:i,payload:a,headers:o,sendCredentials:l}).catch(function(r){if(r instanceof TypeError)return(0,v.sendXHR)(e,t,{timeout:i,payload:a,headers:o,beforeSend:c,sendCredentials:l});throw r}):(0,v.sendXHR)(e,t,{timeout:i,payload:a,headers:o,beforeSend:c,sendCredentials:l})},t.fetchConfig=function(e,t){var r=this,n=this.getEndpoints().configEndpoint;if(!e)return(0,h.Promise).reject("serviceName is required for fetching central config.");n+="?service.name="+e,t&&(n+="&service.environment="+t);var s=this._configService.getLocalConfig();s&&(n+="&ifnonematch="+s.etag);var i=this._configService.get("apmRequest");return this._makeHttpRequest("GET",n,{timeout:5e3,beforeSend:i}).then(function(e){var t=e.status,n=e.responseText;if(304===t)return s;var i=JSON.parse(n),a=e.getResponseHeader("etag");return a&&(i.etag=a.replace(/["]/g,""),r._configService.setLocalConfig(i,!0)),i}).catch(function(e){var t=r._constructError(e);return(0,h.Promise).reject(t)})},t.createMetaData=function(){var e=this._configService,t={service:{name:e.get("serviceName"),version:e.get("serviceVersion"),agent:{name:"rum-js",version:e.version},language:{name:"javascript"},environment:e.get("environment")},labels:e.get("context.tags")};return(0,u.truncateModel)(u.METADATA_MODEL,t)},t.addError=function(e){var t;this.throttleEvents(((t={})[p.ERRORS]=e,t))},t.addTransaction=function(e){var t;this.throttleEvents(((t={})[p.TRANSACTIONS]=e,t))},t.ndjsonErrors=function(e,t){var r=t?"e":"error";return e.map(function(e){var n;return(0,l.default).stringify(((n={})[r]=t?(0,m.compressError)(e):e,n))})},t.ndjsonMetricsets=function(e){return e.map(function(e){return(0,l.default).stringify({metricset:e})}).join("")},t.ndjsonTransactions=function(e,t){var r=this,n=t?"x":"transaction";return e.map(function(e){var s,i="",a="";return!t&&(e.spans&&(i=e.spans.map(function(e){return(0,l.default).stringify({span:e})}).join(""),delete e.spans),e.breakdown&&(a=r.ndjsonMetricsets(e.breakdown),delete e.breakdown)),(0,l.default).stringify(((s={})[n]=t?(0,m.compressTransaction)(e):e,s))+i+a})},t.sendEvents=function(e){if(0!==e.length){for(var t,r,n=[],s=[],i=0;i<e.length;i++){var a=e[i];a[p.TRANSACTIONS]&&n.push(a[p.TRANSACTIONS]),a[p.ERRORS]&&s.push(a[p.ERRORS])}if(0!==n.length||0!==s.length){var o=this._configService,c=((t={})[p.TRANSACTIONS]=n,t[p.ERRORS]=s,t),u=o.applyFilters(c);if(!u){this._loggingService.warn("Dropped payload due to filtering!");return}var d=o.get("apiVersion")>2,h=[],f=this.createMetaData(),g=d?"m":"metadata";h.push((0,l.default).stringify(((r={})[g]=d?(0,m.compressMetadata)(f):f,r)));var v=(h=h.concat(this.ndjsonErrors(u[p.ERRORS],d),this.ndjsonTransactions(u[p.TRANSACTIONS],d))).join(""),y=this.getEndpoints().intakeEndpoint;return this._postJson(y,v)}}},t.getEndpoints=function(){var e=this._configService.get("serverUrl"),t=this._configService.get("apiVersion");return{intakeEndpoint:e+(this._configService.get("serverUrlPrefix")||"/intake/v"+t+"/rum/events"),configEndpoint:e+"/config/v1/rum/agents"}},e}();r.default=y},{"./queue":"90ezX","./throttle":"iSyMU","./ndjson":"26PZX","./truncate":"a6xw1","./constants":"gxIFj","./utils":"3ibg5","./polyfills":"3JXeq","./compress":"3cT4O","../state":"KRP7C","./http/fetch":"2CqiN","./http/xhr":"h0q2X","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"90ezX":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=function(){function e(e,t){void 0===t&&(t={}),this.onFlush=e,this.items=[],this.queueLimit=t.queueLimit||-1,this.flushInterval=t.flushInterval||0,this.timeoutId=void 0}var t=e.prototype;return t._setTimer=function(){var e=this;this.timeoutId=setTimeout(function(){return e.flush()},this.flushInterval)},t._clear=function(){void 0!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.items=[]},t.flush=function(){this.onFlush(this.items),this._clear()},t.add=function(e){this.items.push(e),-1!==this.queueLimit&&this.items.length>=this.queueLimit?this.flush():void 0===this.timeoutId&&this._setTimer()},e}();r.default=n},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],iSyMU:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t,r){var n,s=this,i=r.limit,a=r.interval,o=0;return function(){return(o++,void 0===n&&(n=setTimeout(function(){o=0,n=void 0},a)),o>i&&"function"==typeof t)?t.apply(s,arguments):e.apply(s,arguments)}}n.defineInteropFlag(r),n.export(r,"default",()=>s)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"26PZX":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=function(){function e(){}return e.stringify=function(e){return JSON.stringify(e)+"\n"},e}();r.default=n},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"3cT4O":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"compressMetadata",()=>l),n.export(r,"compressTransaction",()=>u),n.export(r,"compressError",()=>p),n.export(r,"compressMetricsets",()=>d),n.export(r,"compressPayload",()=>h);var s=e("./polyfills"),i=e("../performance-monitoring/navigation/marks"),a=e("./utils");function o(e){return{ts:e.transfer_size,ebs:e.encoded_body_size,dbs:e.decoded_body_size}}function c(e){if(!e)return null;var t,r,n,s,i,a={},c=e.page,l=e.http,u=e.response,p=e.destination,d=e.user,h=e.custom;if(c&&(a.p={rf:c.referer,url:c.url}),l&&(a.h=(t={},r=l.method,n=l.status_code,s=l.url,i=l.response,t.url=s,r&&(t.mt=r),n&&(t.sc=n),i&&(t.r=o(i)),t)),u&&(a.r=o(u)),p){var m=p.service;a.dt={se:{n:m.name,t:m.type,rc:m.resource},ad:p.address,po:p.port}}return d&&(a.u={id:d.id,un:d.username,em:d.email}),h&&(a.cu=h),a}function l(e){var t=e.service,r=e.labels,n=t.agent,s=t.language;return{se:{n:t.name,ve:t.version,a:{n:n.name,ve:n.version},la:{n:s.name},en:t.environment},l:r}}function u(e){var t=e.spans.map(function(t){var r={id:t.id,n:t.name,t:t.type,s:t.start,d:t.duration,c:c(t.context),o:t.outcome,sr:t.sample_rate};return t.parent_id!==e.id&&(r.pid=t.parent_id),!0===t.sync&&(r.sy=!0),t.subtype&&(r.su=t.subtype),t.action&&(r.ac=t.action),r}),r={id:e.id,pid:e.parent_id,tid:e.trace_id,n:e.name,t:e.type,d:e.duration,c:c(e.context),k:function(e){if(!e)return null;var t=function(e){if(!e)return null;var t={};return(0,i.COMPRESSED_NAV_TIMING_MARKS).forEach(function(r,n){var s=i.NAVIGATION_TIMING_MARKS[n];t[r]=e[s]}),t}(e.navigationTiming);return{nt:t,a:function(e,t){var r={};if(e&&(r={fb:e.rs,di:e.di,dc:e.dc}),t){var n=t.firstContentfulPaint,s=t.largestContentfulPaint;n&&(r.fp=n),s&&(r.lp=s)}return 0===Object.keys(r).length?null:r}(t,e.agent)}}(e.marks),me:d(e.breakdown),y:t,yc:{sd:t.length},sm:e.sampled,sr:e.sample_rate,o:e.outcome};if(e.experience){var n=e.experience,s=n.cls,a=n.fid,o=n.tbt,l=n.longtask;r.exp={cls:s,fid:a,tbt:o,lt:l}}if(e.session){var u=e.session,p=u.id,h=u.sequence;r.ses={id:p,seq:h}}return r}function p(e){var t=e.exception,r={id:e.id,cl:e.culprit,ex:{mg:t.message,st:t.stacktrace.map(function(e){return{ap:e.abs_path,f:e.filename,fn:e.function,li:e.lineno,co:e.colno}}),t:e.type},c:c(e.context)},n=e.transaction;return n&&(r.tid=e.trace_id,r.pid=e.parent_id,r.xid=e.transaction_id,r.x={t:n.type,sm:n.sampled}),r}function d(e){return e.map(function(e){var t=e.span,r=e.samples;return{y:{t:t.type},sa:{ysc:{v:r["span.self_time.count"].value},yss:{v:r["span.self_time.sum.us"].value}}}})}function h(e,t){void 0===t&&(t="gzip");var r="function"==typeof CompressionStream;return new s.Promise(function(n){if(!r||(0,a.isBeaconInspectionEnabled)())return n(e);var s=e.payload,i=e.headers,o=e.beforeSend,c=new Blob([s]).stream().pipeThrough(new CompressionStream(t));return new Response(c).blob().then(function(e){return i["Content-Encoding"]=t,n({payload:e,headers:i,beforeSend:o})})})}},{"./polyfills":"3JXeq","../performance-monitoring/navigation/marks":"bSNS6","./utils":"3ibg5","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],bSNS6:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getPageLoadMarks",()=>o),n.export(r,"NAVIGATION_TIMING_MARKS",()=>i),n.export(r,"COMPRESSED_NAV_TIMING_MARKS",()=>a);var s=e("../../common/utils"),i=["fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],a=["fs","ls","le","cs","ce","qs","rs","re","dl","di","ds","de","dc","es","ee"];function o(e){var t=function(e){var t=e.redirectStart,r=e.fetchStart,n=e.navigationStart,a=e.responseStart,o=e.responseEnd;if(r>=n&&a>=r&&o>=a){var c={};return i.forEach(function(n){var i=e[n];i&&i>=r&&((0,s.isRedirectInfoAvailable)(e)?c[n]=parseInt(i-t):c[n]=parseInt(i-r))}),c}return null}(e);return null==t?null:{navigationTiming:t,agent:{timeToFirstByte:t.responseStart,domInteractive:t.domInteractive,domComplete:t.domComplete}}}},{"../../common/utils":"3ibg5","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],KRP7C:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"__DEV__",()=>s),n.export(r,"state",()=>i);var s=!1,i={bootstrapTime:null,lastHiddenStart:Number.MIN_SAFE_INTEGER}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"2CqiN":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"BYTE_LIMIT",()=>o),n.export(r,"shouldUseFetchWithKeepAlive",()=>c),n.export(r,"sendFetchRequest",()=>l),n.export(r,"isFetchSupported",()=>u);var s=e("../constants"),i=e("./response-status");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=6e4;function c(e,t){if(!u()||!("keepalive"in new Request("")))return!1;var r=t?t instanceof Blob?t.size:new Blob([t]).size:0;return"POST"===e&&r<o}function l(e,t,r){var n,o=r.keepalive,c=r.timeout,l=void 0===c?s.HTTP_REQUEST_TIMEOUT:c,u=r.payload,p=r.headers,d=r.sendCredentials,h={};if("function"==typeof AbortController){var m=new AbortController;h.signal=m.signal,setTimeout(function(){return m.abort()},l)}return window.fetch(t,a({body:u,headers:p,method:e,keepalive:void 0!==o&&o,credentials:d?"include":"omit"},h)).then(function(e){return(n=e).text()}).then(function(e){var r={url:t,status:n.status,responseText:e};if(!(0,i.isResponseSuccessful)(n.status))throw r;return r})}function u(){return"function"==typeof window.fetch&&"function"==typeof window.Request}},{"../constants":"gxIFj","./response-status":"7ROhj","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"7ROhj":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){return 0!==e&&(!(e>399)||!(e<600))}n.defineInteropFlag(r),n.export(r,"isResponseSuccessful",()=>s)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],h0q2X:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"sendXHR",()=>o);var s=e("../patching/patch-utils"),i=e("./response-status"),a=e("../polyfills");function o(e,t,r){var n=r.timeout,o=void 0===n?HTTP_REQUEST_TIMEOUT:n,c=r.payload,l=r.headers,u=r.beforeSend,p=r.sendCredentials;return new a.Promise(function(r,n){var a=new window.XMLHttpRequest;if(a[s.XHR_IGNORE]=!0,a.open(e,t,!0),a.timeout=o,a.withCredentials=p,l)for(var d in l)l.hasOwnProperty(d)&&a.setRequestHeader(d,l[d]);a.onreadystatechange=function(){if(4===a.readyState){var e=a.status,s=a.responseText;(0,i.isResponseSuccessful)(e)?r(a):n({url:t,status:e,responseText:s})}},a.onerror=function(){n({url:t,status:a.status,responseText:a.responseText})};var h=!0;"function"==typeof u&&(h=u({url:t,method:e,headers:l,payload:c,xhr:a})),h?a.send(c):n({url:t,status:0,responseText:"Request rejected by user configuration."})})}},{"../patching/patch-utils":"hHMrK","./response-status":"7ROhj","../polyfills":"3JXeq","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],hHMrK:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"globalState",()=>s),n.export(r,"apmSymbol",()=>i),n.export(r,"patchMethod",()=>a),n.export(r,"XHR_IGNORE",()=>o),n.export(r,"XHR_SYNC",()=>c),n.export(r,"XHR_URL",()=>l),n.export(r,"XHR_METHOD",()=>u);var s={fetchInProgress:!1};function i(e){return"__apm_symbol__"+e}function a(e,t,r){for(var n,s=e;s&&!s.hasOwnProperty(t);)s=Object.getPrototypeOf(s);!s&&e[t]&&(s=e);var a=i(t);if(s&&!(n=s[a])&&(n=s[a]=s[t],!(o=s&&Object.getOwnPropertyDescriptor(s,t))||!1!==o.writable&&!("function"==typeof o.get&&void 0===o.set))){var o,c,l,u=r(n,a,t);s[t]=function(){return u(this,arguments)},c=s[t],l=n,c[i("OriginalDelegate")]=l}return n}var o=i("xhrIgnore"),c=i("xhrSync"),l=i("xhrURL"),u=i("xhrMethod")},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],fppA3:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./utils"),i=e("./event-handler"),a=n.interopDefault(i),o=e("./constants");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var l=function(){function e(){this.config={serviceName:"",serviceVersion:"",environment:"",serverUrl:"http://localhost:8200",serverUrlPrefix:"",active:!0,instrument:!0,disableInstrumentations:[],logLevel:"warn",breakdownMetrics:!1,ignoreTransactions:[],eventsLimit:80,queueLimit:-1,flushInterval:500,distributedTracing:!0,distributedTracingOrigins:[],distributedTracingHeaderName:"traceparent",pageLoadTraceId:"",pageLoadSpanId:"",pageLoadSampled:!1,pageLoadParentId:"",pageLoadTransactionName:"",propagateTracestate:!1,transactionSampleRate:1,centralConfig:!1,monitorLongtasks:!0,apiVersion:2,context:{},session:!1,apmRequest:null,sendCredentials:!1},this.events=new a.default,this.filters=[],this.version=""}var t=e.prototype;return t.init=function(){var e=function(e){if(!e)return{};for(var t={},r=/^data-([\w-]+)$/,n=e.attributes,s=0;s<n.length;s++){var i=n[s];r.test(i.nodeName)&&(t[i.nodeName.match(r)[1].split("-").map(function(e,t){return t>0?e.charAt(0).toUpperCase()+e.substring(1):e}).join("")]=i.value||i.nodeValue)}return t}((0,s.getCurrentScript)());this.setConfig(e)},t.setVersion=function(e){this.version=e},t.addFilter=function(e){if("function"!=typeof e)throw Error("Argument to must be function");this.filters.push(e)},t.applyFilters=function(e){for(var t=0;t<this.filters.length;t++)if(!(e=this.filters[t](e)))return;return e},t.get=function(e){return e.split(".").reduce(function(e,t){return e&&e[t]},this.config)},t.setUserContext=function(e){void 0===e&&(e={});var t={},r=e,n=r.id,i=r.username,a=r.email;("number"==typeof n||"string"==typeof n)&&(t.id=n),"string"==typeof i&&(t.username=i),"string"==typeof a&&(t.email=a),this.config.context.user=(0,s.extend)(this.config.context.user||{},t)},t.setCustomContext=function(e){void 0===e&&(e={}),this.config.context.custom=(0,s.extend)(this.config.context.custom||{},e)},t.addLabels=function(e){var t=this;this.config.context.tags||(this.config.context.tags={}),Object.keys(e).forEach(function(r){return(0,s.setLabel)(r,e[r],t.config.context.tags)})},t.setConfig=function(e){void 0===e&&(e={});var t=e,r=t.transactionSampleRate,n=t.serverUrl;n&&(e.serverUrl=n.replace(/\/+$/,"")),(0,s.isUndefined)(r)||(r<1e-4&&r>0&&(r=1e-4),e.transactionSampleRate=Math.round(1e4*r)/1e4),this.config=(0,s.merge)(this.config,e),this.events.send(o.CONFIG_CHANGE,[this.config])},t.validate=function(e){void 0===e&&(e={});var t=["serviceName","serverUrl"],r=Object.keys(this.config),n={missing:[],invalid:[],unknown:[]};Object.keys(e).forEach(function(s){-1===t.indexOf(s)||e[s]||n.missing.push(s),-1===r.indexOf(s)&&n.unknown.push(s)}),e.serviceName&&!/^[a-zA-Z0-9 _-]+$/.test(e.serviceName)&&n.invalid.push({key:"serviceName",value:e.serviceName,allowed:"a-z, A-Z, 0-9, _, -, <space>"});var s=e.transactionSampleRate;return void 0!==s&&("number"!=typeof s||isNaN(s)||s<0||s>1)&&n.invalid.push({key:"transactionSampleRate",value:s,allowed:"Number between 0 and 1"}),n},t.getLocalConfig=function(){var e=sessionStorage;this.config.session&&(e=localStorage);var t=e.getItem(o.LOCAL_CONFIG_KEY);if(t)return JSON.parse(t)},t.setLocalConfig=function(e,t){if(e){if(t){var r=this.getLocalConfig();e=c({},r,e)}var n=sessionStorage;this.config.session&&(n=localStorage),n.setItem(o.LOCAL_CONFIG_KEY,JSON.stringify(e))}},t.dispatchEvent=function(e,t){this.events.send(e,t)},t.observeEvent=function(e,t){return this.events.observe(e,t)},e}();r.default=l},{"./utils":"3ibg5","./event-handler":"k8f0o","./constants":"gxIFj","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],k8f0o:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("./constants"),s=function(){function e(){this.observers={}}var t=e.prototype;return t.observe=function(e,t){var r=this;if("function"==typeof t)return this.observers[e]||(this.observers[e]=[]),this.observers[e].push(t),function(){var n=r.observers[e].indexOf(t);n>-1&&r.observers[e].splice(n,1)}},t.sendOnly=function(e,t){var r=this.observers[e];r&&r.forEach(function(e){try{e.apply(void 0,t)}catch(e){console.log(e,e.stack)}})},t.send=function(e,t){this.sendOnly(e+n.BEFORE_EVENT,t),this.sendOnly(e,t),this.sendOnly(e+n.AFTER_EVENT,t)},e}();r.default=s},{"./constants":"gxIFj","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],knvhP:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("./utils"),s=function(){function e(e){void 0===e&&(e={}),this.levels=["trace","debug","info","warn","error"],this.level=e.level||"warn",this.prefix=e.prefix||"",this.resetLogMethods()}var t=e.prototype;return t.shouldLog=function(e){return this.levels.indexOf(e)>=this.levels.indexOf(this.level)},t.setLevel=function(e){e!==this.level&&(this.level=e,this.resetLogMethods())},t.resetLogMethods=function(){var e=this;this.levels.forEach(function(t){e[t]=e.shouldLog(t)?function(){var e=t;("trace"===t||"debug"===t)&&(e="info");var r=arguments;if(r[0]=this.prefix+r[0],console){var n=console[e]||console.log;"function"==typeof n&&n.apply(console,r)}}:n.noop})},e}();r.default=s},{"./utils":"3ibg5","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"18Xmx":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"registerServices",()=>d),n.export(r,"observeUserInteractions",()=>u.observeUserInteractions),n.export(r,"reportInp",()=>p.reportInp);var s=e("./performance-monitoring"),i=n.interopDefault(s),a=e("./transaction-service"),o=n.interopDefault(a),c=e("../common/constants"),l=e("../common/service-factory"),u=e("./metrics/inp/process"),p=e("./metrics/inp/report");function d(){l.serviceCreators[c.TRANSACTION_SERVICE]=function(e){var t=e.getService([c.LOGGING_SERVICE,c.CONFIG_SERVICE]),r=t[0],n=t[1];return new o.default(r,n)},l.serviceCreators[c.PERFORMANCE_MONITORING]=function(e){var t=e.getService([c.APM_SERVER,c.CONFIG_SERVICE,c.LOGGING_SERVICE,c.TRANSACTION_SERVICE]),r=t[0],n=t[1],s=t[2],a=t[3];return new i.default(r,n,s,a)}}},{"./performance-monitoring":"ecZLP","./transaction-service":"iLtHl","../common/constants":"gxIFj","../common/service-factory":"1dqrh","./metrics/inp/process":"jda1o","./metrics/inp/report":!1,"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],ecZLP:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"groupSmallContinuouslySimilarSpans",()=>p),n.export(r,"adjustTransaction",()=>d),n.export(r,"default",()=>h);var s=e("../common/utils"),i=e("../common/url"),a=e("../common/patching"),o=e("../common/patching/patch-utils"),c=e("../common/constants"),l=e("../common/truncate"),u=e("../state");function p(e,t,r){e.sort(function(e,t){return e._start-t._start});var n=[],s=1;return e.forEach(function(i,a){if(0===n.length)n.push(i);else{var o=n[n.length-1],c=o.type===i.type&&o.subtype===i.subtype&&o.action===i.action&&o.name===i.name&&i.duration()/t<r&&(i._start-o._end)/t<r,l=e.length===a+1;c&&(s++,o._end=i._end),s>1&&(!c||l)&&(o.name=s+"x "+o.name,s=1),c||n.push(i)}}),n}function d(e){if(e.sampled){var t=e.spans.filter(function(t){return t.duration()>0&&t._start>=e._start&&t._end<=e._end});if(e.isManaged()){var r=p(t,e.duration(),.05);e.spans=r}else e.spans=t}else e.resetFields();return e}var h=function(){function e(e,t,r,n){this._apmServer=e,this._configService=t,this._logginService=r,this._transactionService=n}var t=e.prototype;return t.init=function(e){var t=this;void 0===e&&(e={}),this._configService.events.observe(c.TRANSACTION_END+c.AFTER_EVENT,function(e){var r=t.createTransactionPayload(e);r&&(t._apmServer.addTransaction(r),t._configService.dispatchEvent(c.QUEUE_ADD_TRANSACTION))}),e[c.HISTORY]&&(0,a.patchEventHandler).observe(c.HISTORY,this.getHistorySub()),e[c.XMLHTTPREQUEST]&&(0,a.patchEventHandler).observe(c.XMLHTTPREQUEST,this.getXHRSub()),e[c.FETCH]&&(0,a.patchEventHandler).observe(c.FETCH,this.getFetchSub())},t.getHistorySub=function(){var e=this._transactionService;return function(t,r){r.source===c.HISTORY&&t===c.INVOKE&&e.startTransaction(r.data.title,"route-change",{managed:!0,canReuse:!0})}},t.getXHRSub=function(){var e=this;return function(t,r){r.source!==c.XMLHTTPREQUEST||o.globalState.fetchInProgress||e.processAPICalls(t,r)}},t.getFetchSub=function(){var e=this;return function(t,r){r.source===c.FETCH&&e.processAPICalls(t,r)}},t.processAPICalls=function(e,t){var r=this._configService,n=this._transactionService;if(t.data&&t.data.url){var a=this._apmServer.getEndpoints();if(Object.keys(a).some(function(e){return -1!==t.data.url.indexOf(a[e])}))return}if(e===c.SCHEDULE&&t.data){var o=t.data,l=new i.Url(o.url),p=o.method+" "+(l.relative?l.path:(0,s.stripQueryStringFromUrl)(l.href));n.getCurrentTransaction()||n.startTransaction(p,c.HTTP_REQUEST_TYPE,{managed:!0});var d=n.startSpan(p,"external.http",{blocking:!0});if(!d)return;var h=r.get("distributedTracing"),m=r.get("distributedTracingOrigins"),f=new i.Url(window.location.href),g=(0,s.checkSameOrigin)(l.origin,f.origin)||(0,s.checkSameOrigin)(l.origin,m),v=o.target;h&&g&&v?(this.injectDtHeader(d,v),r.get("propagateTracestate")&&this.injectTSHeader(d,v)):u.__DEV__&&this._logginService.debug("Could not inject distributed tracing header to the request origin ('"+l.origin+"') from the current origin ('"+f.origin+"')"),o.sync&&(d.sync=o.sync),o.span=d}else if(e===c.INVOKE){var y=t.data;if(y&&y.span){var _,b,x=y.span,S=y.response,E=y.target;_=S?S.status:E.status,b="abort"==y.status||y.aborted?c.OUTCOME_UNKNOWN:_>=400||0==_?c.OUTCOME_FAILURE:c.OUTCOME_SUCCESS,x.outcome=b;var T=n.getCurrentTransaction();T&&T.type===c.HTTP_REQUEST_TYPE&&(T.outcome=b),n.endSpan(x,y)}}},t.injectDtHeader=function(e,t){var r=this._configService.get("distributedTracingHeaderName"),n=(0,s.getDtHeaderValue)(e);(0,s.isDtHeaderValid)(n)&&n&&r&&(0,s.setRequestHeader)(t,r,n)},t.injectTSHeader=function(e,t){var r=(0,s.getTSHeaderValue)(e);r&&(0,s.setRequestHeader)(t,"tracestate",r)},t.extractDtHeader=function(e){var t=this._configService.get("distributedTracingHeaderName");if(e)return(0,s.parseDtHeaderValue)(e[t])},t.filterTransaction=function(e){var t=e.duration();if(!t){if(u.__DEV__){var r="transaction("+e.id+", "+e.name+") was discarded! ";0===t?r+="Transaction duration is 0":r+="Transaction wasn't ended",this._logginService.debug(r)}return!1}if(e.isManaged()){if(t>6e4)return u.__DEV__&&this._logginService.debug("transaction("+e.id+", "+e.name+") was discarded! Transaction duration ("+t+") is greater than managed transaction threshold (60000)"),!1;if(e.sampled&&0===e.spans.length)return u.__DEV__&&this._logginService.debug("transaction("+e.id+", "+e.name+") was discarded! Transaction does not have any spans"),!1}return!0},t.createTransactionDataModel=function(e){var t=e._start,r=e.spans.map(function(r){var n={id:r.id,transaction_id:e.id,parent_id:r.parentId||e.id,trace_id:e.traceId,name:r.name,type:r.type,subtype:r.subtype,action:r.action,sync:r.sync,start:parseInt(r._start-t),duration:r.duration(),context:r.context,outcome:r.outcome,sample_rate:r.sampleRate};return(0,l.truncateModel)(l.SPAN_MODEL,n)}),n={id:e.id,parent_id:e.parentId,trace_id:e.traceId,session:e.session,name:e.name,type:e.type,duration:e.duration(),spans:r,context:e.context,marks:e.marks,breakdown:e.breakdownTimings,span_count:{started:r.length},sampled:e.sampled,sample_rate:e.sampleRate,experience:e.experience,outcome:e.outcome};return(0,l.truncateModel)(l.TRANSACTION_MODEL,n)},t.createTransactionPayload=function(e){var t=d(e);if(this.filterTransaction(t))return this.createTransactionDataModel(e);this._configService.dispatchEvent(c.TRANSACTION_IGNORE)},e}()},{"../common/utils":"3ibg5","../common/url":"96yBp","../common/patching":"eBY3l","../common/patching/patch-utils":"hHMrK","../common/constants":"gxIFj","../common/truncate":"a6xw1","../state":"KRP7C","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],eBY3l:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"patchAll",()=>d),n.export(r,"patchEventHandler",()=>u);var s=e("./xhr-patch"),i=e("./fetch-patch"),a=e("./history-patch"),o=e("../event-handler"),c=n.interopDefault(o),l=e("../constants"),u=new c.default,p=!1;function d(){return p||(p=!0,(0,s.patchXMLHttpRequest)(function(e,t){u.send(l.XMLHTTPREQUEST,[e,t])}),(0,i.patchFetch)(function(e,t){u.send(l.FETCH,[e,t])}),(0,a.patchHistory)(function(e,t){u.send(l.HISTORY,[e,t])})),u}},{"./xhr-patch":"70Hy2","./fetch-patch":"5kvnE","./history-patch":"ebwr3","../event-handler":"k8f0o","../constants":"gxIFj","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"70Hy2":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"patchXMLHttpRequest",()=>a);var s=e("./patch-utils"),i=e("../constants");function a(e){var t=XMLHttpRequest.prototype;if(t&&t[i.ADD_EVENT_LISTENER_STR])var r="readystatechange",n="load",a="error",o=(0,s.patchMethod)(t,"open",function(){return function(e,t){return e[s.XHR_IGNORE]||(e[s.XHR_METHOD]=t[0],e[s.XHR_URL]=t[1],e[s.XHR_SYNC]=!1===t[2]),o.apply(e,t)}}),c=(0,s.patchMethod)(t,"send",function(){return function(t,o){if(t[s.XHR_IGNORE])return c.apply(t,o);var u={source:i.XMLHTTPREQUEST,state:"",type:"macroTask",data:{target:t,method:t[s.XHR_METHOD],sync:t[s.XHR_SYNC],url:t[s.XHR_URL],status:""}};try{return function(t){if(t.state!==i.SCHEDULE){t.state=i.SCHEDULE,e(i.SCHEDULE,t);var s=t.data.target;o(r),o(n),o("timeout"),o(a),o("abort")}function o(e){s[0,i.ADD_EVENT_LISTENER_STR](e,function(e){var i=e.type;i===r?4===s.readyState&&0!==s.status&&l(t,"success"):l(t,i===n?"success":i)})}}(u),c.apply(t,o)}catch(e){throw l(u,a),e}}});function l(t,r){t.state!==i.INVOKE&&(t.state=i.INVOKE,t.data.status=r,e(i.INVOKE,t))}}},{"./patch-utils":"hHMrK","../constants":"gxIFj","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"5kvnE":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"patchFetch",()=>l);var s=e("../polyfills"),i=e("./patch-utils"),a=e("../constants"),o=e("../utils"),c=e("../http/fetch");function l(e){if((0,c.isFetchSupported)()){var t=window.fetch;window.fetch=function(c,l){var u,p,d=this,h=arguments,m=c instanceof URL;if("string"==typeof c||m)u=new Request(c,l),p=m?u.url:c;else{if(!c)return t.apply(d,h);p=(u=c).url}var f={source:a.FETCH,state:"",type:"macroTask",data:{target:u,method:u.method,url:p,aborted:!1}};return new s.Promise(function(s,c){var l;i.globalState.fetchInProgress=!0,f.state=a.SCHEDULE,e(a.SCHEDULE,f);try{l=t.apply(d,[u])}catch(e){c(e),f.data.error=e,r(f),i.globalState.fetchInProgress=!1;return}l.then(function(e){var t=e.clone?e.clone():{};s(e),(0,o.scheduleMicroTask)(function(){f.data.response=e;var s,i=t.body;i?(s=i.getReader(),function e(){s.read().then(function(t){t.done?r(f):e()},function(e){n(f,e)})}()):r(f)})},function(e){c(e),(0,o.scheduleMicroTask)(function(){n(f,e)})}),i.globalState.fetchInProgress=!1})}}function r(t){t.state=a.INVOKE,e(a.INVOKE,t)}function n(e,t){e.data.aborted=t&&"AbortError"===t.name,e.data.error=t,r(e)}}},{"../polyfills":"3JXeq","./patch-utils":"hHMrK","../constants":"gxIFj","../utils":"3ibg5","../http/fetch":"2CqiN","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],ebwr3:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"patchHistory",()=>i);var s=e("../constants");function i(e){if(window.history){var t=history.pushState;"function"==typeof t&&(history.pushState=function(r,n,i){var a={source:s.HISTORY,data:{state:r,title:n,url:i}};e(s.INVOKE,a),t.apply(this,arguments)})}}},{"../constants":"gxIFj","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],iLtHl:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../common/polyfills"),i=e("./transaction"),a=n.interopDefault(i),o=e("./metrics/metrics"),c=e("../common/utils"),l=e("./navigation/capture-navigation"),u=e("../common/constants"),p=e("../common/context"),d=e("../state"),h=e("../common/url"),m=function(){function e(e,t){var r=this;this._config=t,this._logger=e,this.currentTransaction=void 0,this.respIntervalId=void 0,this.recorder=new o.PerfEntryRecorder(function(e){var t=r.getCurrentTransaction();if(t&&t.captureTimings){var n,s=t.type===u.PAGE_LOAD,i=(0,o.captureObserverEntries)(e,{isHardNavigation:s,trStart:s?0:t._start}),a=i.spans,c=i.marks;(n=t.spans).push.apply(n,a),t.addMarks({agent:c})}})}var t=e.prototype;return t.createCurrentTransaction=function(e,t,r){var n=new a.default(e,t,r);return this.currentTransaction=n,n},t.getCurrentTransaction=function(){if(this.currentTransaction&&!this.currentTransaction.ended)return this.currentTransaction},t.createOptions=function(e){var t=this._config.config,r={transactionSampleRate:t.transactionSampleRate},n=(0,c.extend)(r,e);return n.managed&&(n=(0,c.extend)({pageLoadTraceId:t.pageLoadTraceId,pageLoadSampled:t.pageLoadSampled,pageLoadSpanId:t.pageLoadSpanId,pageLoadTransactionName:t.pageLoadTransactionName,pageLoadParentId:t.pageLoadParentId},n)),n},t.startManagedTransaction=function(e,t,r){var n=this.getCurrentTransaction(),s=!1;if(n){if(n.canReuse()&&r.canReuse){var i=n.type,a=(0,u.TRANSACTION_TYPE_ORDER).indexOf(n.type),o=(0,u.TRANSACTION_TYPE_ORDER).indexOf(t);a>=0&&o<a&&(i=t),d.__DEV__&&this._logger.debug("redefining transaction("+n.id+", "+n.name+", "+n.type+")","to","("+(e||n.name)+", "+i+")",n),n.redefine(e,i,r),s=!0}else d.__DEV__&&this._logger.debug("ending previous transaction("+n.id+", "+n.name+")",n),n.end(),n=this.createCurrentTransaction(e,t,r)}else n=this.createCurrentTransaction(e,t,r);return n.type===u.PAGE_LOAD&&(s||(this.recorder.start(u.LARGEST_CONTENTFUL_PAINT),this.recorder.start(u.PAINT),this.recorder.start(u.FIRST_INPUT),this.recorder.start(u.LAYOUT_SHIFT)),r.pageLoadTraceId&&(n.traceId=r.pageLoadTraceId),r.pageLoadSampled&&(n.sampled=r.pageLoadSampled),n.name===u.NAME_UNKNOWN&&r.pageLoadTransactionName&&(n.name=r.pageLoadTransactionName)),!s&&this._config.get("monitorLongtasks")&&this.recorder.start(u.LONG_TASK),n.sampled&&(n.captureTimings=!0),n},t.startTransaction=function(e,t,r){var n,s=this,i=this.createOptions(r),o=!0;return i.managed?this.currentTransaction===(n=this.startManagedTransaction(e,t,i))&&(o=!1):n=new a.default(e,t,i),n.onEnd=function(){return s.handleTransactionEnd(n)},o&&(d.__DEV__&&this._logger.debug("startTransaction("+n.id+", "+n.name+", "+n.type+")"),this._config.events.send(u.TRANSACTION_START,[n])),n},t.handleTransactionEnd=function(e){var t=this;this.recorder.stop();var r=window.location.href;return(0,s.Promise).resolve().then(function(){var n=e.name,s=e.type;if(d.state.lastHiddenStart>=e._start){d.__DEV__&&t._logger.debug("transaction("+e.id+", "+n+", "+s+") was discarded! The page was hidden during the transaction!"),t._config.dispatchEvent(u.TRANSACTION_IGNORE);return}if(t.shouldIgnoreTransaction(n)||s===u.TEMPORARY_TYPE){d.__DEV__&&t._logger.debug("transaction("+e.id+", "+n+", "+s+") is ignored"),t._config.dispatchEvent(u.TRANSACTION_IGNORE);return}if(s===u.PAGE_LOAD){var i=t._config.get("pageLoadTransactionName");if(n===u.NAME_UNKNOWN&&i&&(e.name=i),e.captureTimings){var a=o.metrics.cls,m=o.metrics.fid,f=o.metrics.tbt,g=o.metrics.longtask;f.duration>0&&e.spans.push((0,o.createTotalBlockingTimeSpan)(f)),e.experience={},(0,c.isPerfTypeSupported)(u.LONG_TASK)&&(e.experience.tbt=f.duration),(0,c.isPerfTypeSupported)(u.LAYOUT_SHIFT)&&(e.experience.cls=a.score),m>0&&(e.experience.fid=m),g.count>0&&(e.experience.longtask={count:g.count,sum:g.duration,max:g.max})}t.setSession(e)}e.name===u.NAME_UNKNOWN&&(e.name=(0,h.slugifyUrl)(r)),(0,l.captureNavigation)(e),t.adjustTransactionTime(e),t._config.get("breakdownMetrics")&&e.captureBreakdown();var v=t._config.get("context");(0,p.addTransactionContext)(e,v),t._config.events.send(u.TRANSACTION_END,[e]),d.__DEV__&&t._logger.debug("end transaction("+e.id+", "+e.name+", "+e.type+")",e)},function(r){d.__DEV__&&t._logger.debug("error ending transaction("+e.id+", "+e.name+")",r)})},t.setSession=function(e){var t=this._config.get("session");if(t){"boolean"==typeof t?e.session={id:(0,c.generateRandomId)(16),sequence:1}:t.timestamp&&Date.now()-t.timestamp>u.SESSION_TIMEOUT?e.session={id:(0,c.generateRandomId)(16),sequence:1}:e.session={id:t.id,sequence:t.sequence?t.sequence+1:1};var r={session:{id:e.session.id,sequence:e.session.sequence,timestamp:Date.now()}};this._config.setConfig(r),this._config.setLocalConfig(r,!0)}},t.adjustTransactionTime=function(e){var t=e.spans,r=(0,c.getEarliestSpan)(t);r&&r._start<e._start&&(e._start=r._start);var n=((0,c.getLatestNonXHRSpan)(t)||{})._end||0;if(e.type===u.PAGE_LOAD){var s=e._end-u.PAGE_LOAD_DELAY,i=o.metrics.lcp||0,a=((0,c.getLatestXHRSpan)(t)||{})._end||0;e._end=Math.max(n,a,i,s)}else n>e._end&&(e._end=n);this.truncateSpans(t,e._end)},t.truncateSpans=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];n._end>t&&(n._end=t,n.type+=u.TRUNCATED_TYPE),n._start>t&&(n._start=t)}},t.shouldIgnoreTransaction=function(e){var t=this._config.get("ignoreTransactions");if(t&&t.length)for(var r=0;r<t.length;r++){var n=t[r];if("function"==typeof n.test){if(n.test(e))return!0}else if(n===e)return!0}return!1},t.startSpan=function(e,t,r){var n=this.getCurrentTransaction();n||(n=this.createCurrentTransaction(void 0,u.TEMPORARY_TYPE,this.createOptions({canReuse:!0,managed:!0})));var s=n.startSpan(e,t,r);return d.__DEV__&&this._logger.debug("startSpan("+e+", "+s.type+")","on transaction("+n.id+", "+n.name+")"),s},t.endSpan=function(e,t){if(e){if(d.__DEV__){var r=this.getCurrentTransaction();r&&this._logger.debug("endSpan("+e.name+", "+e.type+")","on transaction("+r.id+", "+r.name+")")}e.end(null,t)}},e}();r.default=m},{"../common/polyfills":"3JXeq","./transaction":"hqmMA","./metrics/metrics":"iClHX","../common/utils":"3ibg5","./navigation/capture-navigation":"9Ak16","../common/constants":"gxIFj","../common/context":"5MI8q","../state":"KRP7C","../common/url":"96yBp","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],hqmMA:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./span"),i=n.interopDefault(s),a=e("./span-base"),o=n.interopDefault(a),c=e("../common/utils"),l=e("../common/constants"),u=e("./breakdown");function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(t,r,n){var s;return(s=e.call(this,t,r,n)||this).traceId=(0,c.generateRandomId)(),s.marks=void 0,s.spans=[],s._activeSpans={},s._activeTasks=new Set,s.blocked=!1,s.captureTimings=!1,s.breakdownTimings=[],s.sampleRate=s.options.transactionSampleRate,s.sampled=Math.random()<=s.sampleRate,s}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,p(t,e);var r=t.prototype;return r.addMarks=function(e){this.marks=(0,c.merge)(this.marks||{},e)},r.mark=function(e){var t=(0,c.removeInvalidChars)(e),r=(0,c.now)()-this._start,n={};n[t]=r,this.addMarks({custom:n})},r.canReuse=function(){var e=this.options.reuseThreshold||l.REUSABILITY_THRESHOLD;return!!this.options.canReuse&&!this.ended&&(0,c.now)()-this._start<e},r.redefine=function(e,t,r){e&&(this.name=e),t&&(this.type=t),r&&(this.options.reuseThreshold=r.reuseThreshold,this.options=(0,c.extend)(this.options,r))},r.startSpan=function(e,t,r){var n=this;if(!this.ended){var s=(0,c.extend)({},r);s.onEnd=function(e){n._onSpanEnd(e)},s.traceId=this.traceId,s.sampled=this.sampled,s.sampleRate=this.sampleRate,s.parentId||(s.parentId=this.id);var a=new i.default(e,t,s);return this._activeSpans[a.id]=a,s.blocking&&this.addTask(a.id),a}},r.isFinished=function(){return!this.blocked&&0===this._activeTasks.size},r.detectFinish=function(){this.isFinished()&&this.end()},r.end=function(e){if(!this.ended){for(var t in this.ended=!0,this._end=(0,c.getTime)(e),this._activeSpans){var r=this._activeSpans[t];r.type=r.type+l.TRUNCATED_TYPE,r.end(e)}this.callOnEnd()}},r.captureBreakdown=function(){this.breakdownTimings=(0,u.captureBreakdown)(this)},r.block=function(e){this.blocked=e,this.blocked||this.detectFinish()},r.addTask=function(e){return e||(e="task-"+(0,c.generateRandomId)(16)),this._activeTasks.add(e),e},r.removeTask=function(e){this._activeTasks.delete(e)&&this.detectFinish()},r.resetFields=function(){this.spans=[],this.sampleRate=0},r._onSpanEnd=function(e){this.spans.push(e),delete this._activeSpans[e.id],this.removeTask(e.id)},r.isManaged=function(){return!!this.options.managed},t}(o.default);r.default=d},{"./span":"chMpq","./span-base":"jw306","../common/utils":"3ibg5","../common/constants":"gxIFj","./breakdown":"gjRdk","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],chMpq:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./span-base"),i=n.interopDefault(s),a=e("../common/context");function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(t,r,n){var s;if((s=e.call(this,t,r,n)||this).parentId=s.options.parentId,s.subtype=void 0,s.action=void 0,-1!==s.type.indexOf(".")){var i=s.type.split(".",3);s.type=i[0],s.subtype=i[1],s.action=i[2]}return s.sync=s.options.sync,s}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e),t.prototype.end=function(t,r){e.prototype.end.call(this,t),(0,a.addSpanContext)(this,r)},t}(i.default);r.default=c},{"./span-base":"jw306","../common/context":"5MI8q","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],jw306:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("../common/utils"),s=e("../common/constants"),i=function(){function e(e,t,r){void 0===r&&(r={}),e||(e=s.NAME_UNKNOWN),t||(t=s.TYPE_CUSTOM),this.name=e,this.type=t,this.options=r,this.id=r.id||(0,n.generateRandomId)(16),this.traceId=r.traceId,this.sampled=r.sampled,this.sampleRate=r.sampleRate,this.timestamp=r.timestamp,this._start=(0,n.getTime)(r.startTime),this._end=void 0,this.ended=!1,this.outcome=void 0,this.onEnd=r.onEnd}var t=e.prototype;return t.ensureContext=function(){this.context||(this.context={})},t.addLabels=function(e){this.ensureContext();var t=this.context;t.tags||(t.tags={}),Object.keys(e).forEach(function(r){return(0,n.setLabel)(r,e[r],t.tags)})},t.addContext=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];0!==t.length&&(this.ensureContext(),this.context=(0,n.merge).apply(void 0,[this.context].concat(t)))},t.end=function(e){this.ended||(this.ended=!0,this._end=(0,n.getTime)(e),this.callOnEnd())},t.callOnEnd=function(){"function"==typeof this.onEnd&&this.onEnd(this)},t.duration=function(){return(0,n.getDuration)(this._start,this._end)},e}();r.default=i},{"../common/utils":"3ibg5","../common/constants":"gxIFj","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],gjRdk:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"captureBreakdown",()=>c);var s=e("../common/utils"),i=e("../common/constants"),a=[["domainLookupStart","domainLookupEnd","DNS"],["connectStart","connectEnd","TCP"],["requestStart","responseStart","Request"],["responseStart","responseEnd","Response"],["domLoading","domComplete","Processing"],["loadEventStart","loadEventEnd","Load"]];function o(e,t){var r=t.details,n=t.count;return{transaction:e,span:r,samples:{"span.self_time.count":{value:void 0===n?1:n},"span.self_time.sum.us":{value:1e3*t.duration}}}}function c(e,t){void 0===t&&(t=s.PERF.timing);var r=[],n=e.name,c=e.type,l=e.sampled,u={name:n,type:c};if(!l)return r;if(c===i.PAGE_LOAD&&t)for(var p=0;p<a.length;p++){var d=a[p],h=t[d[0]],m=t[d[1]],f=(0,s.getDuration)(h,m);0!==f&&null!=f&&r.push(o(u,{details:{type:d[2]},duration:f}))}else{var g=function(e){var t={},r=function(e){var t=e.spans,r=e._start,n=e._end;if(0===t.length)return e.duration();t.sort(function(e,t){return e._start-t._start});for(var s=t[0],i=s._end,a=s._start,o=i,c=a-r,l=1;l<t.length;l++)a=(s=t[l])._start,i=s._end,a>o?(c+=a-o,o=i):i>o&&(o=i);return o<n&&(c+=n-o),c}(e);t.app={count:1,duration:r};for(var n=e.spans,s=0;s<n.length;s++){var a=n[s],o=a.duration();if(0!==o&&null!=o){var c=a.type,l=a.subtype,u=c.replace(i.TRUNCATED_TYPE,"");l&&(u+="."+l),t[u]||(t[u]={duration:0,count:0}),t[u].count++,t[u].duration+=o}}return t}(e);Object.keys(g).forEach(function(e){var t=e.split("."),n=t[0],s=t[1],i=g[e],a=i.duration,c=i.count;r.push(o(u,{details:{type:n,subtype:s},duration:a,count:c}))})}return r}},{"../common/utils":"3ibg5","../common/constants":"gxIFj","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],iClHX:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"metrics",()=>l),n.export(r,"createLongTaskSpans",()=>u),n.export(r,"createFirstInputDelaySpan",()=>p),n.export(r,"createTotalBlockingTimeSpan",()=>d),n.export(r,"calculateTotalBlockingTime",()=>h),n.export(r,"calculateCumulativeLayoutShift",()=>m),n.export(r,"captureObserverEntries",()=>f),n.export(r,"PerfEntryRecorder",()=>g);var s=e("../../common/constants"),i=e("../../common/utils"),a=e("../span"),o=n.interopDefault(a);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var l={fid:0,fcp:0,tbt:{start:1/0,duration:0},cls:{score:0,firstEntryTime:Number.NEGATIVE_INFINITY,prevEntryTime:Number.NEGATIVE_INFINITY,currentSessionScore:0},longtask:{count:0,duration:0,max:0}};function u(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n],a=i.name,c=i.startTime,l=i.duration,u=i.attribution,p=c+l,d=new o.default("Longtask("+a+")",s.LONG_TASK,{startTime:c});if(t.count++,t.duration+=l,t.max=Math.max(l,t.max),u.length>0){var h=u[0],m=h.name,f=h.containerType,g=h.containerName,v=h.containerId,y={attribution:m,type:f};g&&(y.name=g),v&&(y.id=v),d.addContext({custom:y})}d.end(p),r.push(d)}return r}function p(e){var t=e[0];if(t){var r=t.startTime,n=t.processingStart,i=new o.default("First Input Delay",s.FIRST_INPUT,{startTime:r});return i.end(n),i}}function d(e){var t=e.start,r=e.duration,n=new o.default("Total Blocking Time",s.LONG_TASK,{startTime:t});return n.end(t+r),n}function h(e){e.forEach(function(e){var t=e.name,r=e.startTime,n=e.duration;if(!(r<l.fcp)&&("self"===t||-1!==t.indexOf("same-origin"))){l.tbt.start=Math.min(l.tbt.start,r);var s=n-50;s>0&&(l.tbt.duration+=s)}})}function m(e){e.forEach(function(e){!e.hadRecentInput&&e.value&&((e.startTime-l.cls.firstEntryTime>5e3||e.startTime-l.cls.prevEntryTime>1e3)&&(l.cls.firstEntryTime=e.startTime,l.cls.currentSessionScore=0),l.cls.prevEntryTime=e.startTime,l.cls.currentSessionScore+=e.value,l.cls.score=Math.max(l.cls.score,l.cls.currentSessionScore))})}function f(e,t){var r=t.isHardNavigation,n=t.trStart,a=e.getEntriesByType(s.LONG_TASK).filter(function(e){return e.startTime>=n}),o={spans:u(a,l.longtask),marks:{}};if(!r)return o;var c=e.getEntriesByType(s.LARGEST_CONTENTFUL_PAINT),d=c[c.length-1];if(d){var f=parseInt(d.startTime);l.lcp=f,o.marks.largestContentfulPaint=f}var g=i.PERF.timing,v=g.fetchStart-g.navigationStart;(0,i.isRedirectInfoAvailable)(g)&&(v=0);var y=e.getEntriesByName(s.FIRST_CONTENTFUL_PAINT)[0];if(y){var _=parseInt(v>=0?y.startTime-v:y.startTime);l.fcp=_,o.marks.firstContentfulPaint=_}var b=p(e.getEntriesByType(s.FIRST_INPUT));return b&&(l.fid=b.duration(),o.spans.push(b)),h(a),m(e.getEntriesByType(s.LAYOUT_SHIFT)),o}var g=function(){function e(e){this.po={observe:i.noop,disconnect:i.noop},window.PerformanceObserver&&(this.po=new PerformanceObserver(e))}var t=e.prototype;return t.start=function(e,t){void 0===t&&(t={buffered:!0});try{if(!(0,i.isPerfTypeSupported)(e))return;this.po.observe(c({type:e},t))}catch(e){}},t.stop=function(){this.po.disconnect()},e}()},{"../../common/constants":"gxIFj","../../common/utils":"3ibg5","../span":"chMpq","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"9Ak16":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"captureNavigation",()=>p),n.export(r,"createNavigationTimingSpans",()=>o.createNavigationTimingSpans),n.export(r,"createResourceTimingSpans",()=>l.createResourceTimingSpans),n.export(r,"createUserTimingSpans",()=>c.createUserTimingSpans),n.export(r,"getPageLoadMarks",()=>u.getPageLoadMarks);var s=e("../../common/utils"),i=e("../../common/constants"),a=e("../../state"),o=e("./navigation-timing"),c=e("./user-timing"),l=e("./resource-timing"),u=e("./marks");function p(e){if(!e.captureTimings){e.type===i.PAGE_LOAD&&(e._start=0);return}var t=e._end;if(e.type===i.PAGE_LOAD){if(e.marks&&e.marks.custom){var r=e.marks.custom;Object.keys(r).forEach(function(t){r[t]+=e._start})}e._start=0;var n=s.PERF.timing,p=(0,s.isRedirectInfoAvailable)(n)?n.redirectStart:n.fetchStart;(0,o.createNavigationTimingSpans)(n,p,0,t).forEach(function(t){t.traceId=e.traceId,t.sampled=e.sampled,t.pageResponse&&e.options.pageLoadSpanId&&(t.id=e.options.pageLoadSpanId),e.spans.push(t)}),e.options.pageLoadParentId&&(e.parentId=e.options.pageLoadParentId),e.addMarks((0,u.getPageLoadMarks)(n))}if((0,s.isPerfTimelineSupported)()){var d=e._start,h=(0,s.PERF).getEntriesByType(i.RESOURCE);(0,l.createResourceTimingSpans)(h,a.state.bootstrapTime,d,t).forEach(function(t){return e.spans.push(t)});var m=(0,s.PERF).getEntriesByType(i.MEASURE);(0,c.createUserTimingSpans)(m,d,t).forEach(function(t){return e.spans.push(t)})}}},{"../../common/utils":"3ibg5","../../common/constants":"gxIFj","../../state":"KRP7C","./navigation-timing":"jFxO0","./user-timing":"8impx","./resource-timing":"7bECx","./marks":"bSNS6","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],jFxO0:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"createNavigationTimingSpans",()=>c);var s=e("./utils"),i=e("../span"),a=n.interopDefault(i),o=[["redirectStart","redirectEnd","Redirect"],["domainLookupStart","domainLookupEnd","Domain lookup"],["connectStart","connectEnd","Making a connection to the server"],["requestStart","responseEnd","Requesting and receiving the document"],["domLoading","domInteractive","Parsing the document, executing sync. scripts"],["domContentLoadedEventStart","domContentLoadedEventEnd",'Fire "DOMContentLoaded" event'],["loadEventStart","loadEventEnd",'Fire "load" event']];function c(e,t,r,n){for(var i=[],c=0;c<o.length;c++){var l=e[o[c][0]],u=e[o[c][1]];if((0,s.shouldCreateSpan)(l,u,r,n,t)){var p=new a.default(o[c][2],"hard-navigation.browser-timing"),d=null;"requestStart"===o[c][0]&&(p.pageResponse=!0,d={url:location.origin}),p._start=l-t,p.end(u-t,d),i.push(p)}}return i}},{"./utils":"e15SH","../span":"chMpq","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],e15SH:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"shouldCreateSpan",()=>i);var s=e("../../common/constants");function i(e,t,r,n,i){return void 0===i&&(i=0),"number"==typeof e&&"number"==typeof t&&e>=i&&t>e&&e-i>=r&&t-i<=n&&t-e<s.MAX_SPAN_DURATION&&e-i<s.MAX_SPAN_DURATION&&t-i<s.MAX_SPAN_DURATION}},{"../../common/constants":"gxIFj","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"8impx":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"createUserTimingSpans",()=>c);var s=e("../../common/constants"),i=e("./utils"),a=e("../span"),o=n.interopDefault(a);function c(e,t,r){for(var n=[],a=0;a<e.length;a++){var c=e[a],l=c.name,u=c.startTime,p=c.duration,d=u+p;if(!(p<=s.USER_TIMING_THRESHOLD)&&(0,i.shouldCreateSpan)(u,d,t,r)){var h=new o.default(l,"app");h._start=u,h.end(d),n.push(h)}}return n}},{"../../common/constants":"gxIFj","./utils":"e15SH","../span":"chMpq","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"7bECx":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"createResourceTimingSpans",()=>l);var s=e("../../common/utils"),i=e("./utils"),a=e("../../common/constants"),o=e("../span"),c=n.interopDefault(o);function l(e,t,r,n){for(var o=[],l=0;l<e.length;l++){var u=e[l],p=u.initiatorType,d=u.name,h=u.startTime,m=u.responseEnd;-1!==(0,a.RESOURCE_INITIATOR_TYPES).indexOf(p)&&null!=d&&!(("xmlhttprequest"===p||"fetch"===p)&&(/intake\/v\d+\/rum\/events/.test(d)||null!=t&&h>t))&&(0,i.shouldCreateSpan)(h,m,r,n)&&o.push(function(e){var t=e.name,r=e.initiatorType,n=e.startTime,i=e.responseEnd,a="resource";r&&(a+="."+r);var o=(0,s.stripQueryStringFromUrl)(t),l=new c.default(o,a);return l._start=n,l.end(i,{url:t,entry:e}),l}(e[l]))}return o}},{"../../common/utils":"3ibg5","./utils":"e15SH","../../common/constants":"gxIFj","../span":"chMpq","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],jda1o:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"inpState",()=>o),n.export(r,"observeUserInteractions",()=>c),n.export(r,"processUserInteractions",()=>l),n.export(r,"calculateInp",()=>u),n.export(r,"interactionCount",()=>p),n.export(r,"restoreINPState",()=>d);var s=e("../../../common/constants"),i=e("../../../common/utils"),a=e("../metrics"),o={minInteractionId:1/0,maxInteractionId:0,interactionCount:0,longestInteractions:[]};function c(e){void 0===e&&(e=new a.PerfEntryRecorder(l));var t=(0,i.isPerfInteractionCountSupported)();e.start(s.EVENT,{buffered:!0,durationThreshold:t?40:16}),t||e.start(s.FIRST_INPUT)}function l(e){e.getEntries().forEach(function(e){if(e.interactionId)(0,i.isPerfInteractionCountSupported)()||(o.minInteractionId=Math.min(o.minInteractionId,e.interactionId),o.maxInteractionId=Math.max(o.maxInteractionId,e.interactionId),o.interactionCount=(o.maxInteractionId-o.minInteractionId)/7+1),e.duration<40||function(e){var t=o.longestInteractions[o.longestInteractions.length-1];if(void 0===t||!(e.duration<=t.duration)||e.interactionId==t.id){var r=o.longestInteractions.filter(function(t){return t.id===e.interactionId});if(r.length>0){var n=r[0];n.duration=Math.max(n.duration,e.duration)}else o.longestInteractions.push({id:e.interactionId,duration:e.duration});o.longestInteractions.sort(function(e,t){return t.duration-e.duration}),o.longestInteractions.splice(10)}}(e)})}function u(){if(0===o.longestInteractions.length)return p()>0?0:void 0;var e=Math.min(o.longestInteractions.length-1,Math.floor(p()/50));return o.longestInteractions[e].duration}function p(){return performance.interactionCount||o.interactionCount}function d(){o.minInteractionId=1/0,o.maxInteractionId=0,o.interactionCount=0,o.longestInteractions=[]}},{"../../../common/constants":"gxIFj","../../../common/utils":"3ibg5","../metrics":"iClHX","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],iKgNR:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"reportInp",()=>o);var s=e("./process"),i=e("../../../common/utils"),a=e("../../../common/constants");function o(e){var t=(0,s.calculateInp)();if(t>=0){var r=(0,i.now)(),n=e.startTransaction(a.PAGE_EXIT,a.PAGE_EXIT,{startTime:r}),o=performance.getEntriesByType("navigation");if(o.length>0){var c=o[0].name;n.addContext({page:{url:c}})}return n.addLabels({inp_value:t}),n.end(r+t+1),(0,s.restoreINPState)(),n}}},{"./process":"jda1o","../../../common/utils":"3ibg5","../../../common/constants":"gxIFj","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],cVBqO:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"observePageVisibility",()=>s.observePageVisibility),n.export(r,"observePageClicks",()=>i.observePageClicks);var s=e("./page-visibility"),i=e("./page-clicks")},{"./page-visibility":"ivzZK","./page-clicks":"knKaQ","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],ivzZK:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"observePageVisibility",()=>c);var s=e("../constants"),i=e("../../state"),a=e("../utils"),o=e("../../performance-monitoring/metrics/inp/report");function c(e,t){"hidden"===document.visibilityState&&(i.state.lastHiddenStart=0);var r=function(){"hidden"===document.visibilityState&&l(e,t)},n=function(){return l(e,t)};return window.addEventListener("visibilitychange",r,!0),window.addEventListener("pagehide",n,!0),function(){window.removeEventListener("visibilitychange",r,!0),window.removeEventListener("pagehide",n,!0)}}function l(e,t){if((0,o.reportInp)(t))var r=e.observeEvent(s.QUEUE_ADD_TRANSACTION,function(){u(e,t),r()});else u(e,t)}function u(e,t){var r=t.getCurrentTransaction();if(r){var n=e.observeEvent(s.TRANSACTION_IGNORE,function(){i.state.lastHiddenStart=(0,a.now)(),n(),o()}),o=e.observeEvent(s.QUEUE_ADD_TRANSACTION,function(){e.dispatchEvent(s.QUEUE_FLUSH),i.state.lastHiddenStart=(0,a.now)(),o(),n()});r.end()}else e.dispatchEvent(s.QUEUE_FLUSH),i.state.lastHiddenStart=(0,a.now)()}},{"../constants":"gxIFj","../../state":"KRP7C","../utils":"3ibg5","../../performance-monitoring/metrics/inp/report":"iKgNR","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],knKaQ:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"observePageClicks",()=>i);var s=e("../constants");function i(e){var t=function(t){var r,n,i,a,o,c,l;t.target instanceof Element&&(o=(r=t.target,(n={transactionName:null,context:null}).transactionName=function(e){var t=function(e){var t="data-transaction-name",r=e.getAttribute(t);if(e.closest){var n=e.closest("a[data-transaction-name], button[data-transaction-name]");return n?n.getAttribute(t):r}return r}(e);if(t)return t;var r=e.tagName.toLowerCase(),n=e.getAttribute("name");return n?r+'["'+n+'"]':r}(r),(i=r.getAttribute("class"))&&(n.context={custom:{classes:i}}),a=n).transactionName,c=a.context,(l=e.startTransaction("Click - "+o,s.USER_INTERACTION,{managed:!0,canReuse:!0,reuseThreshold:300}))&&c&&l.addContext(c))},r="click";return window.addEventListener(r,t,!0),function(){window.removeEventListener(r,t,!0)}}},{"../constants":"gxIFj","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],lAinX:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getInstrumentationFlags",()=>i);var s=e("./constants");function i(e,t){var r,n=((r={})[s.XMLHTTPREQUEST]=!1,r[s.FETCH]=!1,r[s.HISTORY]=!1,r[s.PAGE_LOAD]=!1,r[s.ERROR]=!1,r[s.EVENT_TARGET]=!1,r[s.CLICK]=!1,r);return e&&Object.keys(n).forEach(function(e){-1===t.indexOf(e)&&(n[e]=!0)}),n}},{"./constants":"gxIFj","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],hHkzr:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"bootstrap",()=>c);var s=e("./common/utils"),i=e("./common/patching"),a=e("./state"),o=!1;function c(){return(0,s.isPlatformSupported)()?((0,i.patchAll)(),a.state.bootstrapTime=(0,s.now)(),o=!0):s.isBrowser&&console.log("[Elastic APM] platform is not supported!"),o}},{"./common/utils":"3ibg5","./common/patching":"eBY3l","./state":"KRP7C","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],b34zx:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"default",()=>i);var s=e("@elastic/apm-rum-core"),i=function(){function e(e,t){this._disable=t,this.serviceFactory=e,this._initialized=!1}var t=e.prototype;return t.isEnabled=function(){return!this._disable},t.isActive=function(){var e=this.serviceFactory.getService(s.CONFIG_SERVICE);return this.isEnabled()&&this._initialized&&e.get("active")},t.init=function(e){var t=this;if(this.isEnabled()&&!this._initialized){this._initialized=!0;var r=this.serviceFactory.getService([s.CONFIG_SERVICE,s.LOGGING_SERVICE,s.TRANSACTION_SERVICE]),n=r[0],i=r[1],a=r[2];n.setVersion("5.17.0"),this.config(e);var o=n.get("logLevel");if(i.setLevel(o),n.get("active")){this.serviceFactory.init();var c=(0,s.getInstrumentationFlags)(n.get("instrument"),n.get("disableInstrumentations"));if(this.serviceFactory.getService(s.PERFORMANCE_MONITORING).init(c),c[s.ERROR]&&this.serviceFactory.getService(s.ERROR_LOGGING).registerListeners(),n.get("session")){var l=n.getLocalConfig();l&&l.session&&n.setConfig({session:l.session})}var u=function(){return c[s.PAGE_LOAD]&&t._sendPageLoadMetrics()};n.get("centralConfig")?this.fetchCentralConfig().then(u):u(),(0,s.observePageVisibility)(n,a),c[s.EVENT_TARGET]&&c[s.CLICK]&&(0,s.observePageClicks)(a),(0,s.observeUserInteractions)()}else this._disable=!0,i.warn("RUM agent is inactive")}return this},t.fetchCentralConfig=function(){var e=this.serviceFactory.getService([s.APM_SERVER,s.LOGGING_SERVICE,s.CONFIG_SERVICE]),t=e[0],r=e[1],n=e[2];return t.fetchConfig(n.get("serviceName"),n.get("environment")).then(function(e){var t=e.transaction_sample_rate;if(t){var s={transactionSampleRate:t=Number(t)},i=n.validate(s).invalid;if(0===i.length)n.setConfig(s);else{var a=i[0],o=a.key,c=a.value,l=a.allowed;r.warn('invalid value "'+c+'" for '+o+". Allowed: "+l+".")}}return e}).catch(function(e){r.warn("failed fetching config:",e)})},t._sendPageLoadMetrics=function(){var e=this.startTransaction(void 0,s.PAGE_LOAD,{managed:!0,canReuse:!0});if(e){e.addTask(s.PAGE_LOAD);var t=function(){setTimeout(function(){return e.removeTask(s.PAGE_LOAD)},s.PAGE_LOAD_DELAY)};"complete"===document.readyState?t():window.addEventListener("load",t)}},t.observe=function(e,t){this.serviceFactory.getService(s.CONFIG_SERVICE).events.observe(e,t)},t.config=function(e){var t=this.serviceFactory.getService([s.CONFIG_SERVICE,s.LOGGING_SERVICE]),r=t[0],n=t[1],i=r.validate(e),a=i.missing,o=i.invalid,c=i.unknown;if(c.length>0){var l="Unknown config options are specified for RUM agent: "+c.join(", ");n.warn(l)}if(0===a.length&&0===o.length)r.setConfig(e);else{var u="RUM agent isn't correctly configured. ";a.length>0&&(u+=a.join(", ")+" is missing",o.length>0&&(u+=", ")),o.forEach(function(e,t){var r=e.key,n=e.value,s=e.allowed;u+=r+' "'+n+'" contains invalid characters! (allowed: '+s+")"+(t!==o.length-1?", ":"")}),n.error(u),r.setConfig({active:!1})}},t.setUserContext=function(e){this.serviceFactory.getService(s.CONFIG_SERVICE).setUserContext(e)},t.setCustomContext=function(e){this.serviceFactory.getService(s.CONFIG_SERVICE).setCustomContext(e)},t.addLabels=function(e){this.serviceFactory.getService(s.CONFIG_SERVICE).addLabels(e)},t.setInitialPageLoadName=function(e){this.serviceFactory.getService(s.CONFIG_SERVICE).setConfig({pageLoadTransactionName:e})},t.startTransaction=function(e,t,r){if(this.isEnabled())return this.serviceFactory.getService(s.TRANSACTION_SERVICE).startTransaction(e,t,r)},t.startSpan=function(e,t,r){if(this.isEnabled())return this.serviceFactory.getService(s.TRANSACTION_SERVICE).startSpan(e,t,r)},t.getCurrentTransaction=function(){if(this.isEnabled())return this.serviceFactory.getService(s.TRANSACTION_SERVICE).getCurrentTransaction()},t.captureError=function(e,t){if(this.isEnabled())return this.serviceFactory.getService(s.ERROR_LOGGING).logError(e,t)},t.addFilter=function(e){this.serviceFactory.getService(s.CONFIG_SERVICE).addFilter(e)},e}()},{"@elastic/apm-rum-core":"7UYZK","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}]},["5Vz1N"],"5Vz1N","parcelRequire16e8"),globalThis.define=t;